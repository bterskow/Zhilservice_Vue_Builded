(function(){"use strict";var e={3343:function(e,t,s){var l=s(9242),a=s(3396);function n(e,t,s,l,n,o){const r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(r)}var o={name:"App"},r=s(89);const i=(0,r.Z)(o,[["render",n]]);var c=i,d=(s(7024),s(2483)),u=s(7139),m=s.p+"img/logo.c5e99b2e.jpg";const p={class:"WelcomePage"},h={class:"px-4 py-5 pb-1 border-bottom text-center bg-gradient text-white title-block"},g=(0,a.uE)('<img class="d-block mx-auto mb-4 border border-white border-2 rounded p-1 shadow-lg" src="'+m+'" alt="" width="100" height="100"><h1 class="display-6 fw-bold">Комунальне підприємство</h1><h3 class="display-7 fw-bold">&quot;ЖИЛСЕРВІС&quot;</h3><p class="mb-0">Черкаської</p><p class="mb-0">селищної ради</p>',5),b={class:"p-3 mt-5"},y={class:"container"},v=(0,a._)("hr",{class:"shadow m-0"},null,-1),w={class:"mt-1 d-flex flex-wrap align-items-center justify-content-center"},f={class:"nav d-none d-sm-flex col-12 me-lg-auto mb-2 justify-content-center mb-md-0"},_={class:"nav-item"},k={class:"nav-item"},S={class:"nav-item"},x={class:"mt-3 burger d-flex d-sm-none mb-2 flex-wrap w-100 align-items-center justify-content-center"},A=(0,a._)("button",{class:"btn border border-1 border-white btn-lg w-25 burger-btn text-white",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," ≡ ",-1),q={class:"dropdown-menu dropdown-menu-light text-center"},I={class:""},M={class:""},C={class:""},D={class:"d-flex",role:"search"},L=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",class:"mx-3",role:"img",viewBox:"0 0 24 24"},[(0,a._)("title",null,"Search"),(0,a._)("circle",{cx:"10.5",cy:"10.5",r:"7.5"}),(0,a._)("path",{d:"M21 21l-5.2-5.2"})],-1),P=[L],B=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},[(0,a._)("line",{x1:"4",y1:"4",x2:"16",y2:"16",stroke:"white","stroke-width":"2"}),(0,a._)("line",{x1:"4",y1:"16",x2:"16",y2:"4",stroke:"white","stroke-width":"2"})],-1),E=[B],F={class:"album py-5 bg-body-tertiary"},$={class:"container"},T=(0,a._)("div",{class:"row row-cols-1 row-cols-sm-2 row-cols-md-2 g-3 articles"},null,-1),U={key:0,class:"mt-4"},j={key:1,class:"personal-accounts"},O={key:0,class:"d-flex pagination-nav align-items-center mt-5 justify-content-center","aria-label":"Page navigation example"},H={class:"pagination m-0"},z={class:"page-item"},Z=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,80 80,20 20,20",style:{fill:"black",stroke:"black","stroke-width":"3"}})])],-1),W=[Z],V={class:"page-item"},N=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,20 80,80 20,80",style:{fill:"black",stroke:"black","stroke-width":"3"}})])],-1),J=[N],Y={class:"container border-top"},K={class:"py-3"},R={class:"nav justify-content-center border-bottom pb-3 mb-3"},Q={class:"nav-item"},X={class:"nav-item"},G={class:"text-center text-body-secondary mb-0"},ee=(0,a._)("div",{class:"cs-loader d-none fixed-bottom"},[(0,a._)("div",{class:"cs-loader-inner"},[(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●")])],-1),te={class:"modal fade opacity-100"},se={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},le={class:"modal-content"},ae=(0,a.uE)('<div class="modal-header"><h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1></div><div class="modal-body"><p class=""></p><div id="carouselExample" class="carousel slide"><div class="carousel-inner"></div></div></div>',2),ne={class:"modal-footer"},oe={key:0};function re(e,t,s,n,o,r){const i=(0,a.up)("BackSwitcherButtonComponent"),c=(0,a.up)("UpButtonComponent"),d=(0,a.up)("PromStatePurchase"),m=(0,a.up)("PersonalAccountsPage"),L=(0,a.up)("ConfirmedWindow"),B=(0,a.up)("CaptchaModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",p,[(0,a.Wm)(i),(0,a.Wm)(c),(0,a.Wm)(d),(0,a._)("div",h,[g,(0,a._)("header",b,[(0,a._)("div",y,[v,(0,a._)("div",w,[(0,a._)("ul",f,[(0,a._)("li",_,[(0,a._)("button",{class:"btn shadow border text-white m-3 authModalButton",id:"authModalButton",onClick:t[0]||(t[0]=(...e)=>r.authModal&&r.authModal(...e))},"Увійти до кабінету")]),(0,a._)("li",k,[(0,a._)("button",{class:"btn btn-outline-warning btn-warning shadow text-white border m-3 news",onClick:t[1]||(t[1]=(...e)=>r.news&&r.news(...e))},"Новини")]),(0,a._)("li",S,[(0,a._)("button",{class:"btn btn-outline-warning shadow text-white border m-3 contacts",onClick:t[2]||(t[2]=(...e)=>r.contacts&&r.contacts(...e))},"Контакти")])]),(0,a._)("div",x,[A,(0,a._)("ul",q,[(0,a._)("li",I,[(0,a._)("span",{class:"dropdown-item authModalButton fw-bold",onClick:t[3]||(t[3]=(...e)=>r.authModal&&r.authModal(...e))},"Увійти до кабінету")]),(0,a._)("li",M,[(0,a._)("span",{class:"dropdown-item news",onClick:t[4]||(t[4]=(...e)=>r.news&&r.news(...e))},"Новини")]),(0,a._)("li",C,[(0,a._)("span",{class:"dropdown-item contacts",onClick:t[5]||(t[5]=(...e)=>r.contacts&&r.contacts(...e))},"Контакти")])])]),(0,a._)("form",D,[(0,a.wy)((0,a._)("input",{type:"search",class:"mx-1 form-control form-control-dark",placeholder:"Пошук...","onUpdate:modelValue":t[6]||(t[6]=e=>o.searcher_text=e)},null,512),[[l.nr,o.searcher_text]]),(0,a._)("button",{class:"mx-1 btn btn-outline-light btn-sm searcherSubmit",type:"submit",onClick:t[7]||(t[7]=(...e)=>r.searcher&&r.searcher(...e))},P),(0,a._)("button",{class:"mx-1 btn btn-danger d-none btn-sm backAllArticles",type:"submit",onClick:t[8]||(t[8]=(...e)=>r.backAllArticles&&r.backAllArticles(...e))},E)])])])])]),(0,a._)("div",F,[(0,a._)("div",$,[T,!0===o.contucts?((0,a.wg)(),(0,a.iD)("div",U,[((0,a.wg)(),(0,a.j4)(a.Ob,null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(o.anotherPage)))],1024))])):(0,a.kq)("",!0),!0===o.personal_accounts?((0,a.wg)(),(0,a.iD)("div",j,[(0,a.Wm)(m,{paymentsList:o.paymentsList},null,8,["paymentsList"])])):(0,a.kq)("",!0)]),!0===o.pagination?((0,a.wg)(),(0,a.iD)("nav",O,[(0,a._)("ul",H,[(0,a._)("li",z,[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[9]||(t[9]=(0,l.iM)(((...e)=>r.next&&r.next(...e)),["prevent"]))},W)]),(0,a._)("li",V,[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Prev",onClick:t[10]||(t[10]=(0,l.iM)(((...e)=>r.prev&&r.prev(...e)),["prevent"]))},J)])])])):(0,a.kq)("",!0)]),(0,a._)("div",Y,[(0,a._)("footer",K,[(0,a._)("ul",R,[(0,a._)("li",Q,[(0,a._)("button",{class:"nav-link m-2 news-footer",onClick:t[11]||(t[11]=(...e)=>r.news&&r.news(...e))},"Новини")]),(0,a._)("li",X,[(0,a._)("button",{class:"nav-link m-2 contacts-footer",onClick:t[12]||(t[12]=(...e)=>r.contacts&&r.contacts(...e))},"Контакти")])]),(0,a._)("p",G,"© "+(0,u.zw)(o.currentYear)+' КП "ЖИЛСЕРВІС"',1)])]),ee,(0,a.Wm)(L,{userId:o.userId,toastr:e.toastr,blockAllButtons:r.blockAllButtons,unBlockAllButtons:r.unBlockAllButtons},null,8,["userId","toastr","blockAllButtons","unBlockAllButtons"]),(0,a._)("div",te,[(0,a._)("div",se,[(0,a._)("div",le,[ae,(0,a._)("div",ne,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[13]||(t[13]=(...e)=>r.hideModal&&r.hideModal(...e))},"Приховати")])])])])]),o.captcha.modal?((0,a.wg)(),(0,a.iD)("div",oe,[(0,a.Wm)(B,{authUser:r.authUser,toastr:e.toastr,blockAllButtons:r.blockAllButtons,unBlockAllButtons:r.unBlockAllButtons,captcha:o.captcha},null,8,["authUser","toastr","blockAllButtons","unBlockAllButtons","captcha"])])):(0,a.kq)("",!0)],64)}s(7658);var ie=s(373),ce=s.n(ie);const de={class:"PersonalAccountsPage"},ue={class:"row mb-2"},me=["accountId"],pe={class:"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative"},he={class:"col p-4 d-flex flex-column position-static"},ge={class:"d-inline-block mb-2 text-primary-emphasis"},be={class:"mb-0"},ye={class:"text-body-secondary"},ve={class:"mb-1 text-body-secondary"},we=["onClick"],fe=["onClick"],_e={key:0,class:"d-flex pagination-nav align-items-center justify-content-center","aria-label":"Page navigation example"},ke={class:"pagination"},Se={class:"page-item"},xe=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,80 80,20 20,20",style:{fill:"black",stroke:"black","stroke-width":"3"}})])],-1),Ae=[xe],qe={class:"page-item"},Ie=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,20 80,80 20,80",style:{fill:"black",stroke:"black","stroke-width":"3"}})])],-1),Me=[Ie];function Ce(e,t,s,n,o,r){return(0,a.wg)(),(0,a.iD)("div",de,[(0,a._)("div",ue,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.paymentsList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-6 payment-card",key:e.id,accountId:e.account},[(0,a._)("div",pe,[(0,a._)("div",he,[(0,a._)("strong",ge,"№"+(0,u.zw)(e.id),1),(0,a._)("h4",be,(0,u.zw)(e.service),1),(0,a._)("div",ye,"Особовий рахунок: "+(0,u.zw)(e.account),1),(0,a._)("div",ve,"Адреса: "+(0,u.zw)(e.address),1),(0,a._)("a",{class:"icon-link gap-1 mt-1",onClick:(0,l.iM)((t=>r.lookAccount(e,this.url)),["prevent"])}," Переглянути рахунок ",8,we),(0,a._)("a",{class:"icon-link gap-1 mt-1",onClick:(0,l.iM)((t=>r.deleteAccount(e.id)),["prevent"])}," Видалити рахунок ",8,fe)])])],8,me)))),128))]),!0===o.payments_pagination?((0,a.wg)(),(0,a.iD)("nav",_e,[(0,a._)("ul",ke,[(0,a._)("li",Se,[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[0]||(t[0]=(0,l.iM)(((...e)=>r.next&&r.next(...e)),["prevent"]))},Ae)]),(0,a._)("li",qe,[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Prev",onClick:t[1]||(t[1]=(0,l.iM)(((...e)=>r.prev&&r.prev(...e)),["prevent"]))},Me)])])])):(0,a.kq)("",!0)])}var De=s(4161),Le={data(){return{url:this.$store.getters.getUrl}},methods:{async deleteMyProfileFunc(e){const t=await De.Z.delete(`${this.url}/user/profile/delete/${e}`),s=await t.data;return s},async showMailsFunc(){const e=await De.Z.get(`${this.url}/mails`),t=await e.data;return t},async showUsersFunc(){const e=await De.Z.get(`${this.url}/admin/users`),t=await e.data;return t},async answerMailFunc(e,t){const s=new FormData;s.append("email",e),s.append("message",t);const l=await De.Z.post(`${this.url}/send/answer`,s),a=await l.data;return a},async selectAccountsFunc(e){const t=new FormData;t.append("id",e);const s=await De.Z.post(`${this.url}/admin/accounts`,t),l=await s.data;return l},async deleteMessageFunc(e){const t=await De.Z.delete(`${this.url}/mail/delete/${e}`),s=await t.data;return s},async createArticleFunc(e,t,s,l){const a=new FormData;for(var n of l)a.append("images",n);a.append("title",e),a.append("text",t),a.append("articleType",s);const o=await De.Z.post(`${this.url}/articles`,a),r=await o.data;return r},async uploadAvatar(e,t){const s=new FormData;s.append("email",e),s.append("file",t);const l=await De.Z.post(`${this.url}/user/avatar/upload`,s),a=await l.data;return a},async profileUpdateFunc(e,t){const s=new FormData;s.append("current_email",e),s.append("f",t.f),s.append("e",t.e),s.append("p",t.p),s.append("phone",t.phone);const l=await De.Z.post(`${this.url}/user/profile/update`,s),a=await l.data;return a},async deleteAvatarFunc(e){const t=new FormData;t.append("email",e);const s=await De.Z.post(`${this.url}/user/avatar/delete`,t),l=await s.data;return l},async updateArticleFunc(e,t,s,l,a){const n=new FormData;if(a.length>0)for(var o of a)n.append("images",o);n.append("currentTitle",e),n.append("title",t),n.append("text",s),n.append("articleType",l);const r=await De.Z.put(`${this.url}/article/update`,n);var i=await r.data;return i},async deleteArticleFunc(e){const t=new FormData;t.append("currentTitle",e);const s=await De.Z.post(`${this.url}/article/delete`,t),l=await s.data;return l},async deleteArticleImage(e,t){const s=new FormData;s.append("currentTitle",e),s.append("filename",t);const l=await De.Z.post(`${this.url}/articles/image/delete`,s),a=await l.data;return a},async getArticleFunc(e){const t=new FormData;t.append("title",e);const s=await De.Z.post(`${this.url}/article/show`,t),l=await s.data;return l},async getAllArticlesFunc(e=null){const t=null===e?await De.Z.get(`${this.url}/articles`):await De.Z.get(`${this.url}/articles?articleType=${e}`),s=await t.data;return s},async deleteAllArticlesFunc(){const e=await De.Z.delete(`${this.url}/articles`),t=await e.data;return t},async searcherFunc(e){const t=new FormData;t.append("q",e);const s=await De.Z.post(`${this.url}/search/articles`,t),l=await s.data;return l},async auth(e,t){const s={"Content-Type":"application/json"},l=new FormData;l.append("p",e),l.append("e",t);const a=await De.Z.post(`${this.url}/user/auth`,l,{headers:s}),n=await a.data;return n},async signUp(e,t){const s={"Content-Type":"application/json"},l=new FormData;l.append("f",e),l.append("e",t);const a=await De.Z.post(`${this.url}/user`,l,{headers:s}),n=await a.data;return n},async resetPassword(e){const t={"Content-Type":"application/json"},s=new FormData;s.append("e",e);const l=await De.Z.post(`${this.url}/user/reset/password`,s,{headers:t}),a=await l.data;return a},async sendMail(e,t,s,l){const a=await De.Z.post(`${this.url}/send?fullname=${e}&email=${t}&phone=${s}&message=${l}`),n=await a.data;return n},async payments(e){const t=await De.Z.get(`${this.url}/user/payments?userId=${e}`),s=await t.data;return s},async payment(e){const t=await De.Z.get(`${this.url}/user/payment?account=${e}`),s=await t.data;return s},async create_payment(e,t,s,l,a,n,o){const r={"Content-Type":"application/json"},i=new FormData;i.append("userId",e),i.append("city",t),i.append("service",s),i.append("account",l),i.append("address",a),i.append("address_house",n),i.append("address_flat",o);const c=await De.Z.post(`${this.url}/user/payment/create`,i,{headers:r}),d=await c.data;return d},async delete_payment(e){const t=await De.Z.delete(`${this.url}/user/payment/delete?id=${e}`),s=await t.data;return s},async importExcelFunc(e,t){const s=new FormData;s.append("file",e),s.append("city",t);const l=await De.Z.post(`${this.url}/import`,s),a=await l.data;return a}}},Pe=s.p+"img/xlsx.dc85d04b.png",Be={name:"PersonalAccountsPage",mixins:[Le],props:{paymentsList:{}},data(){return{url:this.$store.getters.getUrl,payments_pagination:!1,payments_list:null,page:0,cards:null,xlsx:Pe}},mounted(){this.updatedData(),ce().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1300,toastClass:"custom-toast"}},updated(){this.updatedData()},methods:{updatedData(){this.cards=[...document.querySelectorAll(".payment-card")],this.deleteSession(),this.pagination()},deleteSession(){sessionStorage.removeItem("page"),sessionStorage.removeItem("page-single")},pagination(){this.paymentsList.length>2&&this.cards.length>2?(this.payments_pagination=!0,this.cards.forEach(((e,t)=>{t>=2&&e.classList.add("d-none")}))):this.payments_pagination=!1,window.scrollTo(0,document.body.scrollHeight)},prev(){const e="d-none";let t=0;if(null!==sessionStorage.getItem("page")&&parseInt(sessionStorage.getItem("page"))>0){for(let s=this.cards.length-1;s>=0;s--){const l=this.cards[s];t<2&&(null!==sessionStorage.getItem("page-single")?!l.classList.contains(e)&&t<1&&(l.classList.add(e),t++):!l.classList.contains(e)&&t<2&&(l.classList.add(e),t++))}sessionStorage.removeItem("page-single")}if(sessionStorage.getItem("page")){const e=parseInt(sessionStorage.getItem("page"))-1<0?0:parseInt(sessionStorage.getItem("page"))-1;sessionStorage.setItem("page",e)}},next(){const e="d-none";var t=0,s=!1;this.cards.forEach((l=>{l.classList.contains(e)&&t<2&&(s=!0,l.classList.remove(e),t++)})),1===t&&sessionStorage.setItem("page-single",!0),!0===s&&(sessionStorage.getItem("page")?sessionStorage.setItem("page",parseInt(sessionStorage.getItem("page"))+1):sessionStorage.setItem("page",1)),window.scrollTo(0,document.body.scrollHeight)},blockAllButtons(){document.querySelector(".news").disabled=!0,document.querySelector(".contacts").disabled=!0,document.querySelector(".searcherSubmit").disabled=!0,document.querySelector(".authModalButton").disabled=!0,document.querySelector(".news-footer").disabled=!0,document.querySelector(".contacts-footer").disabled=!0,document.querySelector("input[type='search']").disabled=!0,document.querySelector(".album").style.pointerEvents="none"},unBlockAllButtons(){document.querySelector(".news").disabled=!1,document.querySelector(".contacts").disabled=!1,document.querySelector(".searcherSubmit").disabled=!1,document.querySelector(".authModalButton").disabled=!1,document.querySelector(".news-footer").disabled=!1,document.querySelector(".contacts-footer").disabled=!1,document.querySelector("input[type='search']").disabled=!1,document.querySelector(".album").style.pointerEvents="auto"},async deleteAccount(e){document.querySelector(".cs-loader").classList.remove("d-none"),this.blockAllButtons();try{const s=await this.delete_payment(e);if(200===s.status){var t=sessionStorage.getItem("accounts_page");null!==t&&sessionStorage.removeItem("accounts_page"),ce().options.onHidden=()=>{window.location.reload()},ce().success("",s.message)}else ce().options.onHidden=()=>{},ce().error("",s.message),document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}catch(s){ce().options.onHidden=()=>{},ce().error("",s),console.error(s),document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}},async lookAccount(e,t){const s=(new Date).getDate(),l=(new Date).getMonth()+1,a=(new Date).getFullYear(),n=(s<10?"0"+s:s)+"."+(l<10?"0"+l:l)+"."+a;document.querySelector(".carousel-inner").innerHTML="",document.querySelector(".modal").classList.add("d-block"),document.querySelector(".modal-title").innerText=`№${e.id}`,document.querySelector(".modal-body > p").innerHTML=`\n        <div class="card-body">\n          <ul class="list-unstyled mt-2 mb-4">\n            <li><b>Номер особового рахунку:</b> ${e.account}</li>\n            <li><b>Адреса:</b> ${e.address}</li>\n            <li><b>Послуга:</b> ${e.service}</li>\n            <li><b>Сума боргу станом на ${n}:</b> ${e.debt>0?"+"+e.debt:e.debt} грн.</li>\n          </ul>\n          <a type="button" class="w-100 btn btn-sm btn-outline-danger shadow shadow-danger" href='${t}/billings/save?account=${e.account}' target='_blank'>\n              <img src='${this.xlsx}' width='30' height='30' alt='xlsx.png' />\n              <span class="mx-2">Завантажити борги по рахунку <span class="text-decoration-underline">${e.account}</span></span>\n          </a>\n        </div>\n      `}}};const Ee=(0,r.Z)(Be,[["render",Ce]]);var Fe=Ee;const $e={class:"dropdown position-fixed bottom-0 end-0 mb-3 me-3 up-block"},Te=(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,20 80,80 20,80",style:{fill:"white",stroke:"white","stroke-width":"3"}})],-1),Ue=[Te];function je(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",$e,[(0,a._)("button",{class:"btn btn-bd-primary py-2 d-flex align-items-center text-white shadow up-button",onClick:t[0]||(t[0]=(...e)=>o.up&&o.up(...e))},Ue)])}var Oe={name:"UpButtonComponent",methods:{up(){return window.scrollTo(0,0)}}};const He=(0,r.Z)(Oe,[["render",je]]);var ze=He;const Ze={class:"d-none d-sm-block mx-1 h-100 position-fixed leftPanel z-3"},We=["src"],Ve={key:0,class:"modal d-block",tabindex:"-1"},Ne={class:"modal-dialog"},Je={class:"modal-content"},Ye={class:"modal-header"},Ke=(0,a._)("h6",{class:"modal-title"},"Калькулятор вирахування платежу за послугу на 1м2",-1),Re=(0,a._)("div",{class:"modal-body"},[(0,a._)("p",{class:"m-0"},"Сервіс у розробці ...")],-1),Qe={class:"modal-footer"};function Xe(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Ze,[(0,a._)("div",null,[(0,a._)("div",null,[(0,a._)("img",{class:"purchase",width:"55",height:"50",src:n.logo,onClick:t[0]||(t[0]=(...e)=>o.orders&&o.orders(...e)),title:"Закупівлі"},null,8,We)])])]),n.calculator.modal?((0,a.wg)(),(0,a.iD)("div",Ve,[(0,a._)("div",Ne,[(0,a._)("div",Je,[(0,a._)("div",Ye,[Ke,(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=e=>n.calculator.modal=!1)})]),Re,(0,a._)("div",Qe,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=e=>n.calculator.modal=!1)},"Закрити")])])])])):(0,a.kq)("",!0)],64)}var Ge=s.p+"img/logo_3.382571a4.png",et=s.p+"img/calculator.9409e4e4.png",tt={data(){return{logo:Ge,calculator:{image:et,modal:!1}}},methods:{ordersModal(){const e=document.body,t=document.querySelector("#modal_prom_state_purchase_block");"block"===t.style.display?(t.style.display="none",e.style.overflow="auto"):(t.style.display="block",e.style.overflow="hidden")},orders(){this.calculator.modal=!1,this.ordersModal()},calculatorModal(){const e=document.body,t=document.querySelector("#modal_prom_state_purchase_block");t.style.display="none",e.style.overflow="auto",this.calculator.modal=!0}}};const st=(0,r.Z)(tt,[["render",Xe]]);var lt=st;const at={class:"contucts-form"},nt=(0,a.uE)('<div class="card contuctPageCard m-3"><div class="card-header bg-ligth text-black"><i class="fa fa-envelope"></i> Скринька довіри </div><div class="card-body"><form><div class="form-group"><label for="name">Ім&#39;я</label><input type="text" class="form-control" id="name" aria-describedby="nameHelp" placeholder="Введіть ваше ім&#39;я (Іван Іванов)" required></div><div class="form-group"><label for="email">Пошта</label><input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Введіть вашу пошту (ivanov@gmail.com)" required></div><div class="form-group"><label for="email">Номер телефона</label><input type="tel" class="form-control" id="phone" aria-describedby="phoneHelp" value="380" placeholder="Введіть ваш номер телефона (380...)" required></div><div class="form-group"><label for="message">Текст</label><textarea class="form-control" id="message" rows="6" required style="resize:none;"></textarea></div><div class="mx-auto mt-2"><button type="submit" class="btn btn-warning text-right sendMail">Відправити</button></div></form></div></div><div class="card bg-light mb-3 contuctPageCard m-3"><div class="card-header bg-ligth text-black"><i class="fa fa-home"></i>Наші контакти</div><div class="card-body"><p>Адреса: <strong>Дніпропетровська область, Новомосковський район, смт. Черкаське, вул. Лісна, буд. 18</strong></p><p>Пошта: <a class="fw-bold" href="mailto:zhylservice@gmail.com">zhylservice@gmail.com</a></p><p>Телефони: </p><ul class="fw-bold"><li>067-29-65-937 - ДИСПЕТЧЕР ЦІЛОДОБОВО</li><li>098-30-97-701 - інженер з організації експлуатації та ремонту Назаренко Олена Вікторівна (смт.Гвардійське)</li><li>098-34-90-675 - бухгалтер по роботі з населенням Бігун Тамара Юхимівна (смт. Гвардійське)</li><li>068-58-11-644 - інженер з організації експлуатації та ремонту Бахілов Олександр Павлович (смт. Черкаське)</li><li>068-56-52-032 - бухгалтер по роботі з населенням Степаненко Тамара Вікторівна (смт.Черкаське)</li></ul><p>Розклад звернень:</p><ul class="fw-bold m-0"><li>Понеділок-четвер з 8:00 год. до 17:15 год.</li><li>П&#39;ятниця з 8:00 год. до 16:00 год.</li></ul></div></div>',2),ot=[nt];function rt(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",at,ot)}var it={name:"ContactComponent"};const ct=(0,r.Z)(it,[["render",rt]]);var dt=ct;const ut={key:0,class:"modal d-block",tabindex:"-1"},mt={class:"modal-dialog"},pt={class:"modal-content"},ht=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title"},"Видалення профілю")],-1),gt=(0,a._)("div",{class:"modal-body"},[(0,a._)("p",{class:"m-0"},"Ви впевнені, що бажаєти видалити свій профіль?")],-1),bt={class:"modal-footer"};function yt(e,t,s,l,n,o){return e.$store.getters.getConfirmedWindowState?((0,a.wg)(),(0,a.iD)("div",ut,[(0,a._)("div",mt,[(0,a._)("div",pt,[ht,gt,(0,a._)("div",bt,[(0,a._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=e=>o.deleteMyProfile(s.userId))},"Так"),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=(...e)=>o.closeWindowFunc&&o.closeWindowFunc(...e))},"Ні")])])])])):(0,a.kq)("",!0)}var vt={name:"ConfirmedWindow",mixins:[Le],props:{userId:Number,toastr:Object,blockAllButtons:Function,unBlockAllButtons:Function},methods:{deleteUserInfo(){sessionStorage.removeItem("user"),sessionStorage.removeItem("userFullInfo"),sessionStorage.removeItem("current_email"),window.location.reload()},async deleteMyProfile(e){this.closeWindowFunc(),this.blockAllButtons(),document.querySelector(".cs-loader").classList.remove("d-none");try{const t=await this.deleteMyProfileFunc(e);if(200===t.status)return this.deleteUserInfo();ce().error(t.message)}catch(t){ce().error(t),console.error(t)}this.unBlockAllButtons(),document.querySelector(".cs-loader").classList.add("d-none")},closeWindowFunc(){this.$store.commit("editConfirmedWindowState")}}};const wt=(0,r.Z)(vt,[["render",yt]]);var ft=wt;const _t={class:"dropdown position-fixed end-0 mt-3 me-3 up-block"},kt=(0,a.uE)('<button class="btn dropdown-toggle py-2 d-flex align-items-center bg-light text-dark shadow" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (light)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="20" height="20"><circle cx="50" cy="50" r="40" fill="orange"></circle><line x1="50" y1="10" x2="50" y2="0" stroke="orange" stroke-width="10"></line><line x1="50" y1="90" x2="50" y2="100" stroke="orange" stroke-width="10"></line><line x1="10" y1="50" x2="0" y2="50" stroke="orange" stroke-width="10"></line><line x1="90" y1="50" x2="100" y2="50" stroke="orange" stroke-width="10"></line><line x1="30" y1="30" x2="20" y2="20" stroke="orange" stroke-width="10"></line><line x1="70" y1="70" x2="80" y2="80" stroke="orange" stroke-width="10"></line><line x1="70" y1="30" x2="80" y2="20" stroke="orange" stroke-width="10"></line><line x1="30" y1="70" x2="20" y2="80" stroke="orange" stroke-width="10"></line></svg></button>',1),St={class:"dropdown-menu dropdown-menu-end shadow px-2","aria-labelledby":"bd-theme-text"},xt=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"20",height:"20"},[(0,a._)("circle",{cx:"50",cy:"50",r:"40",fill:"green"})],-1),At=[xt],qt=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"20",height:"20"},[(0,a._)("circle",{cx:"50",cy:"50",r:"40",fill:"grey"})],-1),It=[qt],Mt=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"20",height:"20"},[(0,a._)("circle",{cx:"50",cy:"50",r:"40",fill:"black"})],-1),Ct=[Mt];function Dt(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",_t,[kt,(0,a._)("ul",St,[(0,a._)("li",null,[(0,a._)("button",{type:"button",class:"dropdown-item d-flex align-items-center justify-content-center","data-bs-theme-value":"success","aria-pressed":"true",onClick:t[0]||(t[0]=e=>o.switcher(1))},At)]),(0,a._)("li",null,[(0,a._)("button",{type:"button",class:"dropdown-item d-flex align-items-center justify-content-center","data-bs-theme-value":"secondary","aria-pressed":"false",onClick:t[1]||(t[1]=e=>o.switcher(2))},It)]),(0,a._)("li",null,[(0,a._)("button",{type:"button",class:"dropdown-item d-flex align-items-center justify-content-center","data-bs-theme-value":"dark","aria-pressed":"false",onClick:t[2]||(t[2]=e=>o.switcher(3))},Ct)])])])}var Lt={name:"UpButtonComponent",methods:{switcher(e){localStorage.setItem("theme",e);const t=document.querySelector(".title-block"),s=document.querySelector(".up-button"),l=document.querySelector(".burger-btn"),a=document.querySelector("#authModalButton"),n=[t,s,a,l];var o="bg-success";2==e?o="bg-secondary":3==e&&(o="bg-dark"),n.forEach((e=>{null!==e&&(e.classList.remove("bg-success","bg-secondary","bg-dark"),e.classList.add(o))}))}}};const Pt=(0,r.Z)(Lt,[["render",Dt]]);var Bt=Pt;const Et={class:"modal d-block",tabindex:"-1"},Ft={class:"modal-dialog d-flex align-items-center justify-content-center modal-dialog-scrollable"},$t={class:"modal-content w-50 captcha-modal text-dark"},Tt={class:"modal-header"},Ut=(0,a._)("h6",{class:"modal-title"},"РеКаптча",-1),jt={class:"modal-body"},Ot={class:"mb-3"},Ht=(0,a._)("label",{for:"city"},[(0,a.Uk)("Відповідь: "),(0,a._)("span",{class:"text-danger"},"*")],-1),zt={class:"input-group"},Zt=["disabled"];function Wt(e,t,s,n,o,r){return(0,a.wg)(),(0,a.iD)("div",Et,[(0,a._)("div",Ft,[(0,a._)("div",$t,[(0,a._)("div",Tt,[Ut,(0,a._)("button",{type:"button",class:"btn-close btn-close-dark","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=e=>s.captcha.modal=!1)})]),(0,a._)("div",jt,[(0,a._)("h3",null,(0,u.zw)(o.question_string),1),(0,a._)("div",Ot,[Ht,(0,a._)("div",zt,[(0,a.wy)((0,a._)("input",{class:"form-control w-100",style:{resize:"none"},"onUpdate:modelValue":t[1]||(t[1]=e=>o.answer=e)},null,512),[[l.nr,o.answer]])])]),(0,a._)("button",{class:"btn btn-outline-dark w-100 btn-lg btn-block",onClick:t[2]||(t[2]=(...e)=>r.continueAuth&&r.continueAuth(...e)),type:"submit",disabled:o.disabled},"Відправити",8,Zt)])])])])}var Vt={name:"CaptchaModal",mixins:[Le],props:{blockAllButtons:Function,unBlockAllButtons:Function,captcha:Object,toastr:Object,authUser:Function},data(){return{question:null,question_string:null,answer:null,disabled:!1}},mounted(){this.generateQuestion()},methods:{randomNumber(){return Math.round(9*Math.random())},generateQuestion(){var e=this.randomNumber(),t=this.randomNumber();return this.question_string=`${e} + ${t} = ?`,this.question=e+t},continueAuth(){var e=document.querySelector(".password"),t=document.querySelector(".userEmailAuth"),s=document.querySelector("#flexCheckDefault");document.querySelector(".auth"),document.querySelector(".forgetPassword"),document.querySelector(".registration");this.answer==this.question?(this.disabled=!0,this.blockAllButtons(),document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".modal").classList.remove("d-block"),setTimeout((async()=>{try{const a=await this.auth(e.value,t.value);if(200===a.status){var l=sessionStorage.getItem("accounts_page");null!==l&&sessionStorage.removeItem("accounts_page"),!0===s.checked&&(localStorage.setItem("p",e.value),localStorage.setItem("e",t.value)),29===a.result.r?(sessionStorage.setItem("admin",!0),sessionStorage.setItem("user","Адмін")):(sessionStorage.setItem("user",a.result.f),sessionStorage.setItem("userFullInfo",JSON.stringify(a.result))),this.captcha.modal=!1,this.authUser()}else ce().error(a.result)}catch(a){ce().error(a),console.error(a)}document.querySelector(".cs-loader").classList.add("d-none")}),900)):(ce().error("Невірно! Спробуйте ще раз!"),this.generateQuestion()),this.unBlockAllButtons()}}};const Nt=(0,r.Z)(Vt,[["render",Wt]]);var Jt=Nt,Yt={name:"WelcomePage",mixins:[Le,Le,Le,Le,Le,Le,Le,Le,Le,Le],components:{PersonalAccountsPage:Fe,UpButtonComponent:ze,PromStatePurchase:lt,ContactComponent:dt,ConfirmedWindow:ft,BackSwitcherButtonComponent:Bt,CaptchaModal:Jt},data(){return{url:this.$store.getters.getUrl,currentYear:(new Date).getFullYear(),searcher_text:"",modal:!1,contucts:null,personal_accounts:!1,paymentsList:null,pagination:!1,articles:null,anotherPage:null,userId:null,captcha:{modal:!1}}},mounted(){this.theme(),this.mountedFunc(),this.deletePaginData(),ce().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1600,toastClass:"custom-toast"}},updated(){this.deletePaginData()},created(){this.pagination=!1},methods:{theme(){const e=document.querySelector(".title-block"),t=document.querySelector(".up-button"),s=document.querySelector(".burger-btn"),l=document.querySelector("#authModalButton"),a=[e,t,l,s],n=localStorage.getItem("theme");var o="bg-success";null!==n&&(2==n?o="bg-secondary":3==n&&(o="bg-dark")),a.forEach((e=>{null!==e&&e.classList.add(o)}))},next(){const e="d-none";var t=0,s=!1;null!==this.articles&&this.articles.length>0&&this.articles.forEach((l=>{l.classList.contains(e)&&t<2&&(s=!0,l.classList.remove(e),t++)})),1===t&&sessionStorage.setItem("page-single",!0),!0===s&&(sessionStorage.getItem("page")?sessionStorage.setItem("page",parseInt(sessionStorage.getItem("page"))+1):sessionStorage.setItem("page",1)),window.scrollTo(0,document.body.scrollHeight)},prev(){const e="d-none";let t=0;if(null!==sessionStorage.getItem("page")&&parseInt(sessionStorage.getItem("page"))>0){for(let s=this.articles.length-1;s>=0;s--){const l=this.articles[s];t<2&&(null!==sessionStorage.getItem("page-single")?!l.classList.contains(e)&&t<1&&(l.classList.add(e),t++):!l.classList.contains(e)&&t<2&&(l.classList.add(e),t++))}sessionStorage.removeItem("page-single")}if(sessionStorage.getItem("page")){const e=parseInt(sessionStorage.getItem("page"))-1<0?0:parseInt(sessionStorage.getItem("page"))-1;sessionStorage.setItem("page",e)}},deletePaginData(){sessionStorage.removeItem("page"),sessionStorage.removeItem("page-single")},mountedFunc(){const e=sessionStorage.getItem("currentyPage");if(null!==e){if(1==e)return this.news();if(3==e)return this.authUser(),this.contacts();if(4==e)return this.authUser(),this.toBillingsPage()}return this.saveArticles()},authUser(){document.querySelector(".modal").classList.remove("d-block"),this.ifUserAuth()},unDisabledAuthButton(e,t,s){e.value.replaceAll(" ","").length<8||!this.ifValidEmail(t.value.replaceAll(" ",""))?s.disabled=!0:s.disabled=!1},ifValidEmail(e){var t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},unDisabledResetPasswordButton(e,t,s,l){t=null!==t?t.value.replaceAll(" ","").length:null,e=null!==e?e.value.replaceAll(" ","").length:null,s=null!==s?this.ifValidEmail(s.value.replaceAll(" ","")):null,l.disabled=null!==t&&t<8||null!==e&&0===e||null!==s&&!s},logOutFunc(){sessionStorage.removeItem("user"),sessionStorage.removeItem("admin"),sessionStorage.removeItem("userFullInfo"),sessionStorage.removeItem("current_email"),this.authUser(),this.news()},async resetPasswordFunc(e){this.blockAllButtons(),document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".modal-content").style.pointerEvents="none";try{const t=await this.resetPassword(e);200===t.status&&document.querySelector(".modal").classList.remove("d-block"),ce().warning(t.result)}catch(t){ce().error(t),console.error(t)}this.unBlockAllButtons(),document.querySelector(".modal-content").style.pointerEvents="auto",document.querySelector(".cs-loader").classList.add("d-none")},async signUpFunc(e,t){this.blockAllButtons(),document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".modal").classList.remove("d-block");try{const s=await this.signUp(e.value,t.value);200===s.status?ce().success(s.result):ce().error(s.result)}catch(s){ce().error(s),console.error(s)}this.unBlockAllButtons(),document.querySelector(".cs-loader").classList.add("d-none")},forgetPasswordContent(){document.querySelector(".modal-title").innerText="Відновлення паролю",document.querySelector(".modal-body > p").innerHTML='\n        <form class="mt-3">\n          <div class="form-floating mt-2 mb-2">\n            <input type="email" class="form-control userEmail" id="floatingInputEmail" placeholder="">\n            <label for="floatingInputEmail">Пошта</label>\n          </div>\n\n          <div class=\'mt-4 w-100\'>\n            <button class="btn btn-outline-danger w-50 py-2 resetPassword" type="submit" disabled>Відновити пароль</button>\n            <button class="btn btn-outline-primary py-2 signIn" type="submit">Увійти</button>\n          <div>\n        </form>\n      ';var e=document.querySelector(".userEmail"),t=document.querySelector(".resetPassword"),s=document.querySelector(".signIn");e.addEventListener("input",(()=>this.unDisabledResetPasswordButton(null,null,e,t))),t.onclick=t=>{t.preventDefault(),this.resetPasswordFunc(e.value)},s.onclick=e=>{e.preventDefault(),this.authModal()}},registrationContent(){document.querySelector(".modal-title").innerText="Реєстрація юзера",document.querySelector(".modal-body > p").innerHTML='\n        <form class="mt-3">\n          <div class="form-floating mt-2 mb-2">\n            <input type="fullname" class="form-control name" id="floatingInput" placeholder="">\n            <label for="floatingInput">Ім\'я та прізвище</label>\n          </div>\n          <div class="form-floating mt-2 mb-2">\n            <input type="email" class="form-control userEmail" id="floatingInputEmail" placeholder="">\n            <label for="floatingInputEmail">Пошта</label>\n          </div>\n\n          <div class=\'mt-4 w-100\'>\n            <button class="btn btn-outline-danger w-50 py-2 signUp" type="submit" disabled>Зареєструватися</button>\n            <button class="btn btn-outline-primary text-center py-2 signIn" type="submit">Увійти</button>\n          <div>\n        </form>\n      ';var e=document.querySelector(".name"),t=document.querySelector(".userEmail"),s=document.querySelector(".signUp"),l=document.querySelector(".signIn");e.addEventListener("input",(()=>this.unDisabledResetPasswordButton(e,null,t,s))),t.addEventListener("input",(()=>this.unDisabledResetPasswordButton(e,null,t,s))),s.onclick=s=>{s.preventDefault(),this.signUpFunc(e,t)},l.onclick=e=>{e.preventDefault(),this.authModal()}},authModal(){const e=sessionStorage.getItem("user");if(document.querySelector(".carousel-inner").innerHTML="",document.querySelector(".modal").classList.add("d-block"),e){const t=sessionStorage.getItem("admin");if(document.querySelector(".modal-title").innerText=e,t){document.querySelector(".modal-body > p").innerHTML='\n            <div class="auth-wrapper mt-3">\n              <div class="auth-content">\n                <nav class="sidebar">\n                  <ul class="nav flex-column fw-bold">\n\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="toAdminPanel nav-link">До адмінки</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="logOut nav-link">Разлогінитись</a></li>\n                  \n                  </ul>\n                </nav>\n              </div>\n            </div>\n          ';const e=document.querySelector(".toAdminPanel");e.onclick=e=>(e.preventDefault(),this.$router.push({name:"admin"}))}else{const e=document.querySelector(".modal-body > p");e.innerHTML='\n            <div class="auth-wrapper mt-3">\n              <div class="auth-content">\n                <nav class="sidebar">\n                  <ul class="nav flex-column fw-bold">\n\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="toBillings nav-link">Передивитись рахунки</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="addPaymentAccount nav-link">Додати рахунок</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="editProfile nav-link">Редагувати профіль</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="logOut nav-link">Разлогінитись</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="deleteMyself nav-link text-danger">Видалити профіль</a></li>\n                  \n                  </ul>\n                </nav>\n              </div>\n            </div>\n          ';const t=document.querySelector(".toBillings"),s=document.querySelector(".addPaymentAccount"),l=document.querySelector(".editProfile"),a=document.querySelector(".deleteMyself");l.onclick=e=>{this.$router.push({name:"profile"})},a.onclick=e=>{e.preventDefault(),document.querySelector(".modal").classList.remove("d-block"),this.$store.commit("editConfirmedWindowState");var t=sessionStorage.getItem("userFullInfo");t=JSON.parse(t),t=t["id"],this.userId=t},t.onclick=async e=>{e.preventDefault(),this.toBillingsPage()},s.onclick=async t=>{t.preventDefault(),e.innerHTML='\n              <div class="auth-wrapper mt-3">\n                <div class="auth-content">\n                  <div class=\'form\'>\n                    <div class="mb-2">\n                      <label for="exampleInputService1" class="form-label fw-bold">Виберіть послугу:</label>\n                      <select class="form-select" id="exampleInputService1">\n                        \x3c!-- <option value="Водопостачання" selected>Водопостачання</option> --\x3e\n                        <option value="Побутові відходи">Побутові відходи</option>\n                        \x3c!-- <option value="Газопостачання">Газопостачання</option> --\x3e\n                        <option value="Тепломережа">Тепломережа</option>\n                        <option value="Квартплата">Квартплата</option>\n                      </select>\n                    </div>\n                    <div class="mb-2">\n                      <label for="exampleInputAccount1" class="form-label fw-bold">Номер особового рахункy:</label>\n                      <input type="text" class="form-control" id="exampleInputAccount1">\n                    </div>\n                    <div class="mb-2">\n                      <label for="exampleInputAddress1" class="form-label fw-bold">Адреса:</label>\n                      <select class="form-select" id="exampleInputAddress1">\n                        <option value="Черкаське" selected>Черкаське</option>\n                        <option value="Гвардійське">Гвардійське</option>\n                      </select>\n                      <input type="text" placeholder="Вулиця" class="form-control mt-2" id="street">\n                      <input type="number" min="0" placeholder="Будинок" class="form-control mt-2" id="house">\n                      <select class="form-select mt-2" id="exampleInputApartment1">\n                        <option value="" selected disabled>Корпус</option>\n                        <option value="">Відсутній</option>\n                        <option value="А">А</option>\n                        <option value="Б">Б</option>\n                        <option value="В">В</option>\n                        <option value="Г">Г</option>\n                        <option value="Д">Д</option>\n                      </select>\n                      <input type="number" min="0" placeholder="Квартира" class="form-control mt-2" id="flat">\n                    </div>\n                    <button type="submit" class="btn btn-outline-dark" id="savingAccountButton" disabled>Зберегти</button>\n                  </div>\n                </div>\n              </div>\n            ';const s=document.getElementById("exampleInputService1"),l=document.getElementById("exampleInputAccount1"),a=document.getElementById("exampleInputAddress1"),n=document.getElementById("street"),o=document.getElementById("house"),r=document.getElementById("exampleInputApartment1"),i=document.getElementById("flat"),c=document.getElementById("savingAccountButton");function d(){""===s.value||0===l.value.replaceAll(" ","").length||""===a.value||0===n.value.replaceAll(" ","").length||0===o.value.replaceAll(" ","").length||0===i.value.replaceAll(" ","").length?c.disabled=!0:c.disabled=!1}s.addEventListener("change",d),l.addEventListener("input",d),a.addEventListener("change",d),n.addEventListener("input",d),o.addEventListener("input",d),i.addEventListener("input",d),c.onclick=e=>{e.preventDefault(),document.querySelector(".modal").classList.remove("d-block"),document.querySelector(".cs-loader").classList.remove("d-none"),this.blockAllButtons();var t=sessionStorage.getItem("userFullInfo");t=JSON.parse(t),t=t["id"];const c=s.value.trim(),d=l.value.trim(),u=o.value.trim()+`${""!==r.value&&r.value}`,m=i.value.trim(),p="смт. "+a.value.trim()+", вул. "+n.value.trim()+", буд. "+o.value.trim()+`${""!==r.value?r.value:""}, кв. `+i.value.trim();return this.createPaymentFunc(t,a.value.trim(),c,d,p,u,m)}}}const s=document.querySelector(".logOut");s.onclick=e=>(e.preventDefault(),this.logOutFunc())}else{document.querySelector(".modal-title").innerText="Авторизація",document.querySelector(".modal-body > p").innerHTML='\n          <form class="mt-3">\n            <div class="form-floating mt-2 mb-2">\n              <input type="email" class="form-control userEmailAuth" id="floatingInputEmail" placeholder="">\n              <label for="floatingInputEmail">Пошта</label>\n            </div>\n            <div class="form-floating mt-2 mb-2">\n              <input type="password" class="form-control password" id="floatingPassword" placeholder="Password">\n              <label for="floatingPassword">Пароль</label>\n            </div>\n\n            <div class="form-check text-start my-3">\n              <input class="form-check-input" type="checkbox" value="remember-me" id="flexCheckDefault">\n              <label class="form-check-label" for="flexCheckDefault">\n                Запам\'ятати мене\n              </label>\n            </div>\n\n            <button class="btn btn-outline-primary w-25 py-2 auth" type="submit" disabled>Увійти</button>\n            <button class="btn btn-outline-primary w-50 py-2 registration" type="submit">Зареєструватися</button>\n            <div class="form-check text-start my-3 p-0">\n              <a class=\'link-opacity-100 forgetPassword\'>Забули пароль?</a>\n            </div>\n          </form>\n        ';var t=document.querySelector(".password"),s=document.querySelector(".userEmailAuth"),l=document.querySelector("#flexCheckDefault"),a=document.querySelector(".auth"),n=document.querySelector(".forgetPassword"),o=document.querySelector(".registration");localStorage.getItem("p")&&localStorage.getItem("e")&&(l.checked=!0,a.disabled=!1,s.value=localStorage.getItem("e"),t.value=localStorage.getItem("p")),a.addEventListener("click",(async e=>{e.preventDefault(),this.captcha.modal=!0})),l.addEventListener("change",(()=>{localStorage.getItem("p")&&localStorage.getItem("e")?(localStorage.removeItem("p",t.value),localStorage.removeItem("e",s.value)):t.value.replaceAll(" ","").length>7&&this.ifValidEmail(s.value)&&(localStorage.setItem("p",t.value),localStorage.setItem("e",s.value))})),n.addEventListener("click",(async e=>{e.preventDefault(),this.forgetPasswordContent()})),o.addEventListener("click",(async e=>{e.preventDefault(),this.registrationContent()})),t.addEventListener("input",(()=>this.unDisabledAuthButton(t,s,a))),s.addEventListener("input",(()=>this.unDisabledAuthButton(t,s,a)))}},async toBillingsPage(){var e;if(this.blockAllButtons(),this.contucts=!1,this.pagination=!1,document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".modal").classList.remove("d-block"),document.querySelector(".articles").innerHTML="",this.editChooseButton(),null!==sessionStorage.getItem("accounts_page")){var t=sessionStorage.getItem("accounts_page");t=JSON.parse(t),(new Date).getTime()-parseInt(t["updated_at"])>3e5?e=await this.paymentsFunc():(this.paymentsList=t["list"],e=!0)}else e=await this.paymentsFunc();e?(this.personal_accounts=!0,sessionStorage.setItem("currentyPage",4)):(ce().error("Ваших особових рахунків не знайдено!"),this.news()),this.unBlockAllButtons(),document.querySelector(".cs-loader").classList.add("d-none")},async createPaymentFunc(e,t,s,l,a,n,o){try{const i=await this.create_payment(e,t,s,l,a,n,o);if(200===i.status){var r=sessionStorage.getItem("accounts_page");null!==r&&sessionStorage.removeItem("accounts_page"),4==sessionStorage.getItem("currentyPage")&&(ce().options.onHidden=()=>{window.location.reload()}),ce().success(i.message)}else ce().error(i.message)}catch(i){ce().error(i),console.error(i)}this.unBlockAllButtons(),document.querySelector(".cs-loader").classList.add("d-none")},editChooseButton(){document.querySelector(".news").classList.remove("btn-warning"),document.querySelector(".contacts").classList.remove("btn-warning")},hideModal(){document.querySelector(".modal").classList.remove("d-block")},async paymentsFunc(){var e=sessionStorage.getItem("userFullInfo");e=JSON.parse(e);const t=e["id"];try{const e=await this.payments(t);if(200===e.status){this.paymentsList=e.message;const t={list:e.message,updated_at:(new Date).getTime()};return sessionStorage.setItem("accounts_page",JSON.stringify(t)),!0}return!1}catch(s){return!1}},blockAllButtons(){const e=[...document.querySelectorAll(".news")],t=[...document.querySelectorAll(".contacts")],s=[...document.querySelectorAll(".authModalButton")],l=e=>{e.forEach((e=>e.disabled=!0))};l(e),l(t),l(s),document.querySelectorAll(".searcherSubmit").disabled=!0,document.querySelector(".news-footer").disabled=!0,document.querySelector(".contacts-footer").disabled=!0,document.querySelector(".searcherSubmit").disabled=!0,document.querySelector(".album").style.pointerEvents="none"},unBlockAllButtons(){const e=[...document.querySelectorAll(".news")],t=[...document.querySelectorAll(".contacts")],s=[...document.querySelectorAll(".authModalButton")],l=e=>{e.forEach((e=>e.disabled=!1))};l(e),l(t),l(s),document.querySelectorAll(".searcherSubmit").disabled=!1,document.querySelector(".news-footer").disabled=!1,document.querySelector(".contacts-footer").disabled=!1,document.querySelector(".searcherSubmit").disabled=!1,document.querySelector(".album").style.pointerEvents="auto"},news(){this.pagination=!1,this.personal_accounts=!1,this.contucts=null,this.editChooseButton(),this.saveArticles(1),document.querySelector(".news").classList.add("btn-warning")},contacts(){this.pagination=!1,this.personal_accounts=!1,this.contucts=!0,this.editChooseButton(),sessionStorage.setItem("currentyPage",3),document.querySelector(".articles").innerHTML="",this.anotherPage="ContactComponent",setTimeout((()=>{if(null!==sessionStorage.getItem("userFullInfo")){var e=JSON.parse(sessionStorage.getItem("userFullInfo")),t=e.f,s=e.e,l=e.phone;document.querySelector("input[aria-describedby='nameHelp']").value=t,document.querySelector("input[aria-describedby='emailHelp']").value=s,null!==l&&"null"!==l&&(document.querySelector("input[aria-describedby='phoneHelp']").value=l)}function a(e){const t=/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/;return t.test(e)}function n(e){const t=e.replace(/\s/g,""),s=/^(?:\+380|380|0)\d{9,12}$/;return s.test(t)}document.querySelector(".contacts").classList.add("btn-warning"),document.querySelector(".sendMail").addEventListener("click",(async e=>{e.preventDefault(),document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".sendMail").disabled=!0,this.blockAllButtons();const t=document.querySelector("#name"),s=document.querySelector("#email").value,l=document.querySelector("#phone").value,o=document.querySelector("#message");if(t.value.replace(/ /g,"").length>0&&a(s)&&o.value.replace(/ /g,"").length>0&&n(l))try{const e=await this.sendMail(t.value,s,l,o.value);200===e.status?ce().success("Повідомлення відправлено! Дякуємо Вам за активність!"):ce().error(e.result)}catch(i){ce().error(i),console.error(i)}else{var r=[];0===t.value.replace(/ /g,"").length&&r.push("ім'я"),0===o.value.replace(/ /g,"").length&&r.push("повідомлення"),!a(s)&&r.push("пошта"),!n(l)&&r.push("телефон"),r=r.join(", "),ce().error(`Некоректно вказані поля: ${r}!`)}document.querySelector(".sendMail").disabled=!1,document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}))}),1)},ifUserAuth(){const e=sessionStorage.getItem("user"),t=[...document.querySelectorAll(".authModalButton")];e?t.forEach((t=>t.innerText=e)):t.forEach((e=>e.innerText="Увійти до кабінету"))},async saveArticles(e=null){const t=document.querySelector(".articles");document.querySelector(".cs-loader").classList.remove("d-none"),this.blockAllButtons(),t.innerHTML="",this.ifUserAuth(),setTimeout((async()=>{try{var s,l=localStorage.getItem("articles");if(null!==l){l=JSON.parse(l);const t=l.updated_at;s=(new Date).getTime()-t<3e5?l.request:null===e?await this.getAllArticlesFunc():await this.getAllArticlesFunc(e)}else s=null===e?await this.getAllArticlesFunc():await this.getAllArticlesFunc(e);if(200===s.status){const l=s.result,a={request:s,updated_at:(new Date).getTime()};localStorage.setItem("articles",JSON.stringify(a)),l.forEach(((e,s)=>{const l=e.title,a=e.images.split(", "),n=a[0],o=e.text;var r=document.createElement("div");r.classList.add("col","article-col");var i=document.createElement("div");i.classList.add("card","shadow-sm");var c=document.createElement("div");c.classList.add("mb-5"),c.style.backgroundImage=`url(${this.url}/articles/image/${n})`,c.style.backgroundSize="contain",c.style.backgroundPositionX="center",c.style.backgroundPositionY="center",c.style.backgroundRepeat="no-repeat",c.style.height="225px",c.style.width="100%";var d=document.createElement("div");i.classList.add("card-body");var u=document.createElement("div");u.classList.add("card-text"),u.innerText=l.length>26?l.substring(0,23)+" ...":l,u.setAttribute("title",l);var m=document.createElement("div");m.classList.add("d-flex","justify-content-between","align-items-center");var p=document.createElement("div");p.classList.add("btn-group");var h=document.createElement("a");h.classList.add("btn","btn-sm","btn-outline-secondary","mt-1"),h.innerText="Детальніше ...",h.addEventListener("click",(()=>{document.querySelector(".modal").classList.add("d-block"),document.querySelector(".modal-title").innerText=l,document.querySelector(".modal-body > p").innerHTML=o,document.querySelector(".carousel-inner").innerHTML="",a.forEach((e=>{var t=document.createElement("img");t.classList.add("d-block","mt-2","mb-2","w-100"),t.src=`${this.url}/articles/image/${e}`,t.alt=e,document.querySelector(".carousel-inner").append(t)}))})),p.append(h),m.append(p),d.prepend(m),d.prepend(u),i.prepend(d),i.prepend(c),r.append(i),t.append(r),s>=2&&(r.classList.add("d-none"),this.articles=[...document.querySelectorAll(".article-col")])})),sessionStorage.setItem("currentyPage",e),l.length>2?this.pagination=!0:this.pagination=!1}else ce().error(s.result)}catch(a){ce().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),console.error(a)}return document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}),1)},async searcher(e){e.preventDefault();var t=document.querySelector(".articles");document.querySelector(".cs-loader").classList.remove("d-none"),this.blockAllButtons(),setTimeout((async()=>{if(null!==this.searcher_text&&this.searcher_text.trim().length>0){var e=this.searcher_text;try{var s=await this.searcherFunc(e);if(200===s.status){this.contucts=null,this.personal_accounts=!1;var l=s.result;l.length>0?(this.contucts=null,this.editChooseButton(),document.querySelector(".news").classList.add("btn-warning"),t.innerHTML="",l.forEach(((e,s)=>{var l=e.title,a=e.images.split(", "),n=a[0],o=e.text,r=document.createElement("div");r.classList.add("col","article-col");var i=document.createElement("div");i.classList.add("card","shadow-sm");var c=document.createElement("div");c.classList.add("mb-5"),c.style.backgroundImage=`url(${this.url}/articles/image/${n})`,c.style.backgroundSize="contain",c.style.backgroundPositionX="center",c.style.backgroundPositionY="center",c.style.backgroundRepeat="no-repeat",c.style.height="225px",c.style.width="100%";var d=document.createElement("div");i.classList.add("card-body");var u=document.createElement("div");u.classList.add("card-text"),u.innerText=l.length>26?l.substring(0,23)+" ...":l,u.setAttribute("title",l);var m=document.createElement("div");m.classList.add("d-flex","justify-content-between","align-items-center");var p=document.createElement("div");p.classList.add("btn-group");var h=document.createElement("a");h.classList.add("btn","btn-sm","btn-outline-secondary","mt-1"),h.innerText="Детальніше ...",h.addEventListener("click",(()=>{document.querySelector(".modal").classList.add("d-block"),document.querySelector(".modal-title").innerText=l,document.querySelector(".modal-body > p").innerHTML=o,document.querySelector(".carousel-inner").innerHTML="",a.forEach((e=>{var t=document.createElement("img");t.classList.add("d-block","w-100","mt-2","mb-2"),t.src=`${this.url}/articles/image/${e}`,t.alt=e,document.querySelector(".carousel-inner").append(t)}))})),p.append(h),m.append(p),d.prepend(m),d.prepend(u),i.prepend(d),i.prepend(c),r.append(i),t.append(r),s>=2&&(r.classList.add("d-none"),this.articles=[...document.querySelectorAll(".article-col")])})),document.querySelector(".backAllArticles").classList.remove("d-none"),l.length>2?this.pagination=!0:this.pagination=!1):ce().error("Інформації не знайдено!")}else ce().error(s.result)}catch(a){ce().error(a),console.error(a)}}else{const e=document.querySelector("input[type='search']");e.classList.add("border","border-danger","border-2"),setTimeout((()=>{e.classList.remove("border","border-danger","border-4")}),1500)}document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}),1e3)},async backAllArticles(e){e.preventDefault(),this.searcher_text="",this.pagination=!1,await this.mountedFunc(),document.querySelector(".backAllArticles").classList.add("d-none")}}};const Kt=(0,r.Z)(Yt,[["render",re]]);var Rt=Kt;const Qt={class:"ProfilePage"},Xt={class:"px-4 py-5 pb-1 border-bottom text-center bg-gradient text-white title-block"},Gt=(0,a.uE)('<img class="d-block mx-auto mb-4 border border-white border-2 rounded p-1 shadow-lg" src="'+m+'" alt="" width="100" height="100"><h1 class="display-6 fw-bold">Комунальне підприємство</h1><h3 class="display-7 fw-bold">&quot;ЖИЛСЕРВІС&quot;</h3><p class="mb-0">Черкаської</p><p class="mb-0">селищної ради</p>',5),es={class:"p-3 mt-5"},ts={class:"container"},ss=(0,a._)("hr",{class:"shadow"},null,-1),ls={class:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"},as={class:"nav d-none d-sm-flex col-12 me-lg-auto justify-content-center mb-md-0"},ns={class:"burger d-flex d-sm-none flex-wrap w-100 align-items-center justify-content-center"},os=(0,a._)("button",{class:"btn btn-success border border-1 border-white btn-lg w-25 burger-btn text-white",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," ≡ ",-1),rs={class:"dropdown-menu dropdown-menu-light text-center"},is={class:""},cs={class:"container rounded bg-white mt-5 mb-5"},ds={class:"row"},us={class:"col-md-4 border-right"},ms={class:"avatar-block d-flex flex-column align-items-center justify-content-center h-100 text-center p-3 py-5"},ps=["src"],hs={class:"col-md-8 border-right"},gs={class:"p-3 py-5"},bs=(0,a._)("div",{class:"d-flex justify-content-center align-items-center mb-3"},[(0,a._)("h4",{class:"text-center"},"Налаштування профілю")],-1),ys={class:"mt-2 d-flex justify-content-center align-items-center"},vs={class:"w-75"},ws=(0,a._)("label",{class:"labels"},"Ім'я та прізвище",-1),fs=(0,a._)("label",{class:"labels"},"Пароль",-1),_s=(0,a._)("label",{class:"labels"},"Номер телефону",-1),ks=(0,a._)("label",{class:"labels"},"Пошта",-1),Ss={class:"mt-5 text-center"},xs=(0,a._)("div",{class:"cs-loader d-none fixed-bottom"},[(0,a._)("div",{class:"cs-loader-inner"},[(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●")])],-1);function As(e,t,s,n,o,r){const i=(0,a.up)("BackSwitcherButtonComponent"),c=(0,a.up)("UpButtonComponent"),d=(0,a.up)("PromStatePurchase");return(0,a.wg)(),(0,a.iD)("div",Qt,[(0,a._)("div",null,[(0,a.Wm)(i),(0,a.Wm)(c),(0,a.Wm)(d),(0,a._)("div",Xt,[Gt,(0,a._)("header",es,[(0,a._)("div",ts,[ss,(0,a._)("div",ls,[(0,a._)("ul",as,[(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-warning m-2 text-white border border-white",onClick:t[0]||(t[0]=(...e)=>r.toMainPage&&r.toMainPage(...e))},"Назад до головної")])]),(0,a._)("div",ns,[os,(0,a._)("ul",rs,[(0,a._)("li",is,[(0,a._)("span",{class:"dropdown-item fw-bold",onClick:t[1]||(t[1]=(...e)=>r.toMainPage&&r.toMainPage(...e))},"Назад до головної")])])])])])])]),(0,a._)("div",cs,[(0,a._)("div",ds,[(0,a._)("div",us,[(0,a._)("div",ms,[(0,a._)("img",{class:"avatar border border-white rounded-2",width:"150",onClick:t[2]||(t[2]=(...e)=>r.avatar&&r.avatar(...e)),src:o.user.avatar},null,8,ps),"avatar.png"!==o.user.avatar.split("/").reverse()[0]?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-outline-danger mt-3",onClick:t[3]||(t[3]=(...e)=>r.deleteAvatar&&r.deleteAvatar(...e)),title:"Видалити зображення"},"🗑")):(0,a.kq)("",!0)])]),(0,a._)("div",hs,[(0,a._)("div",gs,[bs,(0,a._)("div",ys,[(0,a._)("div",vs,[(0,a._)("div",null,[ws,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":t[4]||(t[4]=e=>o.user.f=e)},null,512),[[l.nr,o.user.f]])]),(0,a._)("div",null,[fs,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",placeholder:"","onUpdate:modelValue":t[5]||(t[5]=e=>o.user.p=e)},null,512),[[l.nr,o.user.p]])]),(0,a._)("div",null,[_s,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":t[6]||(t[6]=e=>o.user.phone=e)},null,512),[[l.nr,o.user.phone]])]),(0,a._)("div",null,[ks,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":t[7]||(t[7]=e=>o.user.e=e)},null,512),[[l.nr,o.user.e]])])])]),(0,a._)("div",Ss,[(0,a._)("button",{class:"btn btn-primary profile-button",type:"button",onClick:t[8]||(t[8]=(0,l.iM)(((...e)=>r.profileUpdate&&r.profileUpdate(...e)),["prevent"]))},"Зберегти зміни")])])])])]),xs])])}var qs={name:"ProfilePage",mixins:[Le,Le,Le],components:{BackSwitcherButtonComponent:Bt,UpButtonComponent:ze,PromStatePurchase:lt},data(){return{user:null}},created(){this.auth()},mounted(){this.theme(),ce().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1600,toastClass:"custom-toast"}},methods:{disabledMenu(){document.querySelector("#app").style.pointerEvents="none",document.querySelector(".cs-loader").classList.remove("d-none")},unDisabledMenu(){document.querySelector("#app").style.pointerEvents="auto",document.querySelector(".cs-loader").classList.add("d-none")},theme(){const e=document.querySelector(".title-block"),t=document.querySelector(".up-button"),s=document.querySelector(".burger-btn"),l=document.querySelector("#authModalButton"),a=[e,t,l,s],n=localStorage.getItem("theme");var o="bg-success";null!==n&&(2==n?o="bg-secondary":3==n&&(o="bg-dark")),a.forEach((e=>{null!==e&&e.classList.add(o)}))},auth(){const e=sessionStorage.getItem("userFullInfo");return e?(this.user=JSON.parse(e),sessionStorage.setItem("current_email",this.user.e)):this.$router.push({name:"welcome"})},toMainPage(){return this.$router.push({name:"welcome"})},avatar(){const e=document.createElement("input");e.type="file",e.classList.add("invisible"),document.body.append(e),e.click(),e.addEventListener("change",(async t=>{if(0!==e.files.length){await this.disabledMenu();const t=e.files[0],l=sessionStorage.getItem("current_email");try{const e=await this.uploadAvatar(l,t),s=e.status,a=e.result;if(200===s){const t=e.user;"null"===t.phone&&(t.phone=null),sessionStorage.setItem("userFullInfo",JSON.stringify(t)),ce().options.onHidden=()=>{window.location.reload()},ce().success(a)}else ce().error(a),await this.unDisabledMenu()}catch(s){console.error(s),ce().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),await this.unDisabledMenu()}}else ce().info("Зображення не вибрано!"),await this.unDisabledMenu()})),document.body.removeChild(e)},async deleteAvatar(){await this.disabledMenu();try{const e=sessionStorage.getItem("current_email"),t=await this.deleteAvatarFunc(e),s=t.status,l=t.result;if(200===s){const e=t.user;"null"===e.phone&&(e.phone=null),sessionStorage.setItem("userFullInfo",JSON.stringify(e)),ce().options.onHidden=()=>{window.location.reload()},ce().success(l)}else ce().error(l),await this.unDisabledMenu()}catch(e){console.error(e),ce().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),await this.unDisabledMenu()}},async profileUpdate(){const e=this.user.f,t=this.user.e,s=this.user.p,l=null!==this.user.phone?this.ifValidPhone(this.user.phone.replaceAll(" ","")):null,a=sessionStorage.getItem("current_email");if(0!==e.replaceAll(" ","").length&&this.ifValidEmail(t.replaceAll(" ",""))&&s.replaceAll(" ","").length>7&&(!0===l||null===l)&&null!==a){await this.disabledMenu();try{const e=this.user,t=await this.profileUpdateFunc(a,e),s=t.status,l=t.result;if(200===s){const e=t.user;"null"===e.phone&&(e.phone=null),sessionStorage.setItem("userFullInfo",JSON.stringify(e)),sessionStorage.setItem("user",e.f),ce().options.onHidden=()=>{window.location.reload()},ce().success(l)}else ce().error(l),await this.unDisabledMenu()}catch(n){console.error(n),ce().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),await this.unDisabledMenu()}}else ce().info("Заповніть усі поля коректно!")},ifValidEmail(e){var t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},ifValidPhone(e){const t=e.replace(/\s/g,""),s=/^(?:\+380|380|0)\d{9,12}$/;return s.test(t)}}};const Is=(0,r.Z)(qs,[["render",As]]);var Ms=Is;const Cs={class:"AdminPage"},Ds={class:"px-4 py-5 pb-1 border-bottom text-center bg-gradient text-white title-block"},Ls=(0,a.uE)('<img class="d-block mx-auto mb-4 border border-white border-2 rounded p-1 shadow-lg" src="'+m+'" alt="" width="100" height="100"><h1 class="display-6 fw-bold">Комунальне підприємство</h1><h3 class="display-7 fw-bold">&quot;ЖИЛСЕРВІС&quot;</h3><p class="mb-0">Черкаської</p><p class="mb-0">селищної ради</p>',5),Ps={class:"p-3 mt-5"},Bs={class:"container"},Es=(0,a._)("hr",{class:"shadow"},null,-1),Fs={class:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"},$s={class:"nav d-none d-sm-flex col-12 me-lg-auto justify-content-center mb-md-0"},Ts={class:"burger d-flex d-sm-none flex-wrap w-100 align-items-center justify-content-center"},Us=(0,a._)("button",{class:"btn btn-success border border-1 border-white btn-lg w-25 burger-btn text-white",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," ≡ ",-1),js={class:"dropdown-menu dropdown-menu-light text-center"},Os={class:""},Hs={class:""},zs={class:""},Zs={class:""},Ws={class:""},Vs={class:""},Ns={class:""},Js={class:"container"},Ys={key:0,class:"row create_article mt-4 mb-3"},Ks={class:""},Rs={class:"row"},Qs={class:"col-md-4 mb-3"},Xs=(0,a._)("label",{for:"articleTitle"},[(0,a.Uk)("Назва статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),Gs=(0,a.uE)('<div class="row"><div class="mb-3 col-md-4"><label for="articleImage">Зображення (jpg, png) <span class="text-danger">*</span></label><div class="input-group"><input type="file" class="form-control" id="articleImage" multiple></div></div></div>',1),el={class:"mb-3 col-md-2"},tl=(0,a._)("label",{for:"articleType"},[(0,a.Uk)("Тип "),(0,a._)("span",{class:"text-danger"},"*")],-1),sl={class:"input-group"},ll=(0,a._)("option",{value:"1"},"Новина",-1),al=[ll],nl={class:"row ml-0"},ol={class:"mb-3 w-100"},rl=(0,a._)("label",{for:"articleText"},[(0,a.Uk)("Текст статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),il={key:1,class:"row update_article mb-3"},cl={class:"mt-4 mb-4",if:"article.articles !== null"},dl={ref:"myTable",class:"table table-striped table-bordered border text-center table-light table-hover"},ul=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{scope:"col"},"Назва статті"),(0,a._)("th",{scope:"col"},"Дії")])],-1),ml={scope:"row mt-1"},pl=["title"],hl=["onClick"],gl={class:""},bl={class:"row"},yl={class:"mb-3 col-md-4"},vl=(0,a._)("label",{for:"title"},[(0,a.Uk)("Назва статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),wl={class:"input-group"},fl=(0,a._)("div",{class:"input-group-prepend"},[(0,a._)("span",{class:"input-group-text"},"@")],-1),_l={key:0,class:"mt-4 founderArticle"},kl={class:"row"},Sl={class:"col-md-4 mb-3"},xl=(0,a._)("label",{for:"articleTitle"},[(0,a.Uk)("Назва статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),Al=(0,a.uE)('<div class="row"><div class="col-md-4"><label for="articleImage">Зображення (jpg, png)</label><div class="input-group"><input type="file" class="form-control" id="articleImage" multiple></div></div><div class="imagesSet mt-0 mb-2 d-flex row row-cols-3 row-cols-lg-6"></div></div>',1),ql={class:"mb-3 col-md-2"},Il=(0,a._)("label",{for:"articleType"},[(0,a.Uk)("Тип "),(0,a._)("span",{class:"text-danger"},"*")],-1),Ml={class:"input-group"},Cl=(0,a._)("option",{value:"1"},"Новина",-1),Dl=[Cl],Ll={class:"row ml-0"},Pl={class:"mb-3 w-100"},Bl=(0,a._)("label",{for:"articleText"},[(0,a.Uk)("Текст статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),El={key:2,class:"row delete_article"},Fl={class:"mt-4 mb-4",if:"article.articles !== null"},$l={ref:"myTable",class:"table table-striped table-bordered text-center border table-light table-hover"},Tl=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{scope:"col"},"Назва статті"),(0,a._)("th",{scope:"col"},"Дії")])],-1),Ul={scope:"row mt-1"},jl=["title"],Ol=["onClick"],Hl={class:""},zl={class:"row"},Zl={class:"mb-3"},Wl=(0,a._)("label",{for:"title"},[(0,a.Uk)("Назва статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),Vl={class:"input-group"},Nl=(0,a._)("div",{class:"input-group-prepend"},[(0,a._)("span",{class:"input-group-text"},"@")],-1),Jl={key:3,class:"row users mb-3"},Yl={class:"mt-4 mb-4",if:"users.users !== null"},Kl={class:"table-responsive"},Rl={ref:"myTable",class:"table table-striped table-bordered border text-center table-light table-hover"},Ql=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{scope:"col"},"Аватар"),(0,a._)("th",{scope:"col"},"Ім'я"),(0,a._)("th",{scope:"col"},"Пошта"),(0,a._)("th",{scope:"col"},"Телефон"),(0,a._)("th",{scope:"col"},"Дії")])],-1),Xl=["title"],Gl={class:"mt-1"},ea=["src"],ta=["title"],sa=["title"],la=["title"],aa=["onClick"],na={key:4,class:"row update_article mb-3"},oa={class:"mt-4 mb-4",if:"mail.messages !== null"},ra={class:"table-responsive"},ia={ref:"myTable",class:"table table-striped table-bordered border text-center table-light table-hover"},ca=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Ім'я відправника"),(0,a._)("th",{scope:"col"},"Пошта відправника"),(0,a._)("th",{scope:"col"},"Телефон відправника"),(0,a._)("th",{scope:"col"},"Дії")])],-1),da=["title"],ua=["title"],ma=["title"],pa=["onClick"],ha=["onClick"],ga={key:5,class:"row import mt-4 mb-3"},ba={class:""},ya=(0,a.uE)('<div class="row"><div class="mb-3 col-md-4"><label for="importFile">Файл (xls) <span class="text-danger">*</span></label><div class="input-group"><input type="file" class="form-control" id="importFile" multiple></div></div></div>',1),va={class:"mb-3 col-md-2"},wa=(0,a._)("label",{for:"city"},[(0,a.Uk)("Смт. "),(0,a._)("span",{class:"text-danger"},"*")],-1),fa={class:"input-group"},_a=(0,a._)("option",{value:"Гвардійське",selected:""},"Гвардійське",-1),ka=(0,a._)("option",{value:"Черкаське"},"Черкаське",-1),Sa=[_a,ka],xa=(0,a._)("div",{class:"cs-loader d-none fixed-bottom"},[(0,a._)("div",{class:"cs-loader-inner"},[(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●")])],-1),Aa={key:0},qa={key:1};function Ia(e,t,s,n,o,r){const i=(0,a.up)("BackSwitcherButtonComponent"),c=(0,a.up)("UpButtonComponent"),d=(0,a.up)("ckeditor"),m=(0,a.up)("MailsModal"),p=(0,a.up)("UsersModal");return(0,a.wg)(),(0,a.iD)("div",Cs,[(0,a._)("div",null,[(0,a.Wm)(i),(0,a.Wm)(c),(0,a._)("div",Ds,[Ls,(0,a._)("header",Ps,[(0,a._)("div",Bs,[Es,(0,a._)("div",Fs,[(0,a._)("ul",$s,[(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 createPage hover",onClick:t[0]||(t[0]=(...e)=>r.createPage&&r.createPage(...e))},"Створити статтю")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 updatePage",onClick:t[1]||(t[1]=(...e)=>r.updatePage&&r.updatePage(...e))},"Редагувати статтю")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 deletePage",onClick:t[2]||(t[2]=(...e)=>r.deletePage&&r.deletePage(...e))},"Видалити статтю")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 mailPage",onClick:t[3]||(t[3]=(...e)=>r.mailPage&&r.mailPage(...e))},"Перевірити пошту")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 usersPage",onClick:t[4]||(t[4]=(...e)=>r.usersPage&&r.usersPage(...e))},"Переглянути користувачів")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 importExcel",onClick:t[5]||(t[5]=(...e)=>r.importExcelPage&&r.importExcelPage(...e))},"Імпортувати дані")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-warning m-2 border border-white text-white",onClick:t[6]||(t[6]=(...e)=>r.toMainPage&&r.toMainPage(...e))},"Назад до головної")])]),(0,a._)("div",Ts,[Us,(0,a._)("ul",js,[(0,a._)("li",Os,[(0,a._)("span",{class:"dropdown-item createPage",onClick:t[7]||(t[7]=(...e)=>r.createPage&&r.createPage(...e))},"Створити статтю")]),(0,a._)("li",Hs,[(0,a._)("span",{class:"dropdown-item updatePage",onClick:t[8]||(t[8]=(...e)=>r.updatePage&&r.updatePage(...e))},"Редагувати статтю")]),(0,a._)("li",zs,[(0,a._)("span",{class:"dropdown-item deletePage",onClick:t[9]||(t[9]=(...e)=>r.deletePage&&r.deletePage(...e))},"Видалити статтю")]),(0,a._)("li",Zs,[(0,a._)("span",{class:"dropdown-item mailPage",onClick:t[10]||(t[10]=(...e)=>r.mailPage&&r.mailPage(...e))},"Перевірити пошту")]),(0,a._)("li",Ws,[(0,a._)("span",{class:"dropdown-item usersPage",onClick:t[11]||(t[11]=(...e)=>r.usersPage&&r.usersPage(...e))},"Переглянути користувачів")]),(0,a._)("li",Vs,[(0,a._)("span",{class:"dropdown-item importExcel",onClick:t[12]||(t[12]=(...e)=>r.importExcelPage&&r.importExcelPage(...e))},"Імпортувати дані")]),(0,a._)("li",Ns,[(0,a._)("span",{class:"dropdown-item fw-bold",onClick:t[13]||(t[13]=(...e)=>r.toMainPage&&r.toMainPage(...e))},"Назад до головної")])])])])])])]),(0,a._)("div",Js,["create"===o.page?((0,a.wg)(),(0,a.iD)("div",Ys,[(0,a._)("div",Ks,[(0,a._)("div",Rs,[(0,a._)("div",Qs,[Xs,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"articleTitle",placeholder:"",required:"","onUpdate:modelValue":t[14]||(t[14]=e=>o.article.title=e)},null,512),[[l.nr,o.article.title]])])]),Gs,(0,a._)("div",el,[tl,(0,a._)("div",sl,[(0,a.wy)((0,a._)("select",{class:"form-select",id:"articleType","onUpdate:modelValue":t[15]||(t[15]=e=>o.article.type=e)},al,512),[[l.bM,o.article.type]])])]),(0,a._)("div",nl,[(0,a._)("div",ol,[rl,(0,a.Wm)(d,{editor:o.editor,modelValue:o.editorData,"onUpdate:modelValue":t[16]||(t[16]=e=>o.editorData=e),config:o.editorConfig},null,8,["editor","modelValue","config"])])]),(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[17]||(t[17]=(...e)=>r.createArticle&&r.createArticle(...e)),type:"submit"},"Опублікувати")])])):(0,a.kq)("",!0),"update"===o.page?((0,a.wg)(),(0,a.iD)("div",il,[(0,a._)("div",cl,[(0,a._)("table",dl,[ul,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.article.articles,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("th",ml,(0,u.zw)(e.id),1),(0,a._)("td",{class:"mt-1",title:e.title},(0,u.zw)(e.title.length>30?e.title.substring(0,27)+"...":e.title),9,pl),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ВСТАВИТИ В ПОШУК",onClick:(0,l.iM)((t=>r.insertToInput(e.title)),["prevent"])}," 📝 ",8,hl)])])))),128))])],512)]),(0,a._)("div",gl,[(0,a._)("div",bl,[(0,a._)("div",yl,[vl,(0,a._)("div",wl,[fl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[18]||(t[18]=e=>o.article.find=e)},null,512),[[l.nr,o.article.find]])])])]),(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[19]||(t[19]=e=>r.findArticle(null)),type:"submit"},"Знайти")]),!0===o.article.search?((0,a.wg)(),(0,a.iD)("div",_l,[(0,a._)("div",kl,[(0,a._)("div",Sl,[xl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"articleTitle",placeholder:"",required:"","onUpdate:modelValue":t[20]||(t[20]=e=>o.article.title=e)},null,512),[[l.nr,o.article.title]])])]),Al,(0,a._)("div",ql,[Il,(0,a._)("div",Ml,[(0,a.wy)((0,a._)("select",{class:"form-select",id:"articleType","onUpdate:modelValue":t[21]||(t[21]=e=>o.article.type=e)},Dl,512),[[l.bM,o.article.type]])])]),(0,a._)("div",Ll,[(0,a._)("div",Pl,[Bl,(0,a.Wm)(d,{editor:o.editor,modelValue:o.editorData,"onUpdate:modelValue":t[22]||(t[22]=e=>o.editorData=e),config:o.editorConfig},null,8,["editor","modelValue","config"])])]),(0,a._)("button",{class:"btn btn-primary btn-lg btn-block",onClick:t[23]||(t[23]=(...e)=>r.updateArticle&&r.updateArticle(...e)),type:"submit"},"Зберегти")])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),"delete"===o.page?((0,a.wg)(),(0,a.iD)("div",El,[(0,a._)("div",Fl,[(0,a._)("table",$l,[Tl,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.article.articles,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("th",Ul,(0,u.zw)(e.id),1),(0,a._)("td",{class:"mt-1",title:e.title},(0,u.zw)(e.title.length>30?e.title.substring(0,27)+"...":e.title),9,jl),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ВСТАВИТИ В ПОШУК",onClick:(0,l.iM)((t=>r.insertToInput(e.title)),["prevent"])}," 📝 ",8,Ol)])])))),128))])],512)]),(0,a._)("div",Hl,[(0,a._)("div",zl,[(0,a._)("div",Zl,[Wl,(0,a._)("div",Vl,[Nl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[24]||(t[24]=e=>o.article.del=e)},null,512),[[l.nr,o.article.del]])])])]),(0,a._)("button",{class:"btn btn-danger btn-lg btn-block",onClick:t[25]||(t[25]=(...e)=>r.deleteArticle&&r.deleteArticle(...e)),type:"submit"},"Видалити"),(0,a._)("button",{class:"btn btn-outline-danger btn-lg btn-block m-3",onClick:t[26]||(t[26]=(...e)=>r.deleteAllArticles&&r.deleteAllArticles(...e)),type:"submit"},"Видалити все")])])):(0,a.kq)("",!0),"users"===o.page?((0,a.wg)(),(0,a.iD)("div",Jl,[(0,a._)("div",Yl,[(0,a._)("div",Kl,[(0,a._)("table",Rl,[Ql,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.users.users,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",{class:"mt-1",title:e.id},(0,u.zw)(e.id),9,Xl),(0,a._)("td",Gl,[(0,a._)("img",{src:e.avatar,width:"50"},null,8,ea)]),(0,a._)("td",{class:"mt-1",title:e.f},(0,u.zw)(e.f),9,ta),(0,a._)("td",{class:"mt-1",title:e.e},(0,u.zw)(e.e),9,sa),(0,a._)("td",{class:"mt-1",title:"null"!==e.phone&&e.phone},(0,u.zw)("null"!==e.phone&&e.phone),9,la),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ПЕРЕГЛЯНУТИ ДАНІ КОРИСТУВАЧА",onClick:(0,l.iM)((t=>r.showData(e)),["prevent"])}," 📝 ",8,aa)])])))),128))])],512)])])])):(0,a.kq)("",!0),"mail"===o.page?((0,a.wg)(),(0,a.iD)("div",na,[(0,a._)("div",oa,[(0,a._)("div",ra,[(0,a._)("table",ia,[ca,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.mail.messages,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",{class:"mt-1",title:e.name},(0,u.zw)(e.name),9,da),(0,a._)("td",{class:"mt-1",title:e.email},(0,u.zw)(e.email),9,ua),(0,a._)("td",{class:"mt-1",title:"null"!==e.phone&&e.phone},(0,u.zw)("null"!==e.phone&&e.phone),9,ma),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ПЕРЕГЛЯНУТИ ПОВІДОМЛЕННЯ ТА ВІДПОВІСТИ",onClick:(0,l.iM)((t=>r.showMessage(e)),["prevent"])}," 📝 ",8,pa),(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ВИДАЛИТИ ПОВІДОМЛЕННЯ",onClick:(0,l.iM)((t=>r.deleteMessage(e.id)),["prevent"])}," 🗑 ",8,ha)])])))),128))])],512)])])])):(0,a.kq)("",!0),"import"===o.page?((0,a.wg)(),(0,a.iD)("div",ga,[(0,a._)("div",ba,[ya,(0,a._)("div",va,[wa,(0,a._)("div",fa,[(0,a.wy)((0,a._)("select",{class:"form-select",id:"city","onUpdate:modelValue":t[27]||(t[27]=e=>o.import_data.city=e)},Sa,512),[[l.bM,o.import_data.city]])])]),(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[28]||(t[28]=(...e)=>r.importExcel&&r.importExcel(...e)),type:"submit"},"Імпортувати")])])):(0,a.kq)("",!0)]),xa,o.mail.modal?((0,a.wg)(),(0,a.iD)("div",Aa,[(0,a.Wm)(m,{mail:o.mail,disabledMenu:r.disabledMenu,unDisabledMenu:r.unDisabledMenu,currentyMessage:e.currentyMessage},null,8,["mail","disabledMenu","unDisabledMenu","currentyMessage"])])):(0,a.kq)("",!0),o.users.modal?((0,a.wg)(),(0,a.iD)("div",qa,[(0,a.Wm)(p,{users:o.users},null,8,["users"])])):(0,a.kq)("",!0)])])}const Ma={class:"modal d-block",tabindex:"-1"},Ca={class:"modal-dialog modal-dialog-scrollable"},Da={class:"modal-content"},La={class:"modal-header"},Pa={class:"modal-title"},Ba={class:"modal-body"},Ea={class:"table-responsive"},Fa={class:"table-bordered border-primary text-center"},$a=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"p-2",scope:"col"},"#"),(0,a._)("th",{class:"p-2",scope:"col"},"Номер о/р"),(0,a._)("th",{class:"p-2",scope:"col"},"Місто"),(0,a._)("th",{class:"p-2",scope:"col"},"Адреса"),(0,a._)("th",{class:"p-2",scope:"col"},"Послуга")])],-1),Ta={class:"p-2"},Ua={class:"p-2"},ja={class:"p-2"},Oa={class:"p-2"},Ha={class:"p-2"},za={class:"mt-3"},Za=["onClick"],Wa=["src"],Va={class:"mx-2"},Na={class:"text-decoration-underline"},Ja={class:"modal-footer"};function Ya(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",Ma,[(0,a._)("div",Ca,[(0,a._)("div",Da,[(0,a._)("div",La,[(0,a._)("h6",Pa,(0,u.zw)(s.users.currentUser.f),1),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=e=>s.users.modal=!1)})]),(0,a._)("div",Ba,[(0,a._)("div",Ea,[(0,a._)("table",Fa,[$a,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.users.currentAccounts,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",Ta,(0,u.zw)(e.id),1),(0,a._)("td",Ua,(0,u.zw)(e.account),1),(0,a._)("td",ja,(0,u.zw)(e.city),1),(0,a._)("td",Oa,(0,u.zw)(e.address),1),(0,a._)("td",Ha,(0,u.zw)(e.service),1)])))),128))])])]),(0,a._)("div",za,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.users.accountsId,(e=>((0,a.wg)(),(0,a.iD)("a",{key:e.id,type:"button",class:"w-100 btn btn-sm btn-outline-danger shadow shadow-danger my-1",target:"_blank",onClick:t=>o.download(e)},[(0,a._)("img",{src:n.xlsx,width:"30",height:"30",alt:"xlsx.png"},null,8,Wa),(0,a._)("span",Va,[(0,a.Uk)("Завантажити борги по рахунку "),(0,a._)("span",Na,(0,u.zw)(e),1)])],8,Za)))),128))])]),(0,a._)("div",Ja,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=e=>s.users.modal=!1)},"Закрити")])])])])}var Ka={name:"UsersModal",mixins:[],props:{users:Object},data(){return{url:this.$store.getters.getUrl,xlsx:Pe}},methods:{download(e){window.open(`${this.url}/billings/save?account=${e}`)}}};const Ra=(0,r.Z)(Ka,[["render",Ya]]);var Qa=Ra;const Xa={class:"modal d-block",tabindex:"-1"},Ga={class:"modal-dialog"},en={class:"modal-content"},tn={class:"modal-header"},sn={class:"modal-title"},ln={class:"modal-body"},an={class:"m-0"},nn=(0,a._)("hr",{class:"m-0"},null,-1),on={class:"modal-body"},rn={class:"mb-3"},cn=(0,a._)("label",{for:"city"},[(0,a.Uk)("Відповісти "),(0,a._)("span",{class:"text-danger"},"*")],-1),dn={class:"input-group"},un={class:"modal-footer"};function mn(e,t,s,n,o,r){return(0,a.wg)(),(0,a.iD)("div",Xa,[(0,a._)("div",Ga,[(0,a._)("div",en,[(0,a._)("div",tn,[(0,a._)("h6",sn,"Повідомлення від "+(0,u.zw)(s.currentyMessage.name),1),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=e=>s.mail.modal=!1)})]),(0,a._)("div",ln,[(0,a._)("p",an,(0,u.zw)(s.currentyMessage.message),1)]),nn,(0,a._)("div",on,[(0,a._)("div",rn,[cn,(0,a._)("div",dn,[(0,a.wy)((0,a._)("textarea",{class:"form-control w-100",style:{resize:"none"},rows:"5","onUpdate:modelValue":t[1]||(t[1]=e=>s.mail.answer=e)},null,512),[[l.nr,s.mail.answer]])])]),(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[2]||(t[2]=e=>r.answerMail(s.currentyMessage.email)),type:"submit"},"Відповісти")]),(0,a._)("div",un,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=e=>s.mail.modal=!1)},"Закрити")])])])])}var pn={name:"MailsModal",mixins:[Le],props:{mail:Object,currentyMessage:Object,unDisabledMenu:Function,disabledMenu:Function},mounted(){ce().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1300,toastClass:"custom-toast"}},methods:{async answerMail(e){const t=this.mail.answer;if(0!==t.replaceAll(" ","").length){this.disabledMenu();try{const s=await this.answerMailFunc(e,t);return 200===s.status?(this.unDisabledMenu(),ce().success(s.message)):(this.unDisabledMenu(),ce().error(s.message))}catch(s){console.error(s),ce().error(s)}}return this.unDisabledMenu(),ce().info("Ви не можете відправити пусте повідомлення!")}}};const hn=(0,r.Z)(pn,[["render",mn]]);var gn=hn,bn=(s(9498),s(4012),s(7387)),yn=s.n(bn),vn=s(6713),wn=s.n(vn),fn={name:"AdminPage",components:{UpButtonComponent:ze,BackSwitcherButtonComponent:Bt,UsersModal:Qa,MailsModal:gn},mixins:[Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le],data(){return{editor:wn(),editorData:"",editorConfig:{},currentYear:(new Date).getFullYear(),url:this.$store.getters.getUrl,page:"create",article:{title:null,text:null,link:null,find:null,type:null,del:null,articles:null,search:!1},import_data:{city:"Гвардійське"},mail:{messages:[{id:1,name:"ЖИЛСЕРВІС",email:"zhylservise@gmail.com",message:"Вітаю, працівник ЖИЛСЕРВІСу!"}],modal:!1,currentyMessage:null,answer:""},users:{users:[{id:1,f:"ЖИЛСЕРВІС",e:"zhylservise@gmail.com"}],modal:!1,currentUser:{id:1,f:"ЖИЛСЕРВІС",e:"zhylservise@gmail.com"},currentAccounts:[],accountsId:[]}}},created(){this.auth(),this.clearArticleOptions()},mounted(){this.theme(),ce().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1300,toastClass:"custom-toast"}},updated(){this.pagination()},methods:{async usersFunc(){var e,t=sessionStorage.getItem("usersStorage"),s=!0,l={request:null,created_at:(new Date).getTime()};function a(e){l.request=e,l=JSON.stringify(l),sessionStorage.setItem("usersStorage",l)}try{null!==t?(t=JSON.parse(t),(new Date).getTime()-t["created_at"]<=3e5?(s=!1,e=t["request"]):e=await this.showUsersFunc()):e=await this.showUsersFunc(),200===e["status"]?(this.users.users=e["message"],!0===s&&a(e)):ce().error(e["message"])}catch(n){console.error(n),ce().error("Користувачі відсутні!")}},theme(){const e=document.querySelector(".title-block"),t=document.querySelector(".up-button"),s=document.querySelector(".burger-btn"),l=document.querySelector("#authModalButton"),a=[e,t,l,s],n=localStorage.getItem("theme");var o="bg-success";null!==n&&(2==n?o="bg-secondary":3==n&&(o="bg-dark")),a.forEach((e=>{null!==e&&e.classList.add(o)}))},async showMails(){try{const e=await this.showMailsFunc();200===e["status"]?this.mail.messages=e["message"]:ce().error(e["message"])}catch(e){console.error(e),ce().error("Повідомлення відсутні!")}},showMessage(e){this.currentyMessage=e,this.mail.modal=!0},async selectAccounts(e){this.disabledMenu();try{const t=await this.selectAccountsFunc(e);if(200===t.status){this.users.currentAccounts=t.message;const e=[];return t.message.forEach((t=>{e.push(t["account"])})),this.users.accountsId=[...new Set(e)],this.unDisabledMenu(),!0}return ce().error(t.message),this.unDisabledMenu(),!1}catch(t){return console.error(t),ce().error("Особових рахунків не знайдено!"),this.unDisabledMenu(),!1}},async showData(e){const t=await this.selectAccounts(e.id);t&&(this.users.currentUser=e,this.users.modal=!0)},async deleteMessage(e){this.disabledMenu();try{const t=await this.deleteMessageFunc(e);200===t.status?(ce().success(t.message),this.mailPage()):ce().error(t.message)}catch(t){console.error(t),ce().error(t)}this.unDisabledMenu()},pagination(){yn()(".table")&&(yn()(this.$refs.myTable).DataTable().destroy(),yn()(this.$refs.myTable).DataTable({paging:!0,lengthChange:!1,pageLength:10,searching:!0,ordering:!0,info:!1,autoWidth:!1,language:{search:"Пошук:",zeroRecords:"Співпадінь не знайдено",paginate:{first:"Перша",last:"Остання",next:"Наступна",previous:"Попередня"}}}))},disabledMenu(e=null){e&&(this.page=null),document.querySelector("#app").style.pointerEvents="none",document.querySelector(".cs-loader").classList.remove("d-none")},unDisabledMenu(){document.querySelector("#app").style.pointerEvents="auto",document.querySelector(".cs-loader").classList.add("d-none")},insertToInput(e){"update"===this.page?this.article.find=e:this.article.del=e},toMainPage(){this.$router.push({name:"welcome"})},clearArticleOptions(e){"title"!==e&&(this.article.title=null),"text"!==e&&(this.editorData=""),"del"!==e&&(this.article.del=null),"link"!==e&&(this.article.link=null),"find"!==e&&(this.article.find=null),"type"!==e&&(this.article.type=null),"articles"!==e&&(this.article.articles=null),"tisearchtle"!==e&&(this.article.search=!1),null!==document.querySelector("input[type='file']")&&(document.querySelector("input[type='file']").value="")},removeHoverClass(){var e=document.querySelectorAll("ul > li > a");e.forEach((e=>{e.classList.remove("hover")}))},auth(){const e=sessionStorage.getItem("admin");if(!e)return this.clearArticleOptions(),this.$router.push({name:"welcome"})},createPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1),document.querySelector(".createPage").classList.add("hover"),this.page="create",this.unDisabledMenu()},importExcelPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1),document.querySelector(".importExcel").classList.add("hover"),this.page="import",this.unDisabledMenu()},async mailPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1),await this.showMails(),document.querySelector(".mailPage").classList.add("hover"),this.page="mail",this.unDisabledMenu()},async usersPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1),await this.usersFunc(),document.querySelector(".usersPage").classList.add("hover"),this.page="users",this.unDisabledMenu()},async getAllArticles(){try{var e,t=localStorage.getItem("articles");if(null!==t){t=JSON.parse(t);const s=t.updated_at;e=(new Date).getTime()-s<3e5?t.request:await this.getAllArticlesFunc()}else e=await this.getAllArticlesFunc();if(200===e.status){this.article.articles=e.result;const t={request:e,updated_at:(new Date).getTime()};localStorage.setItem("articles",JSON.stringify(t))}}catch(s){console.error(s),this.getAllArticles()}},async updatePage(){await this.clearArticleOptions(),await this.removeHoverClass(),await this.disabledMenu(1),document.querySelector(".updatePage").classList.add("hover");try{await this.getAllArticles()}catch(e){console.error(e),await this.updatePage()}this.page="update",await this.unDisabledMenu()},async deletePage(){await this.clearArticleOptions(),await this.removeHoverClass(),await this.disabledMenu(1),document.querySelector(".deletePage").classList.add("hover");try{await this.getAllArticles()}catch(e){await console.error(e),this.deletePage()}this.page="delete",await this.unDisabledMenu()},async importExcel(){var e=this.import_data.city,t=document.getElementById("importFile");if(t=t.files,0!==t.length){this.disabledMenu();try{const s=await this.importExcelFunc(t[0],e);ce().info(s.message)}catch(s){ce().error(s),console.error(s)}finally{this.unDisabledMenu()}}else ce().info("Виберіть файл!")},async updateArticle(){this.disabledMenu();var e=this.article.title,t=this.editorData,s=this.article.type,l=document.querySelector("input[type='file']").files,a=[];if(null!==e&&null!==t&&null!==s)if(0!==e.replaceAll(" ","").length&&0!==t.replaceAll(" ","").length){e=this.replaceSymbols(e),t=this.replaceSymbols(t);try{const a=localStorage.getItem("articleTitle"),n=await this.updateArticleFunc(a,e,t,s,l);if(this.clearArticlesStorage(),n.canceledImages.length>0){const e=n.canceledImages.join(", ");1===n.canceledImages.length?ce().success(`Стаття успішно оновлена, окрім ${e} через не вірне розширення зображення!`):ce().warning(`Стаття успішно оновлена, окрім ${e} через не вірне розширення зображень!`)}else ce().success(n.result);this.clearArticleOptions(),this.updatePage()}catch(n){ce().error(n),console.error(n)}}else 0===e.replaceAll(" ","").length&&a.push("назва статті"),0===t.replaceAll(" ","").length&&a.push("текст статті"),a=a.length>1?a.join(", "):a[0],ce().error(`Не заповнені обов'язкові поля: ${a}!`);else null===e&&a.push("назва статті"),null===t&&a.push("текст статті"),null===s&&a.push("тип статті"),a=a.lenght>1?a.join(", "):a[0],ce().error(`Не заповнені обов'язкові поля: ${a}!`);this.unDisabledMenu()},replaceSymbols(e){return e.trim()},async createArticle(){this.disabledMenu();var e=this.article.title,t=this.editorData,s=this.article.type,l=document.querySelector("input[type='file']").files,a=[];if(null!==e&&null!==t&&0!==l.length&&null!==s)if(0!==e.replaceAll(" ","").length&&0!==t.replaceAll(" ","").length&&0!==l.length){e=this.replaceSymbols(e),t=this.replaceSymbols(t);try{const a=await this.createArticleFunc(e,t,s,l);if(200===a.status)if(this.clearArticlesStorage(),a.canceledImages.length>0){const e=a.canceledImages.join(", ");1===a.canceledImages.length?ce().warning(`Стаття успішно оновлена, окрім ${e} через не вірне розширення зображення!`):ce().warning(`Стаття успішно оновлена, окрім ${e} через не вірне розширення зображень!`)}else ce().success(a.result);else ce().error(a.result)}catch(n){ce().error("Стаття з таким ім'ям вже існує!"),console.error(n)}}else 0===e.replaceAll(" ","").length&&a.push("назва статті"),0===t.replaceAll(" ","").length&&a.push("текст статті"),0===l.length&&a.push("зображення для статті"),a=a.length>1?a.join(", "):a[0],ce().error(`Не заповнені обов'язкові поля: ${a}!`);else null===e&&a.push("назва статті"),null===t&&a.push("текст статті"),null===s&&a.push("тип статті"),0===l.length&&a.push("зображення для статті"),a=a.lenght>1?a.join(", "):a[0],ce().error(`Не заповнені обов'язкові поля: ${a}!`);this.unDisabledMenu()},clearArticlesStorage(){var e=localStorage.getItem("articles");null!==e&&localStorage.removeItem("articles")},async deleteArticle(){this.disabledMenu();const e=this.article.del;if(null===e)ce().error("Вибачте, та назва статті - це обов'язковий параметр!");else if(0===e.replaceAll(" ","").length)ce().error("Вибачте, та назва статті - це обов'язковий параметр!");else try{const s=await this.deleteArticleFunc(e);if(200===s.status){try{this.clearArticlesStorage();const e=await this.getAllArticlesFunc();200===e.status&&(e.result.length>0?this.article.articles=e.result:this.article.articles=null)}catch(t){console.error(t)}this.article.del=null}ce().warning(s.result),this.deletePage()}catch(t){ce().error(t),console.error(t)}this.unDisabledMenu()},async deleteAllArticles(){const e=prompt("Ви впевнені, що хочете видалити весь матеріал?","Так/Ні");if(e&&"так"===e.toLowerCase()){this.disabledMenu();try{const e=await this.deleteAllArticlesFunc();200===e.status&&(this.clearArticlesStorage(),this.article.articles=null,this.article.del=null,this.deletePage()),ce().warning(e.result)}catch(t){ce().error(t),console.error(t)}this.unDisabledMenu()}else ce().info("Відміна видалення ...")},async findArticle(e=null){const t=null!==e?e:this.article.find;if(this.article.find=null!==e?e:this.article.find,this.disabledMenu(),null===t)ce().error("Вибачте, та назва статті - це обов'язковий параметр!");else if(0===t.replaceAll(" ","").length)ce().error("Вибачте, та назва статті - це обов'язковий параметр!");else try{const e=await this.getArticleFunc(t);200===e.status?(this.article.search=!0,this.article.title=e.result.title,this.editorData=e.result.text,this.article.type=e.result.articleType,localStorage.setItem("articleTitle",e.result.title),setTimeout((()=>{var t=document.getElementById("articleType");null!==this.article.type&&(1==this.article.type?t.options[0].selected=!0:t.options[1].selected=!0),window.scrollTo(0,1e4),this.imagesLoading(e.result.images,e.result.title)}),1)):ce().error(e.result)}catch(s){ce().error(s),console.error(s)}this.unDisabledMenu()},imagesLoading(e,t){document.querySelector("input[type='file']").value="";const s=document.querySelector(".imagesSet");s.innerHTML="";const l=e;l.forEach((e=>{if(e.length>0){const l=`${this.url}/articles/image/${e}`,a=document.createElement("div"),n=document.createElement("a"),o=document.createElement("img"),r=document.createElement("span");o.style.width="100px",o.style.height="100px",o.classList.add("m-2"),o.src=l,n.href=l,n.target="_blank",n.append(o),r.innerText="x",r.style.cursor="pointer",r.setAttribute("filename",e),r.setAttribute("article",t),a.classList.add("d-flex"),a.append(n),a.append(r),s.prepend(a),r.addEventListener("click",(async e=>{this.disabledMenu();const t=r.getAttribute("article"),s=r.getAttribute("filename"),l=await this.deleteArticleImage(t,s);200===l.status?a.remove(e):ce().error(l.result),this.unDisabledMenu()}))}}))}}};const _n=(0,r.Z)(fn,[["render",Ia]]);var kn=_n,Sn=(0,d.p7)({mode:"history",history:(0,d.PO)(),routes:[{path:"/",component:Rt,name:"welcome"},{path:"/user/profile",component:Ms,name:"profile"},{path:"/admin",component:kn,name:"admin"}]}),xn=s(9907),An=s.n(xn),qn=s(65);const In=(0,qn.MT)({state:{url:"https://zhylservice-prod-dfcc31fdb708.herokuapp.com",confirmedWindow:!1},getters:{getUrl(e){return e.url},getConfirmedWindowState(e){return e.confirmedWindow}},mutations:{editConfirmedWindowState(e){e.confirmedWindow=!e.confirmedWindow}}});var Mn=In,Cn=s(5431);(0,Cn.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const Dn=(0,l.ri)(c);Dn.use(An()),Dn.use(Mn),Dn.use(Sn),Dn.mount("#app")}},t={};function s(l){var a=t[l];if(void 0!==a)return a.exports;var n=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){s.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var e=[];s.O=function(t,l,a,n){if(!l){var o=1/0;for(d=0;d<e.length;d++){l=e[d][0],a=e[d][1],n=e[d][2];for(var r=!0,i=0;i<l.length;i++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](l[i])}))?l.splice(i--,1):(r=!1,n<o&&(o=n));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,n,o=l[0],r=l[1],i=l[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(i)var d=i(s)}for(t&&t(l);c<o.length;c++)n=o[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},l=self["webpackChunkproject"]=self["webpackChunkproject"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=s.O(void 0,[998],(function(){return s(3343)}));l=s.O(l)})();
//# sourceMappingURL=app.ebef2ef6.js.map