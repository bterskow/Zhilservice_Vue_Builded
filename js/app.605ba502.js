(function(){"use strict";var e={3322:function(e,t,s){var l=s(9242),a=s(3396);function n(e,t,s,l,n,o){const r=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(r)}var o={name:"App"},r=s(89);const i=(0,r.Z)(o,[["render",n]]);var c=i,d=(s(7024),s(2483)),u=s(7139),m=s.p+"img/logo.c5e99b2e.jpg";const p={key:0},h={class:"WelcomePage d-none"},g={class:"px-4 py-5 pb-1 border-bottom text-center bg-gradient text-white title-block"},b=(0,a.uE)('<img class="d-block mx-auto mb-4 border border-white border-2 rounded p-1 shadow-lg" src="'+m+'" alt="" width="100" height="100"><h1 class="display-6 fw-bold">Комунальне підприємство</h1><h3 class="display-7 fw-bold">&quot;ЖИЛСЕРВІС&quot;</h3><p class="mb-0">Черкаської</p><p class="mb-0">селищної ради</p>',5),y={class:"p-3 mt-5"},v={class:"container"},w=(0,a._)("hr",{class:"shadow m-0"},null,-1),f={class:"mt-1 d-flex flex-wrap align-items-center justify-content-center"},_={class:"nav d-none d-sm-flex col-12 me-lg-auto mb-2 justify-content-center mb-md-0"},k={class:"nav-item"},S={class:"nav-item"},x={class:"nav-item"},A={class:"mt-3 burger d-flex d-sm-none mb-2 flex-wrap w-100 align-items-center justify-content-center"},q=(0,a._)("button",{class:"btn border border-1 border-white btn-lg w-25 burger-btn text-white",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," ≡ ",-1),M={class:"dropdown-menu dropdown-menu-light text-center"},I={class:""},C={class:""},D={class:""},B={class:"d-flex",role:"search"},P=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",class:"mx-3",role:"img",viewBox:"0 0 24 24"},[(0,a._)("title",null,"Search"),(0,a._)("circle",{cx:"10.5",cy:"10.5",r:"7.5"}),(0,a._)("path",{d:"M21 21l-5.2-5.2"})],-1),L=[P],E=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20"},[(0,a._)("line",{x1:"4",y1:"4",x2:"16",y2:"16",stroke:"white","stroke-width":"2"}),(0,a._)("line",{x1:"4",y1:"16",x2:"16",y2:"4",stroke:"white","stroke-width":"2"})],-1),F=[E],$={class:"album py-5 bg-body-tertiary"},O={class:"container"},T=(0,a._)("div",{class:"row row-cols-1 row-cols-sm-2 row-cols-md-2 g-3 articles"},null,-1),U={key:0,class:"mt-4"},j={key:1,class:"personal-accounts"},z={key:0,class:"d-flex pagination-nav align-items-center mt-5 justify-content-center","aria-label":"Page navigation example"},H={class:"pagination m-0"},Z={class:"page-item"},W=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,80 80,20 20,20",style:{fill:"black",stroke:"black","stroke-width":"3"}})])],-1),N=[W],V={class:"page-item"},J=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,20 80,80 20,80",style:{fill:"black",stroke:"black","stroke-width":"3"}})])],-1),Y=[J],K={class:"container border-top"},R={class:"py-3"},Q={class:"nav justify-content-center border-bottom pb-3 mb-3"},X={class:"nav-item"},G={class:"nav-item"},ee={class:"text-center text-body-secondary mb-0"},te=(0,a._)("div",{class:"cs-loader d-none fixed-bottom"},[(0,a._)("div",{class:"cs-loader-inner"},[(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●")])],-1),se={class:"modal fade opacity-100"},le={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},ae={class:"modal-content"},ne=(0,a.uE)('<div class="modal-header"><h1 class="modal-title fs-5" id="exampleModalLabel">Modal title</h1></div><div class="modal-body"><p class=""></p><div id="carouselExample" class="carousel slide"><div class="carousel-inner"></div></div></div>',2),oe={class:"modal-footer"},re={key:1},ie={key:2};function ce(e,t,s,n,o,r){const i=(0,a.up)("LoaderView"),c=(0,a.up)("BackSwitcherButtonComponent"),d=(0,a.up)("UpButtonComponent"),m=(0,a.up)("PromStatePurchase"),P=(0,a.up)("PersonalAccountsPage"),E=(0,a.up)("ConfirmedWindow"),W=(0,a.up)("CaptchaModal"),J=(0,a.up)("DebtorsModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[o.loader?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)(i)])):(0,a.kq)("",!0),(0,a._)("div",h,[(0,a.Wm)(c),(0,a.Wm)(d),(0,a.Wm)(m),(0,a._)("div",g,[b,(0,a._)("header",y,[(0,a._)("div",v,[w,(0,a._)("div",f,[(0,a._)("ul",_,[(0,a._)("li",k,[(0,a._)("button",{class:"btn shadow border text-white m-3 authModalButton",id:"authModalButton",onClick:t[0]||(t[0]=(...e)=>r.authModal&&r.authModal(...e))},"Увійти до кабінету")]),(0,a._)("li",S,[(0,a._)("button",{class:"btn btn-outline-warning btn-warning shadow text-white border m-3 news",onClick:t[1]||(t[1]=(...e)=>r.news&&r.news(...e))},"Новини")]),(0,a._)("li",x,[(0,a._)("button",{class:"btn btn-outline-warning shadow text-white border m-3 contacts",onClick:t[2]||(t[2]=(...e)=>r.contacts&&r.contacts(...e))},"Контакти")])]),(0,a._)("div",A,[q,(0,a._)("ul",M,[(0,a._)("li",I,[(0,a._)("span",{class:"dropdown-item authModalButton fw-bold",onClick:t[3]||(t[3]=(...e)=>r.authModal&&r.authModal(...e))},"Увійти до кабінету")]),(0,a._)("li",C,[(0,a._)("span",{class:"dropdown-item news",onClick:t[4]||(t[4]=(...e)=>r.news&&r.news(...e))},"Новини")]),(0,a._)("li",D,[(0,a._)("span",{class:"dropdown-item contacts",onClick:t[5]||(t[5]=(...e)=>r.contacts&&r.contacts(...e))},"Контакти")])])]),(0,a._)("form",B,[(0,a.wy)((0,a._)("input",{type:"search",class:"mx-1 form-control form-control-dark",placeholder:"Пошук...","onUpdate:modelValue":t[6]||(t[6]=e=>o.searcher_text=e)},null,512),[[l.nr,o.searcher_text]]),(0,a._)("button",{class:"mx-1 btn btn-outline-light btn-sm searcherSubmit",type:"submit",onClick:t[7]||(t[7]=(...e)=>r.searcher&&r.searcher(...e))},L),(0,a._)("button",{class:"mx-1 btn btn-danger d-none btn-sm backAllArticles",type:"submit",onClick:t[8]||(t[8]=(...e)=>r.backAllArticles&&r.backAllArticles(...e))},F)])])])])]),(0,a._)("div",$,[(0,a._)("div",O,[T,!0===o.contucts?((0,a.wg)(),(0,a.iD)("div",U,[((0,a.wg)(),(0,a.j4)(a.Ob,null,[((0,a.wg)(),(0,a.j4)((0,a.LL)(o.anotherPage)))],1024))])):(0,a.kq)("",!0),!0===o.personal_accounts?((0,a.wg)(),(0,a.iD)("div",j,[(0,a.Wm)(P,{paymentsList:o.paymentsList,blockAllButtons:r.blockAllButtons,unBlockAllButtons:r.unBlockAllButtons},null,8,["paymentsList","blockAllButtons","unBlockAllButtons"])])):(0,a.kq)("",!0)]),!0===o.pagination?((0,a.wg)(),(0,a.iD)("nav",z,[(0,a._)("ul",H,[(0,a._)("li",Z,[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[9]||(t[9]=(0,l.iM)(((...e)=>r.next&&r.next(...e)),["prevent"]))},N)]),(0,a._)("li",V,[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Prev",onClick:t[10]||(t[10]=(0,l.iM)(((...e)=>r.prev&&r.prev(...e)),["prevent"]))},Y)])])])):(0,a.kq)("",!0)]),(0,a._)("div",K,[(0,a._)("footer",R,[(0,a._)("ul",Q,[(0,a._)("li",X,[(0,a._)("button",{class:"nav-link m-2 news-footer",onClick:t[11]||(t[11]=(...e)=>r.news&&r.news(...e))},"Новини")]),(0,a._)("li",G,[(0,a._)("button",{class:"nav-link m-2 contacts-footer",onClick:t[12]||(t[12]=(...e)=>r.contacts&&r.contacts(...e))},"Контакти")])]),(0,a._)("p",ee,"© "+(0,u.zw)(o.currentYear)+' КП "ЖИЛСЕРВІС"',1)])]),te,(0,a.Wm)(E,{userId:o.userId,toastr:e.toastr,blockAllButtons:r.blockAllButtons,unBlockAllButtons:r.unBlockAllButtons},null,8,["userId","toastr","blockAllButtons","unBlockAllButtons"]),(0,a._)("div",se,[(0,a._)("div",le,[(0,a._)("div",ae,[ne,(0,a._)("div",oe,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[13]||(t[13]=(...e)=>r.hideModal&&r.hideModal(...e))},"Приховати")])])])])]),o.captcha.modal?((0,a.wg)(),(0,a.iD)("div",re,[(0,a.Wm)(W,{authUser:r.authUser,toastr:e.toastr,blockAllButtons:r.blockAllButtons,unBlockAllButtons:r.unBlockAllButtons,captcha:o.captcha},null,8,["authUser","toastr","blockAllButtons","unBlockAllButtons","captcha"])])):(0,a.kq)("",!0),o.debtors.modal?((0,a.wg)(),(0,a.iD)("div",ie,[(0,a.Wm)(J,{users:o.debtors.users},null,8,["users"])])):(0,a.kq)("",!0)],64)}s(7658);var de=s(373),ue=s.n(de);const me={class:"PersonalAccountsPage"},pe={class:"row mb-2"},he=["accountId"],ge={class:"row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative"},be={class:"col p-4 d-flex flex-column position-static"},ye={class:"d-inline-block mb-2 text-primary-emphasis"},ve={class:"mb-0"},we={class:"text-body-secondary"},fe={class:"mb-1 text-body-secondary"},_e=["onClick"],ke=["onClick"],Se={key:0,class:"d-flex pagination-nav align-items-center justify-content-center","aria-label":"Page navigation example"},xe={class:"pagination"},Ae={class:"page-item"},qe=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,80 80,20 20,20",style:{fill:"black",stroke:"black","stroke-width":"3"}})])],-1),Me=[qe],Ie={class:"page-item"},Ce=(0,a._)("span",{"aria-hidden":"true"},[(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,20 80,80 20,80",style:{fill:"black",stroke:"black","stroke-width":"3"}})])],-1),De=[Ce];function Be(e,t,s,n,o,r){return(0,a.wg)(),(0,a.iD)("div",me,[(0,a._)("div",pe,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.paymentsList,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"col-md-6 payment-card",key:e.id,accountId:e.account},[(0,a._)("div",ge,[(0,a._)("div",be,[(0,a._)("strong",ye,"№"+(0,u.zw)(e.id),1),(0,a._)("h4",ve,(0,u.zw)(e.service),1),(0,a._)("div",we,"Особовий рахунок: "+(0,u.zw)(e.account),1),(0,a._)("div",fe,"Адреса: "+(0,u.zw)(e.address),1),(0,a._)("a",{class:"icon-link gap-1 mt-1",onClick:(0,l.iM)((t=>r.lookAccount(e,this.url)),["prevent"])}," Переглянути рахунок ",8,_e),(0,a._)("a",{class:"icon-link gap-1 mt-1",onClick:(0,l.iM)((t=>r.deleteAccount(e.id)),["prevent"])}," Видалити рахунок ",8,ke)])])],8,he)))),128))]),!0===o.payments_pagination?((0,a.wg)(),(0,a.iD)("nav",Se,[(0,a._)("ul",xe,[(0,a._)("li",Ae,[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:t[0]||(t[0]=(0,l.iM)(((...e)=>r.next&&r.next(...e)),["prevent"]))},Me)]),(0,a._)("li",Ie,[(0,a._)("a",{class:"page-link",href:"#","aria-label":"Prev",onClick:t[1]||(t[1]=(0,l.iM)(((...e)=>r.prev&&r.prev(...e)),["prevent"]))},De)])])])):(0,a.kq)("",!0)])}var Pe=s(4161),Le={data(){return{url:this.$store.getters.getUrl,aws_sns_api_key:this.$store.getters.getAwsSnsApiKey,aws_sns_api_url:this.$store.getters.getAwsSnsApiUrl}},methods:{async select_back_session(){const e=await Pe.Z.get(`${this.url}/session`),t=await e.data;return t},async all_debtors(){const e=await Pe.Z.get(`${this.url}/debtors`),t=await e.data;return t},async debtors_mail(e){new FormData;const t={data:e},s={"Content-Type":"application/json"},l=await Pe.Z.post(`${this.url}/debtors/mail`,t,{headers:s}),a=await l.data;return a},async debtors_phone_mail(e,t,s,l,a){const n=JSON.stringify({number:s,account:l,debt:a}),o={"x-api-key":this.aws_sns_api_key},r=await Pe.Z.post(`${this.aws_sns_api_url}`,n,{headers:o}),i=await r.data;return i},async deleteMyProfileFunc(e){const t=await Pe.Z.delete(`${this.url}/user/profile/delete/${e}`),s=await t.data;return s},async showMailsFunc(){const e=await Pe.Z.get(`${this.url}/mails`),t=await e.data;return t},async showOrdersFunc(){const e=await Pe.Z.get(`${this.url}/orders/get`),t=await e.data;return t},async uploadOrderFunc(e){const t=new FormData;t.append("file",e);const s=await Pe.Z.post(`${this.url}/orders/upload`,t),l=await s.data;return l},async deleteOrderFunc(e){const t=await Pe.Z.delete(`${this.url}/orders/delete/${e}`),s=await t.data;return s},async showUsersFunc(){const e=await Pe.Z.get(`${this.url}/admin/users`),t=await e.data;return t},async answerMailFunc(e,t){const s=new FormData;s.append("email",e),s.append("message",t);const l=await Pe.Z.post(`${this.url}/send/answer`,s),a=await l.data;return a},async invoiceFunc(e,t,s,l,a,n,o,r,i,c,d){const u=new FormData;u.append("card",e),u.append("card_exp_month",t),u.append("card_exp_year",s),u.append("card_cvv",l),u.append("name",a),u.append("email",n),u.append("phone",o),u.append("account_id",r),u.append("city",i),u.append("service",c),u.append("amount",d);const m=await Pe.Z.post(`${this.url}/invoice`,u),p=await m.data;return p},async selectAccountsFunc(e){const t=new FormData;t.append("id",e);const s=await Pe.Z.post(`${this.url}/admin/accounts`,t),l=await s.data;return l},async deleteMessageFunc(e){const t=await Pe.Z.delete(`${this.url}/mail/delete/${e}`),s=await t.data;return s},async createArticleFunc(e,t,s,l){const a=new FormData;for(var n of l)a.append("images",n);a.append("title",e),a.append("text",t),a.append("articleType",s);const o=await Pe.Z.post(`${this.url}/articles`,a),r=await o.data;return r},async uploadAvatar(e,t){const s=new FormData;s.append("email",e),s.append("file",t);const l=await Pe.Z.post(`${this.url}/user/avatar/upload`,s),a=await l.data;return a},async profileUpdateFunc(e,t){const s=new FormData;s.append("current_email",e),s.append("f",t.f),s.append("e",t.e),s.append("p",t.p),s.append("phone",t.phone);const l=await Pe.Z.post(`${this.url}/user/profile/update`,s),a=await l.data;return a},async banksUpdateFunc(e,t){const s=new FormData;s.append("current_email",e),s.append("card",t.card),s.append("card_exp_month",t.card_exp_month),s.append("card_exp_year",t.card_exp_year),s.append("card_cvv",t.card_cvv);const l=await Pe.Z.post(`${this.url}/user/banks/update`,s),a=await l.data;return a},async deleteAvatarFunc(e){const t=new FormData;t.append("email",e);const s=await Pe.Z.post(`${this.url}/user/avatar/delete`,t),l=await s.data;return l},async updateArticleFunc(e,t,s,l,a){const n=new FormData;if(a.length>0)for(var o of a)n.append("images",o);n.append("currentTitle",e),n.append("title",t),n.append("text",s),n.append("articleType",l);const r=await Pe.Z.put(`${this.url}/article/update`,n);var i=await r.data;return i},async deleteArticleFunc(e){const t=new FormData;t.append("currentTitle",e);const s=await Pe.Z.post(`${this.url}/article/delete`,t),l=await s.data;return l},async deleteArticleImage(e,t){const s=new FormData;s.append("currentTitle",e),s.append("filename",t);const l=await Pe.Z.post(`${this.url}/articles/image/delete`,s),a=await l.data;return a},async getArticleFunc(e){const t=new FormData;t.append("title",e);const s=await Pe.Z.post(`${this.url}/article/show`,t),l=await s.data;return l},async getAllArticlesFunc(e=null){const t=null===e?await Pe.Z.get(`${this.url}/articles`):await Pe.Z.get(`${this.url}/articles?articleType=${e}`),s=await t.data;return s},async deleteAllArticlesFunc(){const e=await Pe.Z.delete(`${this.url}/articles`),t=await e.data;return t},async searcherFunc(e){const t=new FormData;t.append("q",e);const s=await Pe.Z.post(`${this.url}/search/articles`,t),l=await s.data;return l},async auth(e,t){const s={"Content-Type":"application/json"},l=new FormData;l.append("p",e),l.append("e",t);const a=await Pe.Z.post(`${this.url}/user/auth`,l,{headers:s}),n=await a.data;return n},async signUp(e,t){const s={"Content-Type":"application/json"},l=new FormData;l.append("f",e),l.append("e",t);const a=await Pe.Z.post(`${this.url}/user`,l,{headers:s}),n=await a.data;return n},async resetPassword(e){const t={"Content-Type":"application/json"},s=new FormData;s.append("e",e);const l=await Pe.Z.post(`${this.url}/user/reset/password`,s,{headers:t}),a=await l.data;return a},async sendMail(e,t,s,l){const a=await Pe.Z.post(`${this.url}/send?fullname=${e}&email=${t}&phone=${s}&message=${l}`),n=await a.data;return n},async payments(e){const t=await Pe.Z.get(`${this.url}/user/payments?userId=${e}`),s=await t.data;return s},async payment(e){const t=await Pe.Z.get(`${this.url}/user/payment?account=${e}`),s=await t.data;return s},async create_payment(e,t,s,l,a,n,o){const r={"Content-Type":"application/json"},i=new FormData;i.append("userId",e),i.append("city",t),i.append("service",s),i.append("account",l),i.append("address",a),i.append("address_house",n),i.append("address_flat",o);const c=await Pe.Z.post(`${this.url}/user/payment/create`,i,{headers:r}),d=await c.data;return d},async delete_payment(e){const t=await Pe.Z.delete(`${this.url}/user/payment/delete?id=${e}`),s=await t.data;return s},async importExcelFunc(e,t){const s=new FormData;s.append("file",e),s.append("city",t);const l=await Pe.Z.post(`${this.url}/import`,s),a=await l.data;return a}}},Ee=s.p+"img/xlsx.dc85d04b.png",Fe={name:"PersonalAccountsPage",mixins:[Le,Le],props:{paymentsList:Array,unBlockAllButtons:Function,blockAllButtons:Function},data(){return{url:this.$store.getters.getUrl,payments_pagination:!1,payments_list:null,page:0,cards:null,xlsx:Ee}},mounted(){this.updatedData(),ue().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1300,toastClass:"custom-toast"}},updated(){this.updatedData()},methods:{updatedData(){this.cards=[...document.querySelectorAll(".payment-card")],this.deleteSession(),this.pagination()},deleteSession(){sessionStorage.removeItem("page"),sessionStorage.removeItem("page-single")},pagination(){this.paymentsList.length>2&&this.cards.length>2?(this.payments_pagination=!0,this.cards.forEach(((e,t)=>{t>=2&&e.classList.add("d-none")}))):this.payments_pagination=!1,window.scrollTo(0,document.body.scrollHeight)},prev(){const e="d-none";let t=0;if(null!==sessionStorage.getItem("page")&&parseInt(sessionStorage.getItem("page"))>0){for(let s=this.cards.length-1;s>=0;s--){const l=this.cards[s];t<2&&(null!==sessionStorage.getItem("page-single")?!l.classList.contains(e)&&t<1&&(l.classList.add(e),t++):!l.classList.contains(e)&&t<2&&(l.classList.add(e),t++))}sessionStorage.removeItem("page-single")}if(sessionStorage.getItem("page")){const e=parseInt(sessionStorage.getItem("page"))-1<0?0:parseInt(sessionStorage.getItem("page"))-1;sessionStorage.setItem("page",e)}},next(){const e="d-none";var t=0,s=!1;this.cards.forEach((l=>{l.classList.contains(e)&&t<2&&(s=!0,l.classList.remove(e),t++)})),1===t&&sessionStorage.setItem("page-single",!0),!0===s&&(sessionStorage.getItem("page")?sessionStorage.setItem("page",parseInt(sessionStorage.getItem("page"))+1):sessionStorage.setItem("page",1)),window.scrollTo(0,document.body.scrollHeight)},async deleteAccount(e){document.querySelector(".cs-loader").classList.remove("d-none"),this.blockAllButtons();try{const s=await this.delete_payment(e);if(200===s.status){var t=sessionStorage.getItem("accounts_page");null!==t&&sessionStorage.removeItem("accounts_page"),ue().options.onHidden=()=>{window.location.reload()},ue().success("",s.message)}else ue().options.onHidden=()=>{},ue().error("",s.message),document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}catch(s){ue().options.onHidden=()=>{},ue().error("",s),console.error(s),document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}},async lookAccount(e,t){const s=(new Date).getDate(),l=(new Date).getMonth()+1,a=(new Date).getFullYear(),n=(s<10?"0"+s:s)+"."+(l<10?"0"+l:l)+"."+a;document.querySelector(".carousel-inner").innerHTML="",document.querySelector(".modal").classList.add("d-block"),document.querySelector(".modal-title").innerText=`№${e.id}`,document.querySelector(".modal-body > p").innerHTML=`\n        <div class="card-body">\n          <ul class="list-unstyled mt-2 mb-4">\n            <li><b>Номер особового рахунку:</b> ${e.account}</li>\n            <li><b>Адреса:</b> ${e.address}</li>\n            <li><b>Послуга:</b> ${e.service}</li>\n            <li><b>Сума боргу станом на ${n}:</b> ${e.debt>0?"+"+e.debt:e.debt} грн.</li>\n          </ul>\n  \n          <a type="button" class="w-100 btn btn-sm btn-outline-danger shadow shadow-danger" href='${t}/billings/save?account=${e.account}&city=${e.city}' target='_blank'>\n              <img src='${this.xlsx}' width='30' height='30' alt='xlsx.png' />\n              <span class="mx-2">Завантажити борги по рахунку <span class="text-decoration-underline">${e.account}</span></span>\n          </a>\n        </div>\n      `}}};const $e=(0,r.Z)(Fe,[["render",Be]]);var Oe=$e;const Te={class:"dropdown position-fixed bottom-0 end-0 mb-3 me-3 up-block"},Ue=(0,a._)("svg",{width:"20px",height:"20px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},[(0,a._)("polygon",{points:"50,20 80,80 20,80",style:{fill:"white",stroke:"white","stroke-width":"3"}})],-1),je=[Ue];function ze(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",Te,[(0,a._)("button",{class:"btn btn-bd-primary py-2 d-flex align-items-center text-white shadow up-button",onClick:t[0]||(t[0]=(...e)=>o.up&&o.up(...e))},je)])}var He={name:"UpButtonComponent",methods:{up(){return window.scrollTo(0,0)}}};const Ze=(0,r.Z)(He,[["render",ze]]);var We=Ze;const Ne={class:"d-none d-sm-block mx-1 h-100 position-fixed leftPanel z-3"},Ve={class:"my-2"},Je=["src"],Ye={class:"my-2"},Ke=["src"],Re={key:0},Qe={key:1,class:"modal d-block",tabindex:"-1"},Xe={class:"modal-dialog"},Ge={class:"modal-content"},et={class:"modal-header"},tt=(0,a._)("h6",{class:"modal-title"},"Калькулятор вирахування платежу за послугу на 1м2",-1),st=(0,a._)("div",{class:"modal-body"},[(0,a._)("p",{class:"m-0"},"Сервіс у розробці ...")],-1),lt={class:"modal-footer"};function at(e,t,s,l,n,o){const r=(0,a.up)("OrdersModal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Ne,[(0,a._)("div",null,[(0,a._)("div",Ve,[(0,a._)("img",{class:"orders",width:"55",height:"55",src:n.ordersWidget.image,onClick:t[0]||(t[0]=e=>o.orderWidgetShowModal()),title:"Обгрунтування закупівель"},null,8,Je)]),(0,a._)("div",Ye,[(0,a._)("img",{class:"purchase",width:"57",height:"52",src:n.logo,onClick:t[1]||(t[1]=(...e)=>o.orders&&o.orders(...e)),title:"Закупівлі"},null,8,Ke)])])]),!0===n.ordersWidget.modal?((0,a.wg)(),(0,a.iD)("div",Re,[(0,a.Wm)(r,{ordersWidget:n.ordersWidget},null,8,["ordersWidget"])])):(0,a.kq)("",!0),n.calculator.modal?((0,a.wg)(),(0,a.iD)("div",Qe,[(0,a._)("div",Xe,[(0,a._)("div",Ge,[(0,a._)("div",et,[tt,(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[2]||(t[2]=e=>n.calculator.modal=!1)})]),st,(0,a._)("div",lt,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=e=>n.calculator.modal=!1)},"Закрити")])])])])):(0,a.kq)("",!0)],64)}var nt=s.p+"img/logo_3.382571a4.png";const ot={class:"modal d-block",tabindex:"-1"},rt={class:"modal-dialog modal-dialog-scrollable"},it={class:"modal-content"},ct={class:"modal-header"},dt=(0,a._)("h6",{class:"modal-title"},"Обгрунтування закупівель",-1),ut={class:"modal-body"},mt={class:"orders-table table-responsive m-0"},pt={class:"table-bordered border-primary text-center w-100",height:"100"},ht=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"text-center"}," Назва закупівлі "),(0,a._)("th",{class:"text-center"}," Завантажити ")])],-1),gt=["title"],bt=["src"],yt={title:"Завантажити закупівлю",class:"p-3"},vt=["href"],wt=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"50",height:"50",viewBox:"0 0 24 24"},[(0,a._)("path",{d:"M19.355,10.036C18.674,6.595,15.641,4,12,4C9.108,4,6.603,5.639,5.352,8.036C2.343,8.36,0,10.906,0,14c0,3.314,2.686,6,6,6 h13c2.761,0,5-2.239,5-5C24,12.36,21.948,10.221,19.355,10.036z M12,18l-5-5h3V9h4v4h3L12,18z"})],-1),ft=[wt],_t={class:"modal-footer"};function kt(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",ot,[(0,a._)("div",rt,[(0,a._)("div",it,[(0,a._)("div",ct,[dt,(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=e=>s.ordersWidget.modal=!1)})]),(0,a._)("div",ut,[(0,a._)("div",mt,[(0,a._)("table",pt,[ht,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.orders,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",{title:e.filename,class:"p-3"},[(0,a._)("img",{class:"mx-1",src:n.xlsx,width:"50"},null,8,bt),(0,a.Uk)(" "+(0,u.zw)(e.filename.length>20?e.filename.substr(0,17)+"...":e.filename),1)],8,gt),(0,a._)("td",yt,[(0,a._)("a",{class:"text-decoration-none",href:`${n.url}/${e.href}`,target:"_blank"},ft,8,vt)])])))),128))])])])]),(0,a._)("div",_t,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=e=>s.ordersWidget.modal=!1)},"Закрити")])])])])}var St={name:"OrdersModal",mixins:[Le],props:{ordersWidget:Object},created(){ue().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1300,toastClass:"custom-toast"},this.showOrders()},data(){return{url:this.$store.getters.getUrl,orders:null,xlsx:Ee}},methods:{blockAllButtons(){const e=[...document.querySelectorAll(".news")],t=[...document.querySelectorAll(".contacts")],s=[...document.querySelectorAll(".authModalButton")],l=e=>{e.forEach((e=>e.disabled=!0))};l(e),l(t),l(s),document.querySelectorAll(".searcherSubmit").disabled=!0,document.querySelector(".news-footer").disabled=!0,document.querySelector(".contacts-footer").disabled=!0,document.querySelector(".searcherSubmit").disabled=!0,document.querySelector(".album").style.pointerEvents="none",document.querySelector(".cs-loader").classList.remove("d-none")},unBlockAllButtons(){const e=[...document.querySelectorAll(".news")],t=[...document.querySelectorAll(".contacts")],s=[...document.querySelectorAll(".authModalButton")],l=e=>{e.forEach((e=>e.disabled=!1))};l(e),l(t),l(s),document.querySelectorAll(".searcherSubmit").disabled=!1,document.querySelector(".news-footer").disabled=!1,document.querySelector(".contacts-footer").disabled=!1,document.querySelector(".searcherSubmit").disabled=!1,document.querySelector(".album").style.pointerEvents="auto",document.querySelector(".cs-loader").classList.add("d-none")},async showOrders(){this.blockAllButtons();var e=sessionStorage.getItem("orders");if(null!==e)return e=JSON.parse(e),await this.unBlockAllButtons(),this.orders=e;try{const e=await this.showOrdersFunc(),t=e.status,s=e.message;if(200===t)return sessionStorage.setItem("orders",JSON.stringify(s)),this.unBlockAllButtons(),this.orders=s;ue().error(s)}catch(t){console.error(t),ue().error(t.message)}return this.unBlockAllButtons()}}};const xt=(0,r.Z)(St,[["render",kt]]);var At=xt,qt=s.p+"img/calculator.9409e4e4.png",Mt=s.p+"img/orders.12b02afe.png",It={components:{OrdersModal:At},data(){return{logo:nt,ordersWidget:{image:Mt,modal:!1},calculator:{image:qt,modal:!1}}},methods:{ordersModal(){const e=document.body,t=document.querySelector("#modal_prom_state_purchase_block");"block"===t.style.display?(t.style.display="none",e.style.overflow="auto"):(t.style.display="block",e.style.overflow="hidden")},orders(){this.ordersWidget.modal=!1,this.calculator.modal=!1,this.ordersModal()},orderWidgetShowModal(){this.ordersWidget.modal=!0,this.calculator.modal=!1;const e=document.querySelector("#modal_prom_state_purchase_block");e.style.display="none";const t=document.body;t.style.overflow="auto"},calculatorModal(){const e=document.body,t=document.querySelector("#modal_prom_state_purchase_block");t.style.display="none",e.style.overflow="auto",this.calculator.modal=!0}}};const Ct=(0,r.Z)(It,[["render",at]]);var Dt=Ct;const Bt={class:"contucts-form"},Pt=(0,a.uE)('<div class="card contuctPageCard m-3"><div class="card-header bg-ligth text-black"><i class="fa fa-envelope"></i> Скринька довіри </div><div class="card-body"><form><div class="form-group"><label for="name">Ім&#39;я</label><input type="text" class="form-control" id="name" aria-describedby="nameHelp" placeholder="Введіть ваше ім&#39;я (Іван Іванов)" required></div><div class="form-group"><label for="email">Пошта</label><input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="Введіть вашу пошту (ivanov@gmail.com)" required></div><div class="form-group"><label for="email">Номер телефона</label><input type="tel" class="form-control" id="phone" aria-describedby="phoneHelp" value="380" placeholder="Введіть ваш номер телефона (380...)" required></div><div class="form-group"><label for="message">Текст</label><textarea class="form-control" id="message" rows="6" required style="resize:none;"></textarea></div><div class="mx-auto mt-2"><button type="submit" class="btn btn-warning text-right sendMail">Відправити</button></div></form></div></div><div class="card bg-light mb-3 contuctPageCard m-3"><div class="card-header bg-ligth text-black"><i class="fa fa-home"></i>Наші контакти</div><div class="card-body"><p>Адреса: <strong>Дніпропетровська область, Новомосковський район, смт. Черкаське, вул. Лісна, буд. 18</strong></p><p>Пошта: <a class="fw-bold" href="mailto:zhylservice@gmail.com">zhylservice@gmail.com</a></p><p>Телефони: </p><ul class="fw-bold"><li>067-29-65-937 - ДИСПЕТЧЕР ЦІЛОДОБОВО</li><li>098-30-97-701 - інженер з організації експлуатації та ремонту Назаренко Олена Вікторівна (смт.Гвардійське)</li><li>098-34-90-675 - бухгалтер по роботі з населенням Бігун Тамара Юхимівна (смт. Гвардійське)</li><li>068-58-11-644 - інженер з організації експлуатації та ремонту Бахілов Олександр Павлович (смт. Черкаське)</li><li>068-56-52-032 - бухгалтер по роботі з населенням Степаненко Тамара Вікторівна (смт.Черкаське)</li></ul><p>Розклад звернень:</p><ul class="fw-bold m-0"><li>Понеділок-четвер з 8:00 год. до 17:15 год.</li><li>П&#39;ятниця з 8:00 год. до 16:00 год.</li></ul></div></div>',2),Lt=[Pt];function Et(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",Bt,Lt)}var Ft={name:"ContactComponent"};const $t=(0,r.Z)(Ft,[["render",Et]]);var Ot=$t;const Tt={key:0,class:"modal d-block",tabindex:"-1"},Ut={class:"modal-dialog"},jt={class:"modal-content"},zt=(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title"},"Видалення профілю")],-1),Ht=(0,a._)("div",{class:"modal-body"},[(0,a._)("p",{class:"m-0"},"Ви впевнені, що бажаєти видалити свій профіль?")],-1),Zt={class:"modal-footer"};function Wt(e,t,s,l,n,o){return e.$store.getters.getConfirmedWindowState?((0,a.wg)(),(0,a.iD)("div",Tt,[(0,a._)("div",Ut,[(0,a._)("div",jt,[zt,Ht,(0,a._)("div",Zt,[(0,a._)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:t[0]||(t[0]=e=>o.deleteMyProfile(s.userId))},"Так"),(0,a._)("button",{type:"button",class:"btn btn-danger",onClick:t[1]||(t[1]=(...e)=>o.closeWindowFunc&&o.closeWindowFunc(...e))},"Ні")])])])])):(0,a.kq)("",!0)}var Nt={name:"ConfirmedWindow",mixins:[Le],props:{userId:Number,toastr:Object,blockAllButtons:Function,unBlockAllButtons:Function},methods:{deleteUserInfo(){sessionStorage.removeItem("user"),sessionStorage.removeItem("userFullInfo"),sessionStorage.removeItem("current_email"),window.location.reload()},async deleteMyProfile(e){this.closeWindowFunc(),this.blockAllButtons(),document.querySelector(".cs-loader").classList.remove("d-none");try{const t=await this.deleteMyProfileFunc(e);if(200===t.status)return this.deleteUserInfo();ue().error(t.message)}catch(t){ue().error(t),console.error(t)}this.unBlockAllButtons(),document.querySelector(".cs-loader").classList.add("d-none")},closeWindowFunc(){this.$store.commit("editConfirmedWindowState")}}};const Vt=(0,r.Z)(Nt,[["render",Wt]]);var Jt=Vt;const Yt={class:"dropdown position-fixed end-0 mt-3 me-3 up-block"},Kt=(0,a.uE)('<button class="btn dropdown-toggle py-2 d-flex align-items-center bg-light text-dark shadow" type="button" aria-expanded="false" data-bs-toggle="dropdown" aria-label="Toggle theme (light)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="20" height="20"><circle cx="50" cy="50" r="40" fill="orange"></circle><line x1="50" y1="10" x2="50" y2="0" stroke="orange" stroke-width="10"></line><line x1="50" y1="90" x2="50" y2="100" stroke="orange" stroke-width="10"></line><line x1="10" y1="50" x2="0" y2="50" stroke="orange" stroke-width="10"></line><line x1="90" y1="50" x2="100" y2="50" stroke="orange" stroke-width="10"></line><line x1="30" y1="30" x2="20" y2="20" stroke="orange" stroke-width="10"></line><line x1="70" y1="70" x2="80" y2="80" stroke="orange" stroke-width="10"></line><line x1="70" y1="30" x2="80" y2="20" stroke="orange" stroke-width="10"></line><line x1="30" y1="70" x2="20" y2="80" stroke="orange" stroke-width="10"></line></svg></button>',1),Rt={class:"dropdown-menu dropdown-menu-end shadow px-2","aria-labelledby":"bd-theme-text"},Qt=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"20",height:"20"},[(0,a._)("circle",{cx:"50",cy:"50",r:"40",fill:"green"})],-1),Xt=[Qt],Gt=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"20",height:"20"},[(0,a._)("circle",{cx:"50",cy:"50",r:"40",fill:"grey"})],-1),es=[Gt],ts=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",width:"20",height:"20"},[(0,a._)("circle",{cx:"50",cy:"50",r:"40",fill:"black"})],-1),ss=[ts];function ls(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",Yt,[Kt,(0,a._)("ul",Rt,[(0,a._)("li",null,[(0,a._)("button",{type:"button",class:"dropdown-item d-flex align-items-center justify-content-center","data-bs-theme-value":"success","aria-pressed":"true",onClick:t[0]||(t[0]=e=>o.switcher(1))},Xt)]),(0,a._)("li",null,[(0,a._)("button",{type:"button",class:"dropdown-item d-flex align-items-center justify-content-center","data-bs-theme-value":"secondary","aria-pressed":"false",onClick:t[1]||(t[1]=e=>o.switcher(2))},es)]),(0,a._)("li",null,[(0,a._)("button",{type:"button",class:"dropdown-item d-flex align-items-center justify-content-center","data-bs-theme-value":"dark","aria-pressed":"false",onClick:t[2]||(t[2]=e=>o.switcher(3))},ss)])])])}var as={name:"UpButtonComponent",methods:{switcher(e){localStorage.setItem("theme",e);const t=document.querySelector(".title-block"),s=document.querySelector(".up-button"),l=document.querySelector(".burger-btn"),a=document.querySelector("#authModalButton"),n=[t,s,a,l];var o="bg-success";2==e?o="bg-secondary":3==e&&(o="bg-dark"),n.forEach((e=>{null!==e&&(e.classList.remove("bg-success","bg-secondary","bg-dark"),e.classList.add(o))}))}}};const ns=(0,r.Z)(as,[["render",ls]]);var os=ns;const rs={class:"modal d-block",tabindex:"-1"},is={class:"modal-dialog d-flex align-items-center justify-content-center modal-dialog-scrollable"},cs={class:"modal-content w-50 captcha-modal text-dark"},ds={class:"modal-header"},us=(0,a._)("h6",{class:"modal-title"},"РеКаптча",-1),ms={class:"modal-body"},ps={class:"mb-3"},hs=(0,a._)("label",{for:"city"},[(0,a.Uk)("Відповідь: "),(0,a._)("span",{class:"text-danger"},"*")],-1),gs={class:"input-group"},bs=["disabled"];function ys(e,t,s,n,o,r){return(0,a.wg)(),(0,a.iD)("div",rs,[(0,a._)("div",is,[(0,a._)("div",cs,[(0,a._)("div",ds,[us,(0,a._)("button",{type:"button",class:"btn-close btn-close-dark","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=e=>s.captcha.modal=!1)})]),(0,a._)("div",ms,[(0,a._)("h3",null,(0,u.zw)(o.question_string),1),(0,a._)("div",ps,[hs,(0,a._)("div",gs,[(0,a.wy)((0,a._)("input",{class:"form-control w-100",style:{resize:"none"},"onUpdate:modelValue":t[1]||(t[1]=e=>o.answer=e)},null,512),[[l.nr,o.answer]])])]),(0,a._)("button",{class:"btn btn-outline-dark w-100 btn-lg btn-block",onClick:t[2]||(t[2]=(...e)=>r.continueAuth&&r.continueAuth(...e)),type:"submit",disabled:o.disabled},"Відправити",8,bs)])])])])}var vs={name:"CaptchaModal",mixins:[Le],props:{blockAllButtons:Function,unBlockAllButtons:Function,captcha:Object,toastr:Object,authUser:Function},data(){return{question:null,question_string:null,answer:null,disabled:!1}},mounted(){this.generateQuestion()},methods:{randomNumber(){return Math.round(9*Math.random())},generateQuestion(){var e=this.randomNumber(),t=this.randomNumber();return this.question_string=`${e} + ${t} = ?`,this.question=e+t},continueAuth(){var e=document.querySelector(".password"),t=document.querySelector(".userEmailAuth"),s=document.querySelector("#flexCheckDefault");document.querySelector(".auth"),document.querySelector(".forgetPassword"),document.querySelector(".registration");this.answer==this.question?(this.disabled=!0,this.blockAllButtons(),document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".modal").classList.remove("d-block"),setTimeout((async()=>{try{const a=await this.auth(e.value,t.value);if(200===a.status){var l=sessionStorage.getItem("accounts_page");null!==l&&sessionStorage.removeItem("accounts_page"),!0===s.checked&&(localStorage.setItem("p",e.value),localStorage.setItem("e",t.value)),29===a.result.r?(sessionStorage.setItem("admin",!0),sessionStorage.setItem("user","Адмін")):(sessionStorage.setItem("user",a.result.f),sessionStorage.setItem("userFullInfo",JSON.stringify(a.result))),this.authUser()}else ue().error(a.result)}catch(a){ue().error(a),console.error(a)}this.captcha.modal=!1,document.querySelector(".cs-loader").classList.add("d-none")}),900)):(ue().error("Невірно! Спробуйте ще раз!"),this.generateQuestion()),this.unBlockAllButtons()}}};const ws=(0,r.Z)(vs,[["render",ys]]);var fs=ws;const _s={key:0,class:"modal d-block bg-dark bg-opacity-75",tabindex:"-1"},ks={class:"modal-dialog d-flex align-items-center modal-dialog-scrollable"},Ss={class:"modal-content"},xs={class:"modal-header"},As={class:"modal-title"},qs={class:"modal-body"},Ms={class:"table-responsive mb-0",style:{"max-height":"300px"}},Is={class:"table-bordered border-primary w-100 text-center"},Cs=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Ім'я"),(0,a._)("th",{scope:"col"},"Рахунок"),(0,a._)("th",{scope:"col"},"Борг")])],-1),Ds=["title"],Bs=["title"],Ps=["title"];function Ls(e,t,s,l,n,o){return n.debtors.modal?((0,a.wg)(),(0,a.iD)("div",_s,[(0,a._)("div",ks,[(0,a._)("div",Ss,[(0,a._)("div",xs,[(0,a._)("h6",As,"Основні боржники станом на "+(0,u.zw)(o.currentyDay()),1),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=e=>n.debtors.modal=!1)})]),(0,a._)("div",qs,[(0,a._)("div",Ms,[(0,a._)("table",Is,[Cs,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.users,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",{class:"mt-1",title:e.f},(0,u.zw)(e.f),9,Ds),(0,a._)("td",{class:"mt-1",title:e.account},(0,u.zw)(e.account),9,Bs),(0,a._)("td",{class:"mt-1",title:e.all_sum},(0,u.zw)(e.all_sum),9,Ps)])))),128))])])])])])])])):(0,a.kq)("",!0)}var Es={name:"DebtorsModal",props:{users:Array},data(){return{debtors:{modal:!0}}},methods:{currentyDay(){var e=(new Date).getDate(),t=(new Date).getMonth()+1,s=(new Date).getFullYear();return e<10&&(e=`0${e}`),t<10&&(t=`0${t}`),`${e}.${t}.${s}`}}};const Fs=(0,r.Z)(Es,[["render",Ls]]);var $s=Fs;const Os={class:"d-flex align-items-center justify-content-center w-100",style:{height:"100vh"}},Ts=(0,a._)("div",{class:"spinner-border",style:{width:"12rem",height:"12rem"},role:"status"},[(0,a._)("span",{class:"visually-hidden"},"Loading...")],-1),Us=[Ts];function js(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",Os,Us)}var zs={name:"LoaderView"};const Hs=(0,r.Z)(zs,[["render",js]]);var Zs=Hs,Ws={name:"WelcomePage",mixins:[Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le],components:{PersonalAccountsPage:Oe,UpButtonComponent:We,PromStatePurchase:Dt,ContactComponent:Ot,ConfirmedWindow:Jt,BackSwitcherButtonComponent:os,CaptchaModal:fs,DebtorsModal:$s,LoaderView:Zs},data(){return{url:this.$store.getters.getUrl,currentYear:(new Date).getFullYear(),searcher_text:"",modal:!1,contucts:null,personal_accounts:!1,paymentsList:null,pagination:!1,articles:null,anotherPage:null,userId:null,captcha:{modal:!1},debtors:{users:[],modal:!1},loader:!1}},async mounted(){ue().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1600,toastClass:"custom-toast"},await this.before_open_page(),await document.querySelector(".WelcomePage").classList.toggle("d-none");const e=sessionStorage.getItem("alert");null!==e&&(ue().success(e),sessionStorage.removeItem("alert")),this.theme(),this.mountedFunc(),this.deletePaginData()},updated(){this.deletePaginData()},created(){this.pagination=!1},methods:{async before_open_page(){if(this.loader=!0,null===sessionStorage.getItem("debtors")){const e=this.debtors;await this.debtorsFunc();0!==e.users.length&&(e.modal=!0)}this.loader=!1},async debtorsFunc(){try{const t=this.debtors.users,s=await this.all_debtors();if(200===s["status"]){var e=s["message"];e.forEach((e=>{if(0!==t.length){var s=t.some((t=>t["account"]===e["account"]));!1===s&&t.push(e)}else t.push(e)})),sessionStorage.setItem("debtors",JSON.stringify(this.debtors.users))}else ue().error(s["message"])}catch(t){console.error(t),ue().error("Боржники відсутні!")}},theme(){const e=document.querySelector(".title-block"),t=document.querySelector(".up-button"),s=document.querySelector(".burger-btn"),l=document.querySelector("#authModalButton"),a=[e,t,l,s],n=localStorage.getItem("theme");var o="bg-success";null!==n&&(2==n?o="bg-secondary":3==n&&(o="bg-dark")),a.forEach((e=>{null!==e&&e.classList.add(o)}))},next(){const e="d-none";var t=0,s=!1;null!==this.articles&&this.articles.length>0&&this.articles.forEach((l=>{l.classList.contains(e)&&t<2&&(s=!0,l.classList.remove(e),t++)})),1===t&&sessionStorage.setItem("page-single",!0),!0===s&&(sessionStorage.getItem("page")?sessionStorage.setItem("page",parseInt(sessionStorage.getItem("page"))+1):sessionStorage.setItem("page",1)),window.scrollTo(0,document.body.scrollHeight)},prev(){const e="d-none";let t=0;if(null!==sessionStorage.getItem("page")&&parseInt(sessionStorage.getItem("page"))>0){for(let s=this.articles.length-1;s>=0;s--){const l=this.articles[s];t<2&&(null!==sessionStorage.getItem("page-single")?!l.classList.contains(e)&&t<1&&(l.classList.add(e),t++):!l.classList.contains(e)&&t<2&&(l.classList.add(e),t++))}sessionStorage.removeItem("page-single")}if(sessionStorage.getItem("page")){const e=parseInt(sessionStorage.getItem("page"))-1<0?0:parseInt(sessionStorage.getItem("page"))-1;sessionStorage.setItem("page",e)}},deletePaginData(){sessionStorage.removeItem("page"),sessionStorage.removeItem("page-single")},mountedFunc(){const e=sessionStorage.getItem("currentyPage");if(null!==e){if(1==e)return this.news();if(3==e)return this.authUser(),this.contacts();if(4==e)return this.authUser(),this.toBillingsPage()}return this.saveArticles()},authUser(){document.querySelector(".modal").classList.remove("d-block"),this.ifUserAuth()},unDisabledAuthButton(e,t,s){e.value.replaceAll(" ","").length<8||!this.ifValidEmail(t.value.replaceAll(" ",""))?s.disabled=!0:s.disabled=!1},ifValidEmail(e){var t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},unDisabledResetPasswordButton(e,t,s,l){t=null!==t?t.value.replaceAll(" ","").length:null,e=null!==e?e.value.replaceAll(" ","").length:null,s=null!==s?this.ifValidEmail(s.value.replaceAll(" ","")):null,l.disabled=null!==t&&t<8||null!==e&&0===e||null!==s&&!s},logOutFunc(){sessionStorage.removeItem("user"),sessionStorage.removeItem("admin"),sessionStorage.removeItem("userFullInfo"),sessionStorage.removeItem("current_email"),this.authUser(),this.news()},async resetPasswordFunc(e){this.blockAllButtons(),document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".modal-content").style.pointerEvents="none";try{const t=await this.resetPassword(e);200===t.status&&document.querySelector(".modal").classList.remove("d-block"),ue().warning(t.result)}catch(t){ue().error(t),console.error(t)}this.unBlockAllButtons(),document.querySelector(".modal-content").style.pointerEvents="auto",document.querySelector(".cs-loader").classList.add("d-none")},async signUpFunc(e,t){this.blockAllButtons(),document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".modal").classList.remove("d-block");try{const s=await this.signUp(e.value,t.value);200===s.status?ue().success(s.result):ue().error(s.result)}catch(s){ue().error(s),console.error(s)}this.unBlockAllButtons(),document.querySelector(".cs-loader").classList.add("d-none")},forgetPasswordContent(){document.querySelector(".modal-title").innerText="Відновлення паролю",document.querySelector(".modal-body > p").innerHTML='\n        <form class="mt-3">\n          <div class="form-floating mt-2 mb-2">\n            <input type="email" class="form-control userEmail" id="floatingInputEmail" placeholder="">\n            <label for="floatingInputEmail">Пошта</label>\n          </div>\n\n          <div class=\'mt-4 w-100\'>\n            <button class="btn btn-outline-danger w-50 py-2 resetPassword" type="submit" disabled>Відновити пароль</button>\n            <button class="btn btn-outline-primary py-2 signIn" type="submit">Увійти</button>\n          <div>\n        </form>\n      ';var e=document.querySelector(".userEmail"),t=document.querySelector(".resetPassword"),s=document.querySelector(".signIn");e.addEventListener("input",(()=>this.unDisabledResetPasswordButton(null,null,e,t))),t.onclick=t=>{t.preventDefault(),this.resetPasswordFunc(e.value)},s.onclick=e=>{e.preventDefault(),this.authModal()}},registrationContent(){document.querySelector(".modal-title").innerText="Реєстрація юзера",document.querySelector(".modal-body > p").innerHTML=`\n        <form class="mt-3">\n          <div class="form-floating mt-2 mb-2">\n            <input type="fullname" class="form-control name" id="floatingInput" placeholder="">\n            <label for="floatingInput">Ім'я та прізвище</label>\n          </div>\n          <div class="form-floating mt-2 mb-2">\n            <input type="email" class="form-control userEmail" id="floatingInputEmail" placeholder="">\n            <label for="floatingInputEmail">Пошта</label>\n          </div>\n\n          <div class='mt-4 w-100'>\n            <button class="btn btn-outline-danger w-50 py-2 signUp" type="submit" disabled>Зареєструватися</button>\n            <button class="btn btn-outline-primary text-center py-2 signIn" type="submit">Увійти</button>\n            <a href='${this.url}/auth/google' class="btn btn-outline-primary w-50 py-1 mt-1 google_auth d-flex align-items-center justify-content-center" type="submit">\n              <svg class="mx-1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35" height="35" viewBox="0 0 48 48">\n              <path fill="#fbc02d" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20  s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#e53935" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039 l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4caf50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path><path fill="#1565c0" d="M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571 c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path>\n              </svg>\n              <span class="mx-1">google</span>\n            </a>\n          <div>\n        </form>\n      `;var e=document.querySelector(".name"),t=document.querySelector(".userEmail"),s=document.querySelector(".signUp"),l=document.querySelector(".signIn");e.addEventListener("input",(()=>this.unDisabledResetPasswordButton(e,null,t,s))),t.addEventListener("input",(()=>this.unDisabledResetPasswordButton(e,null,t,s))),s.onclick=s=>{s.preventDefault(),this.signUpFunc(e,t)},l.onclick=e=>{e.preventDefault(),this.authModal()}},authModal(){const e=sessionStorage.getItem("user");if(document.querySelector(".carousel-inner").innerHTML="",document.querySelector(".modal").classList.add("d-block"),e){const t=sessionStorage.getItem("admin");if(document.querySelector(".modal-title").innerText=e,t){document.querySelector(".modal-body > p").innerHTML='\n            <div class="auth-wrapper mt-3">\n              <div class="auth-content">\n                <nav class="sidebar">\n                  <ul class="nav flex-column fw-bold">\n\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="toAdminPanel nav-link">До адмінки</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="logOut nav-link">Разлогінитись</a></li>\n                  \n                  </ul>\n                </nav>\n              </div>\n            </div>\n          ';const e=document.querySelector(".toAdminPanel");e.onclick=e=>(e.preventDefault(),this.$router.push({name:"admin"}))}else{const e=document.querySelector(".modal-body > p");e.innerHTML='\n            <div class="auth-wrapper mt-3">\n              <div class="auth-content">\n                <nav class="sidebar">\n                  <ul class="nav flex-column fw-bold">\n\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="toBillings nav-link">Передивитись рахунки</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="addPaymentAccount nav-link">Додати рахунок</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="editProfile nav-link">Редагувати профіль</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="logOut nav-link">Разлогінитись</a></li>\n                    <li class="nav-item border shadow-sm m-1"><a href="#" class="deleteMyself nav-link text-danger">Видалити профіль</a></li>\n                  \n                  </ul>\n                </nav>\n              </div>\n            </div>\n          ';const t=document.querySelector(".toBillings"),s=document.querySelector(".addPaymentAccount"),l=document.querySelector(".editProfile"),a=document.querySelector(".deleteMyself");l.onclick=e=>{this.$router.push({name:"profile"})},a.onclick=e=>{e.preventDefault(),document.querySelector(".modal").classList.remove("d-block"),this.$store.commit("editConfirmedWindowState");var t=sessionStorage.getItem("userFullInfo");t=JSON.parse(t),t=t["id"],this.userId=t},t.onclick=async e=>{e.preventDefault(),this.toBillingsPage()},s.onclick=async t=>{t.preventDefault(),e.innerHTML='\n              <div class="auth-wrapper mt-3">\n                <div class="auth-content">\n                  <div class=\'form\'>\n                    <div class="mb-2">\n                      <label for="exampleInputService1" class="form-label fw-bold">Виберіть послугу:</label>\n                      <select class="form-select" id="exampleInputService1">\n                        \x3c!-- <option value="Водопостачання" selected>Водопостачання</option> --\x3e\n                        <option value="Побутові відходи">Побутові відходи</option>\n                        \x3c!-- <option value="Газопостачання">Газопостачання</option> --\x3e\n                        <option value="Тепломережа">Тепломережа</option>\n                        <option value="Квартплата">Квартплата</option>\n                      </select>\n                    </div>\n                    <div class="mb-2">\n                      <label for="exampleInputAccount1" class="form-label fw-bold">Номер особового рахункy:</label>\n                      <input type="text" class="form-control" id="exampleInputAccount1">\n                    </div>\n                    <div class="mb-2">\n                      <label for="exampleInputAddress1" class="form-label fw-bold">Адреса:</label>\n                      <select class="form-select" id="exampleInputAddress1">\n                        <option value="Черкаське" selected>Черкаське</option>\n                        <option value="Гвардійське">Гвардійське</option>\n                      </select>\n                      <input type="text" placeholder="Вулиця" class="form-control mt-2" id="street">\n                      <input type="number" min="0" placeholder="Будинок" class="form-control mt-2" id="house">\n                      <select class="form-select mt-2" id="exampleInputApartment1">\n                        <option value="" selected disabled>Корпус</option>\n                        <option value="">Відсутній</option>\n                        <option value="А">А</option>\n                        <option value="Б">Б</option>\n                        <option value="В">В</option>\n                        <option value="Г">Г</option>\n                        <option value="Д">Д</option>\n                      </select>\n                      <input type="number" min="0" placeholder="Квартира" class="form-control mt-2" id="flat">\n                    </div>\n                    <button type="submit" class="btn btn-outline-dark" id="savingAccountButton" disabled>Зберегти</button>\n                  </div>\n                </div>\n              </div>\n            ';const s=document.getElementById("exampleInputService1"),l=document.getElementById("exampleInputAccount1"),a=document.getElementById("exampleInputAddress1"),n=document.getElementById("street"),o=document.getElementById("house"),r=document.getElementById("exampleInputApartment1"),i=document.getElementById("flat"),c=document.getElementById("savingAccountButton");function d(){""===s.value||0===l.value.replaceAll(" ","").length||""===a.value||0===n.value.replaceAll(" ","").length||0===o.value.replaceAll(" ","").length||0===i.value.replaceAll(" ","").length?c.disabled=!0:c.disabled=!1}s.addEventListener("change",d),l.addEventListener("input",d),a.addEventListener("change",d),n.addEventListener("input",d),o.addEventListener("input",d),i.addEventListener("input",d),c.onclick=e=>{e.preventDefault(),document.querySelector(".modal").classList.remove("d-block"),document.querySelector(".cs-loader").classList.remove("d-none"),this.blockAllButtons();var t=sessionStorage.getItem("userFullInfo");t=JSON.parse(t),t=t["id"];const c=s.value.trim(),d=l.value.trim(),u=o.value.trim()+`${""!==r.value&&r.value}`,m=i.value.trim(),p="смт. "+a.value.trim()+", вул. "+n.value.trim()+", буд. "+o.value.trim()+`${""!==r.value?r.value:""}, кв. `+i.value.trim();return this.createPaymentFunc(t,a.value.trim(),c,d,p,u,m)}}}const s=document.querySelector(".logOut");s.onclick=e=>(e.preventDefault(),this.logOutFunc())}else{document.querySelector(".modal-title").innerText="Авторизація",document.querySelector(".modal-body > p").innerHTML=`\n          <form class="mt-3">\n            <div class="form-floating mt-2 mb-2">\n              <input type="email" class="form-control userEmailAuth" id="floatingInputEmail" placeholder="">\n              <label for="floatingInputEmail">Пошта</label>\n            </div>\n            <div class="form-floating mt-2 mb-2">\n              <input type="password" class="form-control password" id="floatingPassword" placeholder="Password">\n              <label for="floatingPassword">Пароль</label>\n            </div>\n\n            <div class="form-check text-start my-3">\n              <input class="form-check-input" type="checkbox" value="remember-me" id="flexCheckDefault">\n              <label class="form-check-label" for="flexCheckDefault">\n                Запам'ятати мене\n              </label>\n            </div>\n\n            <button class="btn btn-outline-primary w-25 py-2 auth" type="submit" disabled>Увійти</button>\n            <button class="btn btn-outline-primary w-50 py-2 registration" type="submit">Зареєструватися</button>\n            <a href='${this.url}/auth/google' class="btn btn-outline-primary w-50 py-1 mt-1 google_auth d-flex align-items-center justify-content-center" type="submit">\n              <svg class="mx-1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="35" height="35" viewBox="0 0 48 48">\n              <path fill="#fbc02d" d="M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20  s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"></path><path fill="#e53935" d="M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039 l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"></path><path fill="#4caf50" d="M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"></path><path fill="#1565c0" d="M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571 c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"></path>\n              </svg>\n              <span class="mx-1">google</span>\n            </a>\n\n            <div class="form-check text-start my-3 p-0">\n              <a class='link-opacity-100 forgetPassword'>Забули пароль?</a>\n            </div>\n          </form>\n        `;var t=document.querySelector(".password"),s=document.querySelector(".userEmailAuth"),l=document.querySelector("#flexCheckDefault"),a=document.querySelector(".auth"),n=document.querySelector(".forgetPassword"),o=document.querySelector(".registration");localStorage.getItem("p")&&localStorage.getItem("e")&&(l.checked=!0,a.disabled=!1,s.value=localStorage.getItem("e"),t.value=localStorage.getItem("p")),a.addEventListener("click",(async e=>{e.preventDefault(),this.captcha.modal=!0})),l.addEventListener("change",(()=>{localStorage.getItem("p")&&localStorage.getItem("e")?(localStorage.removeItem("p",t.value),localStorage.removeItem("e",s.value)):t.value.replaceAll(" ","").length>7&&this.ifValidEmail(s.value)&&(localStorage.setItem("p",t.value),localStorage.setItem("e",s.value))})),n.addEventListener("click",(async e=>{e.preventDefault(),this.forgetPasswordContent()})),o.addEventListener("click",(async e=>{e.preventDefault(),this.registrationContent()})),t.addEventListener("input",(()=>this.unDisabledAuthButton(t,s,a))),s.addEventListener("input",(()=>this.unDisabledAuthButton(t,s,a)))}},async toBillingsPage(){var e;if(this.blockAllButtons(),this.contucts=!1,this.pagination=!1,document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".modal").classList.remove("d-block"),document.querySelector(".articles").innerHTML="",this.editChooseButton(),null!==sessionStorage.getItem("accounts_page")){var t=sessionStorage.getItem("accounts_page");t=JSON.parse(t),(new Date).getTime()-parseInt(t["updated_at"])>3e5?e=await this.paymentsFunc():(this.paymentsList=t["list"],e=!0)}else e=await this.paymentsFunc();e?(this.personal_accounts=!0,sessionStorage.setItem("currentyPage",4)):(ue().error("Ваших особових рахунків не знайдено!"),this.news()),this.unBlockAllButtons(),document.querySelector(".cs-loader").classList.add("d-none")},async createPaymentFunc(e,t,s,l,a,n,o){try{const i=await this.create_payment(e,t,s,l,a,n,o);if(200===i.status){var r=sessionStorage.getItem("accounts_page");null!==r&&sessionStorage.removeItem("accounts_page"),4==sessionStorage.getItem("currentyPage")&&(ue().options.onHidden=()=>{window.location.reload()}),ue().success(i.message)}else ue().error(i.message)}catch(i){ue().error(i),console.error(i)}this.unBlockAllButtons(),document.querySelector(".cs-loader").classList.add("d-none")},editChooseButton(){document.querySelector(".news").classList.remove("btn-warning"),document.querySelector(".contacts").classList.remove("btn-warning")},hideModal(){document.querySelector(".modal").classList.remove("d-block")},async paymentsFunc(){try{var e=sessionStorage.getItem("userFullInfo");e=JSON.parse(e);const t=e["id"],s=await this.payments(t);if(200===s.status){this.paymentsList=s.message;const e={list:s.message,updated_at:(new Date).getTime()};return sessionStorage.setItem("accounts_page",JSON.stringify(e)),!0}return!1}catch(t){return!1}},blockAllButtons(){const e=[...document.querySelectorAll(".news")],t=[...document.querySelectorAll(".contacts")],s=[...document.querySelectorAll(".authModalButton")],l=e=>{e.forEach((e=>e.disabled=!0))};l(e),l(t),l(s),document.querySelectorAll(".searcherSubmit").disabled=!0,document.querySelector(".news-footer").disabled=!0,document.querySelector(".contacts-footer").disabled=!0,document.querySelector(".searcherSubmit").disabled=!0,document.querySelector(".album").style.pointerEvents="none",document.querySelector("body").style.pointerEvents="none"},unBlockAllButtons(){const e=[...document.querySelectorAll(".news")],t=[...document.querySelectorAll(".contacts")],s=[...document.querySelectorAll(".authModalButton")],l=e=>{e.forEach((e=>e.disabled=!1))};l(e),l(t),l(s),document.querySelectorAll(".searcherSubmit").disabled=!1,document.querySelector(".news-footer").disabled=!1,document.querySelector(".contacts-footer").disabled=!1,document.querySelector(".searcherSubmit").disabled=!1,document.querySelector(".album").style.pointerEvents="auto",document.querySelector("body").style.pointerEvents="auto"},news(){this.pagination=!1,this.personal_accounts=!1,this.contucts=null,this.editChooseButton(),this.saveArticles(1),document.querySelector(".news").classList.add("btn-warning")},contacts(){this.pagination=!1,this.personal_accounts=!1,this.contucts=!0,this.editChooseButton(),sessionStorage.setItem("currentyPage",3),document.querySelector(".articles").innerHTML="",this.anotherPage="ContactComponent",setTimeout((()=>{if(null!==sessionStorage.getItem("userFullInfo")){var e=JSON.parse(sessionStorage.getItem("userFullInfo")),t=e.f,s=e.e,l=e.phone;document.querySelector("input[aria-describedby='nameHelp']").value=t,document.querySelector("input[aria-describedby='emailHelp']").value=s,null!==l&&"null"!==l&&(document.querySelector("input[aria-describedby='phoneHelp']").value=l)}function a(e){const t=/^[A-Za-z0-9._%-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/;return t.test(e)}function n(e){const t=e.replace(/\s/g,""),s=/^(?:\+380|380|0)\d{9,12}$/;return s.test(t)}document.querySelector(".contacts").classList.add("btn-warning"),document.querySelector(".sendMail").addEventListener("click",(async e=>{e.preventDefault(),document.querySelector(".cs-loader").classList.remove("d-none"),document.querySelector(".sendMail").disabled=!0,this.blockAllButtons();const t=document.querySelector("#name"),s=document.querySelector("#email").value,l=document.querySelector("#phone").value,o=document.querySelector("#message");if(t.value.replace(/ /g,"").length>0&&a(s)&&o.value.replace(/ /g,"").length>0&&n(l))try{const e=await this.sendMail(t.value,s,l,o.value);200===e.status?ue().success("Повідомлення відправлено! Дякуємо Вам за активність!"):ue().error(e.result)}catch(i){ue().error(i),console.error(i)}else{var r=[];0===t.value.replace(/ /g,"").length&&r.push("ім'я"),0===o.value.replace(/ /g,"").length&&r.push("повідомлення"),!a(s)&&r.push("пошта"),!n(l)&&r.push("телефон"),r=r.join(", "),ue().error(`Некоректно вказані поля: ${r}!`)}document.querySelector(".sendMail").disabled=!1,document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}))}),1)},ifUserAuth(){const e=sessionStorage.getItem("user"),t=[...document.querySelectorAll(".authModalButton")];e?t.forEach((t=>t.innerText=e)):t.forEach((e=>e.innerText="Увійти до кабінету"))},async saveArticles(e=null){const t=document.querySelector(".articles");document.querySelector(".cs-loader").classList.remove("d-none"),this.blockAllButtons(),t.innerHTML="",this.ifUserAuth(),setTimeout((async()=>{try{var s,l=localStorage.getItem("articles");if(null!==l){l=JSON.parse(l);const t=l.updated_at;s=(new Date).getTime()-t<3e5?l.request:null===e?await this.getAllArticlesFunc():await this.getAllArticlesFunc(e)}else s=null===e?await this.getAllArticlesFunc():await this.getAllArticlesFunc(e);if(200===s.status){const l=s.result,a={request:s,updated_at:(new Date).getTime()};localStorage.setItem("articles",JSON.stringify(a)),l.forEach(((e,s)=>{const l=e.title,a=e.images.split(", "),n=a[0],o=e.text;var r=document.createElement("div");r.classList.add("col","article-col");var i=document.createElement("div");i.classList.add("card","shadow-sm");var c=document.createElement("div");c.classList.add("mb-5"),c.style.backgroundImage=`url(${this.url}/articles/image/${n})`,c.style.backgroundSize="contain",c.style.backgroundPositionX="center",c.style.backgroundPositionY="center",c.style.backgroundRepeat="no-repeat",c.style.height="225px",c.style.width="100%";var d=document.createElement("div");i.classList.add("card-body");var u=document.createElement("div");u.classList.add("card-text"),u.innerText=l.length>26?l.substring(0,23)+" ...":l,u.setAttribute("title",l);var m=document.createElement("div");m.classList.add("d-flex","justify-content-between","align-items-center");var p=document.createElement("div");p.classList.add("btn-group");var h=document.createElement("a");h.classList.add("btn","btn-sm","btn-outline-secondary","mt-1"),h.innerText="Детальніше ...",h.addEventListener("click",(()=>{document.querySelector(".modal").classList.add("d-block"),document.querySelector(".modal-title").innerText=l,document.querySelector(".modal-body > p").innerHTML=o,document.querySelector(".carousel-inner").innerHTML="",a.forEach((e=>{var t=document.createElement("img");t.classList.add("d-block","mt-2","mb-2","w-100"),t.src=`${this.url}/articles/image/${e}`,t.alt=e,document.querySelector(".carousel-inner").append(t)}))})),p.append(h),m.append(p),d.prepend(m),d.prepend(u),i.prepend(d),i.prepend(c),r.append(i),t.append(r),s>=2&&(r.classList.add("d-none"),this.articles=[...document.querySelectorAll(".article-col")])})),sessionStorage.setItem("currentyPage",e),l.length>2?this.pagination=!0:this.pagination=!1}else ue().error(s.result)}catch(a){ue().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),console.error(a)}return document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}),1)},async searcher(e){e.preventDefault();var t=document.querySelector(".articles");document.querySelector(".cs-loader").classList.remove("d-none"),this.blockAllButtons(),setTimeout((async()=>{if(null!==this.searcher_text&&this.searcher_text.trim().length>0){var e=this.searcher_text;try{var s=await this.searcherFunc(e);if(200===s.status){this.contucts=null,this.personal_accounts=!1;var l=s.result;l.length>0?(this.contucts=null,this.editChooseButton(),document.querySelector(".news").classList.add("btn-warning"),t.innerHTML="",l.forEach(((e,s)=>{var l=e.title,a=e.images.split(", "),n=a[0],o=e.text,r=document.createElement("div");r.classList.add("col","article-col");var i=document.createElement("div");i.classList.add("card","shadow-sm");var c=document.createElement("div");c.classList.add("mb-5"),c.style.backgroundImage=`url(${this.url}/articles/image/${n})`,c.style.backgroundSize="contain",c.style.backgroundPositionX="center",c.style.backgroundPositionY="center",c.style.backgroundRepeat="no-repeat",c.style.height="225px",c.style.width="100%";var d=document.createElement("div");i.classList.add("card-body");var u=document.createElement("div");u.classList.add("card-text"),u.innerText=l.length>26?l.substring(0,23)+" ...":l,u.setAttribute("title",l);var m=document.createElement("div");m.classList.add("d-flex","justify-content-between","align-items-center");var p=document.createElement("div");p.classList.add("btn-group");var h=document.createElement("a");h.classList.add("btn","btn-sm","btn-outline-secondary","mt-1"),h.innerText="Детальніше ...",h.addEventListener("click",(()=>{document.querySelector(".modal").classList.add("d-block"),document.querySelector(".modal-title").innerText=l,document.querySelector(".modal-body > p").innerHTML=o,document.querySelector(".carousel-inner").innerHTML="",a.forEach((e=>{var t=document.createElement("img");t.classList.add("d-block","w-100","mt-2","mb-2"),t.src=`${this.url}/articles/image/${e}`,t.alt=e,document.querySelector(".carousel-inner").append(t)}))})),p.append(h),m.append(p),d.prepend(m),d.prepend(u),i.prepend(d),i.prepend(c),r.append(i),t.append(r),s>=2&&(r.classList.add("d-none"),this.articles=[...document.querySelectorAll(".article-col")])})),document.querySelector(".backAllArticles").classList.remove("d-none"),l.length>2?this.pagination=!0:this.pagination=!1):ue().error("Інформації не знайдено!")}else ue().error(s.result)}catch(a){ue().error(a),console.error(a)}}else{const e=document.querySelector("input[type='search']");e.classList.add("border","border-danger","border-2"),setTimeout((()=>{e.classList.remove("border","border-danger","border-4")}),1500)}document.querySelector(".cs-loader").classList.add("d-none"),this.unBlockAllButtons()}),1e3)},async backAllArticles(e){e.preventDefault(),this.searcher_text="",this.pagination=!1,await this.mountedFunc(),document.querySelector(".backAllArticles").classList.add("d-none")}}};const Ns=(0,r.Z)(Ws,[["render",ce]]);var Vs=Ns;const Js={class:"ProfilePage"},Ys={class:"px-4 py-5 pb-1 border-bottom text-center bg-gradient text-white title-block"},Ks=(0,a.uE)('<img class="d-block mx-auto mb-4 border border-white border-2 rounded p-1 shadow-lg" src="'+m+'" alt="" width="100" height="100"><h1 class="display-6 fw-bold">Комунальне підприємство</h1><h3 class="display-7 fw-bold">&quot;ЖИЛСЕРВІС&quot;</h3><p class="mb-0">Черкаської</p><p class="mb-0">селищної ради</p>',5),Rs={class:"p-3 mt-5"},Qs={class:"container"},Xs=(0,a._)("hr",{class:"shadow"},null,-1),Gs={class:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"},el={class:"nav d-none d-sm-flex col-12 me-lg-auto justify-content-center mb-md-0"},tl={class:"burger d-flex d-sm-none flex-wrap w-100 align-items-center justify-content-center"},sl=(0,a._)("button",{class:"btn btn-success border border-1 border-white btn-lg w-25 burger-btn text-white",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," ≡ ",-1),ll={class:"dropdown-menu dropdown-menu-light text-center"},al={class:""},nl={class:"container rounded bg-white mt-5 mb-5"},ol={class:"row p-3"},rl={class:"col-md-6 border-right"},il={class:"avatar-block d-flex flex-column align-items-center justify-content-center h-100 text-center p-3 py-5"},cl=["src"],dl={class:"col-md-6 border-right"},ul={class:"p-3 py-5"},ml=(0,a._)("div",{class:"d-flex justify-content-center align-items-center mb-3"},[(0,a._)("h4",{class:"text-center"},"Налаштування профілю")],-1),pl={class:"mt-2 d-flex justify-content-center align-items-center"},hl={class:"w-75"},gl=(0,a._)("label",{class:"labels"},"Ім'я та прізвище",-1),bl=(0,a._)("label",{class:"labels"},"Пароль",-1),yl=(0,a._)("label",{class:"labels"},"Номер телефону",-1),vl=(0,a._)("label",{class:"labels"},"Пошта",-1),wl={class:"mt-5 text-center"},fl=(0,a._)("div",{class:"cs-loader d-none fixed-bottom"},[(0,a._)("div",{class:"cs-loader-inner"},[(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●")])],-1);function _l(e,t,s,n,o,r){const i=(0,a.up)("BackSwitcherButtonComponent"),c=(0,a.up)("UpButtonComponent"),d=(0,a.up)("PromStatePurchase");return(0,a.wg)(),(0,a.iD)("div",Js,[(0,a._)("div",null,[(0,a.Wm)(i),(0,a.Wm)(c),(0,a.Wm)(d),(0,a._)("div",Ys,[Ks,(0,a._)("header",Rs,[(0,a._)("div",Qs,[Xs,(0,a._)("div",Gs,[(0,a._)("ul",el,[(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-warning m-2 text-white border border-white",onClick:t[0]||(t[0]=(...e)=>r.toMainPage&&r.toMainPage(...e))},"Назад до головної")])]),(0,a._)("div",tl,[sl,(0,a._)("ul",ll,[(0,a._)("li",al,[(0,a._)("span",{class:"dropdown-item fw-bold",onClick:t[1]||(t[1]=(...e)=>r.toMainPage&&r.toMainPage(...e))},"Назад до головної")])])])])])])]),(0,a._)("div",nl,[(0,a._)("div",ol,[(0,a._)("div",rl,[(0,a._)("div",il,[(0,a._)("img",{class:"avatar border border-white rounded-2",width:"350",onClick:t[2]||(t[2]=(...e)=>r.avatar&&r.avatar(...e)),src:o.user.avatar},null,8,cl),"avatar.png"!==o.user.avatar.split("/").reverse()[0]?((0,a.wg)(),(0,a.iD)("button",{key:0,class:"btn btn-outline-danger mt-3",onClick:t[3]||(t[3]=(...e)=>r.deleteAvatar&&r.deleteAvatar(...e)),title:"Видалити зображення"},"🗑")):(0,a.kq)("",!0)])]),(0,a._)("div",dl,[(0,a._)("div",ul,[ml,(0,a._)("div",pl,[(0,a._)("div",hl,[(0,a._)("div",null,[gl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":t[4]||(t[4]=e=>o.user.f=e)},null,512),[[l.nr,o.user.f]])]),(0,a._)("div",null,[bl,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control",placeholder:"","onUpdate:modelValue":t[5]||(t[5]=e=>o.user.p=e)},null,512),[[l.nr,o.user.p]])]),(0,a._)("div",null,[yl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":t[6]||(t[6]=e=>o.user.phone=e)},null,512),[[l.nr,o.user.phone]])]),(0,a._)("div",null,[vl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",placeholder:"","onUpdate:modelValue":t[7]||(t[7]=e=>o.user.e=e)},null,512),[[l.nr,o.user.e]])])])]),(0,a._)("div",wl,[(0,a._)("button",{class:"btn btn-primary profile-button",type:"button",onClick:t[8]||(t[8]=(0,l.iM)(((...e)=>r.profileUpdate&&r.profileUpdate(...e)),["prevent"]))},"Зберегти зміни")])])])])]),fl])])}var kl={name:"ProfilePage",mixins:[Le,Le,Le,Le],components:{BackSwitcherButtonComponent:os,UpButtonComponent:We,PromStatePurchase:Dt},data(){return{user:null,currenty_year:(new Date).getFullYear()}},created(){this.auth()},mounted(){this.theme(),ue().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1600,toastClass:"custom-toast"}},methods:{disabledMenu(){document.querySelector("#app").style.pointerEvents="none",document.querySelector(".cs-loader").classList.remove("d-none")},unDisabledMenu(){document.querySelector("#app").style.pointerEvents="auto",document.querySelector(".cs-loader").classList.add("d-none")},theme(){const e=document.querySelector(".title-block"),t=document.querySelector(".up-button"),s=document.querySelector(".burger-btn"),l=document.querySelector("#authModalButton"),a=[e,t,l,s],n=localStorage.getItem("theme");var o="bg-success";null!==n&&(2==n?o="bg-secondary":3==n&&(o="bg-dark")),a.forEach((e=>{null!==e&&e.classList.add(o)}))},auth(){const e=sessionStorage.getItem("userFullInfo");return e?(this.user=JSON.parse(e),sessionStorage.setItem("current_email",this.user.e)):this.$router.push({name:"welcome"})},toMainPage(){return this.$router.push({name:"welcome"})},avatar(){const e=document.createElement("input");e.type="file",e.classList.add("invisible"),document.body.append(e),e.click(),e.addEventListener("change",(async t=>{if(0!==e.files.length){await this.disabledMenu();const t=e.files[0],l=sessionStorage.getItem("current_email");try{const e=await this.uploadAvatar(l,t),s=e.status,a=e.result;if(200===s){const t=e.user;"null"===t.phone&&(t.phone=null),sessionStorage.setItem("userFullInfo",JSON.stringify(t)),ue().options.onHidden=()=>{window.location.reload()},ue().success(a)}else ue().error(a),await this.unDisabledMenu()}catch(s){console.error(s),ue().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),await this.unDisabledMenu()}}else ue().info("Зображення не вибрано!"),await this.unDisabledMenu()})),document.body.removeChild(e)},async deleteAvatar(){await this.disabledMenu();try{const e=sessionStorage.getItem("current_email"),t=await this.deleteAvatarFunc(e),s=t.status,l=t.result;if(200===s){const e=t.user;"null"===e.phone&&(e.phone=null),sessionStorage.setItem("userFullInfo",JSON.stringify(e)),ue().options.onHidden=()=>{window.location.reload()},ue().success(l)}else ue().error(l),await this.unDisabledMenu()}catch(e){console.error(e),ue().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),await this.unDisabledMenu()}},async profileUpdate(){const e=this.user.f,t=this.user.e,s=this.user.p,l=null!==this.user.phone?this.ifValidPhone(this.user.phone.replaceAll(" ","")):null,a=sessionStorage.getItem("current_email");if(0!==e.replaceAll(" ","").length&&this.ifValidEmail(t.replaceAll(" ",""))&&s.replaceAll(" ","").length>7&&(!0===l||null===l)&&null!==a){await this.disabledMenu();try{const e=this.user,t=await this.profileUpdateFunc(a,e),s=t.status,l=t.result;if(200===s){const e=t.user;"null"===e.phone&&(e.phone=null),sessionStorage.setItem("userFullInfo",JSON.stringify(e)),sessionStorage.setItem("user",e.f),ue().options.onHidden=()=>{window.location.reload()},ue().success(l)}else ue().error(l),await this.unDisabledMenu()}catch(n){console.error(n),ue().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),await this.unDisabledMenu()}}else ue().info("Заповніть усі поля коректно!")},async banksUpdate(){const e=this.user.card,t=this.user.card_exp_month,s=this.user.card_exp_year,l=this.user.card_cvv,a=sessionStorage.getItem("current_email");if(null!==e&&16===e.replaceAll(" ","").length&&null!==t&&t>0&&null!==s&&s>=this.currenty_year&&null!==l&&3===l.replaceAll(" ","").length&&null!==a){await this.disabledMenu();try{const e=this.user,t=await this.banksUpdateFunc(a,e),s=t.status,l=t.result;if(200===s){const e=t.user;sessionStorage.setItem("userFullInfo",JSON.stringify(e)),sessionStorage.setItem("user",e.f),ue().options.onHidden=()=>{window.location.reload()},ue().success(l)}else ue().error(l),await this.unDisabledMenu()}catch(n){console.error(n),ue().error("Упс! Перевірте з'єднання з інтернетом або спробуйте ще раз трішки пізніше!"),await this.unDisabledMenu()}}else ue().info("Заповніть усі поля коректно!")},ifValidEmail(e){var t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)},ifValidPhone(e){const t=e.replace(/\s/g,""),s=/^(?:\+380|380|0)\d{9,12}$/;return s.test(t)}}};const Sl=(0,r.Z)(kl,[["render",_l]]);var xl=Sl;const Al={class:"AdminPage"},ql={class:"px-4 py-5 pb-1 border-bottom text-center bg-gradient text-white title-block"},Ml=(0,a.uE)('<img class="d-block mx-auto mb-4 border border-white border-2 rounded p-1 shadow-lg" src="'+m+'" alt="" width="100" height="100"><h1 class="display-6 fw-bold">Комунальне підприємство</h1><h3 class="display-7 fw-bold">&quot;ЖИЛСЕРВІС&quot;</h3><p class="mb-0">Черкаської</p><p class="mb-0">селищної ради</p>',5),Il={class:"p-3 mt-5"},Cl={class:"container"},Dl=(0,a._)("hr",{class:"shadow"},null,-1),Bl={class:"d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start"},Pl={class:"nav d-none d-sm-flex col-12 me-lg-auto justify-content-center mb-md-0"},Ll={class:"burger d-flex d-sm-none flex-wrap w-100 align-items-center justify-content-center"},El=(0,a._)("button",{class:"btn btn-success border border-1 border-white btn-lg w-25 burger-btn text-white",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," ≡ ",-1),Fl={class:"dropdown-menu dropdown-menu-light text-center"},$l={class:""},Ol={class:""},Tl={class:""},Ul={class:""},jl={class:""},zl={class:""},Hl={class:""},Zl={class:""},Wl={class:""},Nl={class:"container"},Vl={key:0,class:"row create_article mt-4 mb-3"},Jl={class:""},Yl={class:"row"},Kl={class:"col-md-4 mb-3"},Rl=(0,a._)("label",{for:"articleTitle"},[(0,a.Uk)("Назва статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),Ql=(0,a.uE)('<div class="row"><div class="mb-3 col-md-4"><label for="articleImage">Зображення (jpg, png) <span class="text-danger">*</span></label><div class="input-group"><input type="file" class="form-control" id="articleImage" multiple></div></div></div>',1),Xl={class:"mb-3 col-md-2"},Gl=(0,a._)("label",{for:"articleType"},[(0,a.Uk)("Тип "),(0,a._)("span",{class:"text-danger"},"*")],-1),ea={class:"input-group"},ta=(0,a._)("option",{value:"1"},"Новина",-1),sa=[ta],la={class:"row ml-0"},aa={class:"mb-3 w-100"},na=(0,a._)("label",{for:"articleText"},[(0,a.Uk)("Текст статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),oa={key:1,class:"row update_article mb-3"},ra={class:"mt-4 mb-4",if:"article.articles !== null"},ia={ref:"myTable",class:"table table-striped table-bordered border text-center table-light table-hover"},ca=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{scope:"col"},"Назва статті"),(0,a._)("th",{scope:"col"},"Дії")])],-1),da={scope:"row mt-1"},ua=["title"],ma=["onClick"],pa={class:""},ha={class:"row"},ga={class:"mb-3 col-md-4"},ba=(0,a._)("label",{for:"title"},[(0,a.Uk)("Назва статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),ya={class:"input-group"},va=(0,a._)("div",{class:"input-group-prepend"},[(0,a._)("span",{class:"input-group-text"},"@")],-1),wa={key:0,class:"mt-4 founderArticle"},fa={class:"row"},_a={class:"col-md-4 mb-3"},ka=(0,a._)("label",{for:"articleTitle"},[(0,a.Uk)("Назва статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),Sa=(0,a.uE)('<div class="row"><div class="col-md-4"><label for="articleImage">Зображення (jpg, png)</label><div class="input-group"><input type="file" class="form-control" id="articleImage" multiple></div></div><div class="imagesSet mt-0 mb-2 d-flex row row-cols-3 row-cols-lg-6"></div></div>',1),xa={class:"mb-3 col-md-2"},Aa=(0,a._)("label",{for:"articleType"},[(0,a.Uk)("Тип "),(0,a._)("span",{class:"text-danger"},"*")],-1),qa={class:"input-group"},Ma=(0,a._)("option",{value:"1"},"Новина",-1),Ia=[Ma],Ca={class:"row ml-0"},Da={class:"mb-3 w-100"},Ba=(0,a._)("label",{for:"articleText"},[(0,a.Uk)("Текст статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),Pa={key:2,class:"row delete_article"},La={class:"mt-4 mb-4",if:"article.articles !== null"},Ea={ref:"myTable",class:"table table-striped table-bordered text-center border table-light table-hover"},Fa=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{scope:"col"},"Назва статті"),(0,a._)("th",{scope:"col"},"Дії")])],-1),$a={scope:"row mt-1"},Oa=["title"],Ta=["onClick"],Ua={class:""},ja={class:"row"},za={class:"mb-3"},Ha=(0,a._)("label",{for:"title"},[(0,a.Uk)("Назва статті "),(0,a._)("span",{class:"text-danger"},"*")],-1),Za={class:"input-group"},Wa=(0,a._)("div",{class:"input-group-prepend"},[(0,a._)("span",{class:"input-group-text"},"@")],-1),Na={key:3,class:"row users mb-3"},Va={class:"mt-4 mb-4",if:"users.users !== null"},Ja={class:"table-responsive"},Ya={ref:"myTable",class:"table table-striped table-bordered border text-center table-light table-hover"},Ka=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"#"),(0,a._)("th",{scope:"col"},"Аватар"),(0,a._)("th",{scope:"col"},"Ім'я"),(0,a._)("th",{scope:"col"},"Пошта"),(0,a._)("th",{scope:"col"},"Телефон"),(0,a._)("th",{scope:"col"},"Дії")])],-1),Ra=["title"],Qa={class:"mt-1"},Xa=["src"],Ga=["title"],en=["title"],tn=["title"],sn=["onClick"],ln={key:4,class:"row debtors mb-3"},an={class:"table-responsive mt-4 mb-4"},nn={ref:"myTable",class:"table table-striped table-bordered border text-center table-light table-hover"},on=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Ім'я"),(0,a._)("th",{scope:"col"},"Пошта"),(0,a._)("th",{scope:"col"},"Телефон"),(0,a._)("th",{scope:"col"},"Рахунок"),(0,a._)("th",{scope:"col"},"Борг")])],-1),rn=["title"],cn=["title"],dn=["title"],un=["title"],mn=["title"],pn={class:"w-100 d-flex align-items-center justify-content-center mb-2"},hn={key:5,class:"row update_article mb-3"},gn={class:"mt-4 mb-4",if:"mail.messages !== null"},bn={class:"table-responsive"},yn={ref:"myTable",class:"table table-striped table-bordered border text-center table-light table-hover"},vn=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Ім'я відправника"),(0,a._)("th",{scope:"col"},"Пошта відправника"),(0,a._)("th",{scope:"col"},"Телефон відправника"),(0,a._)("th",{scope:"col"},"Дата відправлення"),(0,a._)("th",{scope:"col"},"Дії")])],-1),wn=["title"],fn=["title"],_n=["title"],kn=["title"],Sn=["onClick"],xn=["onClick"],An={key:6,class:"row import mt-4 mb-3"},qn={class:""},Mn=(0,a.uE)('<div class="row"><div class="mb-3 col-md-4"><label for="importFile">Файл (xls) <span class="text-danger">*</span></label><div class="input-group"><input type="file" class="form-control" id="importFile" multiple></div></div></div>',1),In={class:"mb-3 col-md-2"},Cn=(0,a._)("label",{for:"city"},[(0,a.Uk)("Смт. "),(0,a._)("span",{class:"text-danger"},"*")],-1),Dn={class:"input-group"},Bn=(0,a._)("option",{value:"Гвардійське",selected:""},"Гвардійське",-1),Pn=(0,a._)("option",{value:"Черкаське"},"Черкаське",-1),Ln=[Bn,Pn],En={key:7,class:"row orders mb-3"},Fn={class:"mt-4 mb-4"},$n={class:"table-responsive"},On={ref:"myTable",class:"table table-striped table-bordered border text-center table-light table-hover"},Tn=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{scope:"col"},"Закупівля"),(0,a._)("th",{scope:"col"},"Дії")])],-1),Un=["title"],jn=["href"],zn=["onClick"],Hn={class:"mb-2"},Zn=(0,a.uE)('<div class=""><div class="mb-3 col-md-4"><label for="importFile">Файл (xls, xlsx) <span class="text-danger">*</span></label><div class="input-group"><input type="file" class="form-control" id="importFile" multiple></div></div></div>',1),Wn=(0,a._)("div",{class:"cs-loader d-none fixed-bottom"},[(0,a._)("div",{class:"cs-loader-inner"},[(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●"),(0,a._)("label",null,"●")])],-1),Nn={key:0},Vn={key:1};function Jn(e,t,s,n,o,r){const i=(0,a.up)("BackSwitcherButtonComponent"),c=(0,a.up)("UpButtonComponent"),d=(0,a.up)("ckeditor"),m=(0,a.up)("MailsModal"),p=(0,a.up)("UsersModal");return(0,a.wg)(),(0,a.iD)("div",Al,[(0,a._)("div",null,[(0,a.Wm)(i),(0,a.Wm)(c),(0,a._)("div",ql,[Ml,(0,a._)("header",Il,[(0,a._)("div",Cl,[Dl,(0,a._)("div",Bl,[(0,a._)("ul",Pl,[(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 createPage hover",onClick:t[0]||(t[0]=(...e)=>r.createPage&&r.createPage(...e))},"Створити статтю")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 updatePage",onClick:t[1]||(t[1]=(...e)=>r.updatePage&&r.updatePage(...e))},"Редагувати статтю")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 deletePage",onClick:t[2]||(t[2]=(...e)=>r.deletePage&&r.deletePage(...e))},"Видалити статтю")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 mailPage",onClick:t[3]||(t[3]=(...e)=>r.mailPage&&r.mailPage(...e))},"Перевірити пошту")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 usersPage",onClick:t[4]||(t[4]=(...e)=>r.usersPage&&r.usersPage(...e))},"Переглянути користувачів")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 debtorsPage",onClick:t[5]||(t[5]=(...e)=>r.debtorsPage&&r.debtorsPage(...e))},"Переглянути боржників")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 importExcel",onClick:t[6]||(t[6]=(...e)=>r.importExcelPage&&r.importExcelPage(...e))},"Імпортувати дані по рахункам")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-outline-light m-2 importOrder",onClick:t[7]||(t[7]=(...e)=>r.importOrderPage&&r.importOrderPage(...e))},"Імпортувати закупівлю")]),(0,a._)("li",null,[(0,a._)("a",{class:"btn btn-warning m-2 border border-white text-white",onClick:t[8]||(t[8]=(...e)=>r.toMainPage&&r.toMainPage(...e))},"Назад до головної")])]),(0,a._)("div",Ll,[El,(0,a._)("ul",Fl,[(0,a._)("li",$l,[(0,a._)("span",{class:"dropdown-item createPage",onClick:t[9]||(t[9]=(...e)=>r.createPage&&r.createPage(...e))},"Створити статтю")]),(0,a._)("li",Ol,[(0,a._)("span",{class:"dropdown-item updatePage",onClick:t[10]||(t[10]=(...e)=>r.updatePage&&r.updatePage(...e))},"Редагувати статтю")]),(0,a._)("li",Tl,[(0,a._)("span",{class:"dropdown-item deletePage",onClick:t[11]||(t[11]=(...e)=>r.deletePage&&r.deletePage(...e))},"Видалити статтю")]),(0,a._)("li",Ul,[(0,a._)("span",{class:"dropdown-item mailPage",onClick:t[12]||(t[12]=(...e)=>r.mailPage&&r.mailPage(...e))},"Перевірити пошту")]),(0,a._)("li",jl,[(0,a._)("span",{class:"dropdown-item usersPage",onClick:t[13]||(t[13]=(...e)=>r.usersPage&&r.usersPage(...e))},"Переглянути користувачів")]),(0,a._)("li",zl,[(0,a._)("span",{class:"dropdown-item debtorsPage",onClick:t[14]||(t[14]=(...e)=>r.debtorsPage&&r.debtorsPage(...e))},"Переглянути боржників")]),(0,a._)("li",Hl,[(0,a._)("span",{class:"dropdown-item importExcel",onClick:t[15]||(t[15]=(...e)=>r.importExcelPage&&r.importExcelPage(...e))},"Імпортувати дані по рахункам")]),(0,a._)("li",Zl,[(0,a._)("span",{class:"dropdown-item importOrder",onClick:t[16]||(t[16]=(...e)=>r.importOrderPage&&r.importOrderPage(...e))},"Імпортувати закупівлю")]),(0,a._)("li",Wl,[(0,a._)("span",{class:"dropdown-item fw-bold",onClick:t[17]||(t[17]=(...e)=>r.toMainPage&&r.toMainPage(...e))},"Назад до головної")])])])])])])]),(0,a._)("div",Nl,["create"===o.page?((0,a.wg)(),(0,a.iD)("div",Vl,[(0,a._)("div",Jl,[(0,a._)("div",Yl,[(0,a._)("div",Kl,[Rl,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"articleTitle",placeholder:"",required:"","onUpdate:modelValue":t[18]||(t[18]=e=>o.article.title=e)},null,512),[[l.nr,o.article.title]])])]),Ql,(0,a._)("div",Xl,[Gl,(0,a._)("div",ea,[(0,a.wy)((0,a._)("select",{class:"form-select",id:"articleType","onUpdate:modelValue":t[19]||(t[19]=e=>o.article.type=e)},sa,512),[[l.bM,o.article.type]])])]),(0,a._)("div",la,[(0,a._)("div",aa,[na,(0,a.Wm)(d,{editor:o.editor,modelValue:o.editorData,"onUpdate:modelValue":t[20]||(t[20]=e=>o.editorData=e),config:o.editorConfig},null,8,["editor","modelValue","config"])])]),(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[21]||(t[21]=(...e)=>r.createArticle&&r.createArticle(...e)),type:"submit"},"Опублікувати")])])):(0,a.kq)("",!0),"update"===o.page?((0,a.wg)(),(0,a.iD)("div",oa,[(0,a._)("div",ra,[(0,a._)("table",ia,[ca,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.article.articles,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("th",da,(0,u.zw)(e.id),1),(0,a._)("td",{class:"mt-1",title:e.title},(0,u.zw)(e.title.length>30?e.title.substring(0,27)+"...":e.title),9,ua),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ВСТАВИТИ В ПОШУК",onClick:(0,l.iM)((t=>r.insertToInput(e.title)),["prevent"])}," 📝 ",8,ma)])])))),128))])],512)]),(0,a._)("div",pa,[(0,a._)("div",ha,[(0,a._)("div",ga,[ba,(0,a._)("div",ya,[va,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[22]||(t[22]=e=>o.article.find=e)},null,512),[[l.nr,o.article.find]])])])]),(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[23]||(t[23]=e=>r.findArticle(null)),type:"submit"},"Знайти")]),!0===o.article.search?((0,a.wg)(),(0,a.iD)("div",wa,[(0,a._)("div",fa,[(0,a._)("div",_a,[ka,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"articleTitle",placeholder:"",required:"","onUpdate:modelValue":t[24]||(t[24]=e=>o.article.title=e)},null,512),[[l.nr,o.article.title]])])]),Sa,(0,a._)("div",xa,[Aa,(0,a._)("div",qa,[(0,a.wy)((0,a._)("select",{class:"form-select",id:"articleType","onUpdate:modelValue":t[25]||(t[25]=e=>o.article.type=e)},Ia,512),[[l.bM,o.article.type]])])]),(0,a._)("div",Ca,[(0,a._)("div",Da,[Ba,(0,a.Wm)(d,{editor:o.editor,modelValue:o.editorData,"onUpdate:modelValue":t[26]||(t[26]=e=>o.editorData=e),config:o.editorConfig},null,8,["editor","modelValue","config"])])]),(0,a._)("button",{class:"btn btn-primary btn-lg btn-block",onClick:t[27]||(t[27]=(...e)=>r.updateArticle&&r.updateArticle(...e)),type:"submit"},"Зберегти")])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),"delete"===o.page?((0,a.wg)(),(0,a.iD)("div",Pa,[(0,a._)("div",La,[(0,a._)("table",Ea,[Fa,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.article.articles,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("th",$a,(0,u.zw)(e.id),1),(0,a._)("td",{class:"mt-1",title:e.title},(0,u.zw)(e.title.length>30?e.title.substring(0,27)+"...":e.title),9,Oa),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ВСТАВИТИ В ПОШУК",onClick:(0,l.iM)((t=>r.insertToInput(e.title)),["prevent"])}," 📝 ",8,Ta)])])))),128))])],512)]),(0,a._)("div",Ua,[(0,a._)("div",ja,[(0,a._)("div",za,[Ha,(0,a._)("div",Za,[Wa,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[28]||(t[28]=e=>o.article.del=e)},null,512),[[l.nr,o.article.del]])])])]),(0,a._)("button",{class:"btn btn-danger btn-lg btn-block",onClick:t[29]||(t[29]=(...e)=>r.deleteArticle&&r.deleteArticle(...e)),type:"submit"},"Видалити"),(0,a._)("button",{class:"btn btn-outline-danger btn-lg btn-block m-3",onClick:t[30]||(t[30]=(...e)=>r.deleteAllArticles&&r.deleteAllArticles(...e)),type:"submit"},"Видалити все")])])):(0,a.kq)("",!0),"users"===o.page?((0,a.wg)(),(0,a.iD)("div",Na,[(0,a._)("div",Va,[(0,a._)("div",Ja,[(0,a._)("table",Ya,[Ka,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.users.users,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",{class:"mt-1",title:e.id},(0,u.zw)(e.id),9,Ra),(0,a._)("td",Qa,[(0,a._)("img",{src:e.avatar,width:"50"},null,8,Xa)]),(0,a._)("td",{class:"mt-1",title:e.f},(0,u.zw)(e.f),9,Ga),(0,a._)("td",{class:"mt-1",title:e.e},(0,u.zw)(e.e),9,en),(0,a._)("td",{class:"mt-1",title:"null"!==e.phone&&e.phone},(0,u.zw)("null"!==e.phone&&e.phone),9,tn),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ПЕРЕГЛЯНУТИ ДАНІ КОРИСТУВАЧА",onClick:(0,l.iM)((t=>r.showData(e)),["prevent"])}," 📝 ",8,sn)])])))),128))])],512)])])])):(0,a.kq)("",!0),"debtors"===o.page?((0,a.wg)(),(0,a.iD)("div",ln,[(0,a._)("div",an,[(0,a._)("table",nn,[on,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.debtors,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",{class:"mt-1",title:e.f},(0,u.zw)(e.f),9,rn),(0,a._)("td",{class:"mt-1",title:e.e},(0,u.zw)(e.e),9,cn),(0,a._)("td",{class:"mt-1",title:e.phone},(0,u.zw)(e.phone),9,dn),(0,a._)("td",{class:"mt-1",title:e.account},(0,u.zw)(e.account),9,un),(0,a._)("td",{class:"mt-1",title:e.all_sum},(0,u.zw)(e.all_sum),9,mn)])))),128))])],512)]),(0,a._)("div",pn,[(0,a._)("button",{class:"btn btn-danger btn-lg",onClick:t[31]||(t[31]=(...e)=>r.debtorsMail&&r.debtorsMail(...e))},"Розіслати повідомлення про борг")])])):(0,a.kq)("",!0),"mail"===o.page?((0,a.wg)(),(0,a.iD)("div",hn,[(0,a._)("div",gn,[(0,a._)("div",bn,[(0,a._)("table",yn,[vn,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.mail.messages,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",{class:"mt-1",title:e.name},(0,u.zw)(e.name),9,wn),(0,a._)("td",{class:"mt-1",title:e.email},(0,u.zw)(e.email),9,fn),(0,a._)("td",{class:"mt-1",title:"null"!==e.phone&&e.phone},(0,u.zw)("null"!==e.phone&&e.phone),9,_n),(0,a._)("td",{class:"mt-1",title:e.created_at},(0,u.zw)(e.created_at),9,kn),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ПЕРЕГЛЯНУТИ ПОВІДОМЛЕННЯ ТА ВІДПОВІСТИ",onClick:(0,l.iM)((t=>r.showMessage(e)),["prevent"])}," 📝 ",8,Sn),(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ВИДАЛИТИ ПОВІДОМЛЕННЯ",onClick:(0,l.iM)((t=>r.deleteMessage(e.id)),["prevent"])}," 🗑 ",8,xn)])])))),128))])],512)])])])):(0,a.kq)("",!0),"import"===o.page?((0,a.wg)(),(0,a.iD)("div",An,[(0,a._)("div",qn,[Mn,(0,a._)("div",In,[Cn,(0,a._)("div",Dn,[(0,a.wy)((0,a._)("select",{class:"form-select",id:"city","onUpdate:modelValue":t[32]||(t[32]=e=>o.import_data.city=e)},Ln,512),[[l.bM,o.import_data.city]])])]),(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[33]||(t[33]=(...e)=>r.importExcel&&r.importExcel(...e)),type:"submit"},"Імпортувати")])])):(0,a.kq)("",!0),"orders"===o.page?((0,a.wg)(),(0,a.iD)("div",En,[(0,a._)("div",Fn,[(0,a._)("div",$n,[(0,a._)("table",On,[Tn,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.orders,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",{class:"mt-1",title:e.filename},[(0,a._)("a",{href:`${o.url}/${e.href}`,title:"Завантажити обгрунтування",tagret:"_blank"},(0,u.zw)(e.filename.length>25?e.filename.substr(0,22)+"...":e.filename),9,jn)],8,Un),(0,a._)("td",null,[(0,a._)("a",{class:"link-offset-2 link-underline link-underline-opacity-0",title:"ВИДАЛИТИ ЗАКУПІВЛЮ",onClick:(0,l.iM)((t=>r.deleteOrder(e.id)),["prevent"])}," 🗑 ",8,zn)])])))),128))])],512)])]),(0,a._)("div",Hn,[Zn,(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[34]||(t[34]=(...e)=>r.importOrder&&r.importOrder(...e)),type:"submit"},"Імпортувати")])])):(0,a.kq)("",!0)]),Wn,o.mail.modal?((0,a.wg)(),(0,a.iD)("div",Nn,[(0,a.Wm)(m,{mail:o.mail,disabledMenu:r.disabledMenu,unDisabledMenu:r.unDisabledMenu,currentyMessage:e.currentyMessage},null,8,["mail","disabledMenu","unDisabledMenu","currentyMessage"])])):(0,a.kq)("",!0),o.users.modal?((0,a.wg)(),(0,a.iD)("div",Vn,[(0,a.Wm)(p,{users:o.users},null,8,["users"])])):(0,a.kq)("",!0)])])}const Yn={class:"modal d-block",tabindex:"-1"},Kn={class:"modal-dialog modal-dialog-scrollable"},Rn={class:"modal-content"},Qn={class:"modal-header"},Xn={class:"modal-title"},Gn={class:"modal-body"},eo={class:"table-responsive"},to={class:"table-bordered border-primary text-center"},so=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",{class:"p-2",scope:"col"},"#"),(0,a._)("th",{class:"p-2",scope:"col"},"Номер о/р"),(0,a._)("th",{class:"p-2",scope:"col"},"Місто"),(0,a._)("th",{class:"p-2",scope:"col"},"Адреса"),(0,a._)("th",{class:"p-2",scope:"col"},"Послуга")])],-1),lo={class:"p-2"},ao={class:"p-2"},no={class:"p-2"},oo={class:"p-2"},ro={class:"p-2"},io={class:"mt-3"},co=["onClick"],uo=["src"],mo={class:"mx-2"},po={class:"text-decoration-underline"},ho={class:"modal-footer"};function go(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",Yn,[(0,a._)("div",Kn,[(0,a._)("div",Rn,[(0,a._)("div",Qn,[(0,a._)("h6",Xn,(0,u.zw)(s.users.currentUser.f),1),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=e=>s.users.modal=!1)})]),(0,a._)("div",Gn,[(0,a._)("div",eo,[(0,a._)("table",to,[so,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.users.currentAccounts,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",lo,(0,u.zw)(e.id),1),(0,a._)("td",ao,(0,u.zw)(e.account),1),(0,a._)("td",no,(0,u.zw)(e.city),1),(0,a._)("td",oo,(0,u.zw)(e.address),1),(0,a._)("td",ro,(0,u.zw)(e.service),1)])))),128))])])]),(0,a._)("div",io,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.users.accountsId,(e=>((0,a.wg)(),(0,a.iD)("a",{key:e.id,type:"button",class:"w-100 btn btn-sm btn-outline-danger shadow shadow-danger my-1",target:"_blank",onClick:t=>o.download(e.account,e.city)},[(0,a._)("img",{src:n.xlsx,width:"30",height:"30",alt:"xlsx.png"},null,8,uo),(0,a._)("span",mo,[(0,a.Uk)("Завантажити борги по рахунку "),(0,a._)("span",po,(0,u.zw)(e.account),1)])],8,co)))),128))])]),(0,a._)("div",ho,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=e=>s.users.modal=!1)},"Закрити")])])])])}var bo={name:"UsersModal",mixins:[],props:{users:Object},data(){return{url:this.$store.getters.getUrl,xlsx:Ee}},methods:{download(e,t){window.open(`${this.url}/billings/save?account=${e}&city=${t}`)}}};const yo=(0,r.Z)(bo,[["render",go]]);var vo=yo;const wo={class:"modal d-block",tabindex:"-1"},fo={class:"modal-dialog"},_o={class:"modal-content"},ko={class:"modal-header"},So={class:"modal-title"},xo={class:"modal-body"},Ao={class:"m-0"},qo=(0,a._)("hr",{class:"m-0"},null,-1),Mo={class:"modal-body"},Io={class:"mb-3"},Co=(0,a._)("label",{for:"city"},[(0,a.Uk)("Відповісти "),(0,a._)("span",{class:"text-danger"},"*")],-1),Do={class:"input-group"},Bo={class:"modal-footer"};function Po(e,t,s,n,o,r){return(0,a.wg)(),(0,a.iD)("div",wo,[(0,a._)("div",fo,[(0,a._)("div",_o,[(0,a._)("div",ko,[(0,a._)("h6",So,"Повідомлення від "+(0,u.zw)(s.currentyMessage.name),1),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:t[0]||(t[0]=e=>s.mail.modal=!1)})]),(0,a._)("div",xo,[(0,a._)("p",Ao,(0,u.zw)(s.currentyMessage.message),1)]),qo,(0,a._)("div",Mo,[(0,a._)("div",Io,[Co,(0,a._)("div",Do,[(0,a.wy)((0,a._)("textarea",{class:"form-control w-100",style:{resize:"none"},rows:"5","onUpdate:modelValue":t[1]||(t[1]=e=>s.mail.answer=e)},null,512),[[l.nr,s.mail.answer]])])]),(0,a._)("button",{class:"btn btn-warning btn-lg btn-block",onClick:t[2]||(t[2]=e=>r.answerMail(s.currentyMessage.email)),type:"submit"},"Відповісти")]),(0,a._)("div",Bo,[(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=e=>s.mail.modal=!1)},"Закрити")])])])])}var Lo={name:"MailsModal",mixins:[Le],props:{mail:Object,currentyMessage:Object,unDisabledMenu:Function,disabledMenu:Function},mounted(){ue().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1300,toastClass:"custom-toast"}},methods:{async answerMail(e){const t=this.mail.answer;if(0!==t.replaceAll(" ","").length){this.disabledMenu();try{const s=await this.answerMailFunc(e,t);return 200===s.status?(this.unDisabledMenu(),ue().success(s.message)):(this.unDisabledMenu(),ue().error(s.message))}catch(s){console.error(s),ue().error(s)}}return this.unDisabledMenu(),ue().info("Ви не можете відправити пусте повідомлення!")}}};const Eo=(0,r.Z)(Lo,[["render",Po]]);var Fo=Eo,$o=(s(9498),s(4012),s(7387)),Oo=s.n($o),To=s(6713),Uo=s.n(To),jo={name:"AdminPage",components:{UpButtonComponent:We,BackSwitcherButtonComponent:os,UsersModal:vo,MailsModal:Fo},mixins:[Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le,Le],data(){return{debtors:[],url:this.$store.getters.getUrl,orders:null,editor:Uo(),editorData:"",editorConfig:{},currentYear:(new Date).getFullYear(),url:this.$store.getters.getUrl,page:"create",article:{title:null,text:null,link:null,find:null,type:null,del:null,articles:null,search:!1},import_data:{city:"Гвардійське"},mail:{messages:[{id:1,name:"ЖИЛСЕРВІС",email:"zhylservise@gmail.com",message:"Вітаю, працівник ЖИЛСЕРВІСу!"}],modal:!1,currentyMessage:null,answer:""},users:{users:[{id:1,f:"ЖИЛСЕРВІС",e:"zhylservise@gmail.com"}],modal:!1,currentUser:{id:1,f:"ЖИЛСЕРВІС",e:"zhylservise@gmail.com"},currentAccounts:[],accountsId:[]}}},created(){this.auth(),this.clearArticleOptions()},mounted(){this.theme(),ue().options={closeButton:!0,progressBar:!0,positionClass:"toast-top-center",timeOut:1600,toastClass:"custom-toast"}},updated(){this.pagination()},methods:{async usersFunc(){var e,t=sessionStorage.getItem("usersStorage"),s=!0,l={request:null,created_at:(new Date).getTime()};function a(e){l.request=e,l=JSON.stringify(l),sessionStorage.setItem("usersStorage",l)}try{null!==t?(t=JSON.parse(t),(new Date).getTime()-t["created_at"]<=3e5?(s=!1,e=t["request"]):e=await this.showUsersFunc()):e=await this.showUsersFunc(),200===e["status"]?(this.users.users=e["message"],!0===s&&a(e)):ue().error(e["message"])}catch(n){console.error(n),ue().error("Користувачі відсутні!")}},theme(){const e=document.querySelector(".title-block"),t=document.querySelector(".up-button"),s=document.querySelector(".burger-btn"),l=document.querySelector("#authModalButton"),a=[e,t,l,s],n=localStorage.getItem("theme");var o="bg-success";null!==n&&(2==n?o="bg-secondary":3==n&&(o="bg-dark")),a.forEach((e=>{null!==e&&e.classList.add(o)}))},async showMails(){try{const e=await this.showMailsFunc();200===e["status"]?this.mail.messages=e["message"]:ue().error(e["message"])}catch(e){console.error(e),ue().error("Повідомлення відсутні!")}},showMessage(e){this.currentyMessage=e,this.mail.modal=!0},async selectAccounts(e){this.disabledMenu();try{const t=await this.selectAccountsFunc(e);if(200===t.status){this.users.currentAccounts=t.message;const e=[];return t.message.forEach((t=>{var s=e.some((e=>e["account"]===t["account"]));!1===s&&e.push({account:t["account"],city:t["city"]})})),this.users.accountsId=[...new Set(e)],this.unDisabledMenu(),!0}return ue().error(t.message),this.unDisabledMenu(),!1}catch(t){return console.error(t),ue().error("Особових рахунків не знайдено!"),this.unDisabledMenu(),!1}},async showData(e){const t=await this.selectAccounts(e.id);t&&(this.users.currentUser=e,this.users.modal=!0)},async deleteMessage(e){this.disabledMenu();try{const t=await this.deleteMessageFunc(e);200===t.status?(ue().success(t.message),this.mailPage()):ue().error(t.message)}catch(t){console.error(t),ue().error(t)}this.unDisabledMenu()},async deleteOrder(e){this.disabledMenu();try{const t=await this.deleteOrderFunc(e);ue().info(t.message),200===t.status&&(sessionStorage.removeItem("orders"),localStorage.removeItem("orders"),this.orders=null,this.importOrderPage())}catch(t){console.error(t),ue().error(t)}this.unDisabledMenu()},async debtorsMail(){this.disabledMenu();try{const t=this.debtors;t.forEach((async e=>{if(null!==e.phone)try{var t=await this.debtors_phone_mail(e.f,e.e,e.phone,e.account,e.all_sum);console.log(t.message)}catch(s){console.error(s)}}));var e=await this.debtors_mail(t);console.log(e.message)}catch(t){console.error(t)}return ue().info("Повідомлення розіслані!"),this.unDisabledMenu()},pagination(){Oo()(".table")&&(Oo()(this.$refs.myTable).DataTable().destroy(),Oo()(this.$refs.myTable).DataTable({paging:!0,lengthChange:!1,pageLength:10,searching:!0,ordering:!0,info:!1,autoWidth:!1,language:{search:"Пошук:",zeroRecords:"Співпадінь не знайдено",paginate:{first:"Перша",last:"Остання",next:"Наступна",previous:"Попередня"}}}))},disabledMenu(e=null){e&&(this.page=null),document.querySelector("#app").style.pointerEvents="none",document.querySelector(".cs-loader").classList.remove("d-none")},unDisabledMenu(){document.querySelector("#app").style.pointerEvents="auto",document.querySelector(".cs-loader").classList.add("d-none")},insertToInput(e){"update"===this.page?this.article.find=e:this.article.del=e},toMainPage(){this.$router.push({name:"welcome"})},clearArticleOptions(e){"title"!==e&&(this.article.title=null),"text"!==e&&(this.editorData=""),"del"!==e&&(this.article.del=null),"link"!==e&&(this.article.link=null),"find"!==e&&(this.article.find=null),"type"!==e&&(this.article.type=null),"articles"!==e&&(this.article.articles=null),"tisearchtle"!==e&&(this.article.search=!1),null!==document.querySelector("input[type='file']")&&(document.querySelector("input[type='file']").value="")},removeHoverClass(){var e=document.querySelectorAll("ul > li > a");e.forEach((e=>{e.classList.remove("hover")}))},auth(){const e=sessionStorage.getItem("admin");if(!e)return this.clearArticleOptions(),this.$router.push({name:"welcome"})},createPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1),document.querySelector(".createPage").classList.add("hover"),this.page="create",this.unDisabledMenu()},async debtorsFunc(){try{const t=await this.all_debtors();if(200===t["status"]){var e=t["message"];e.forEach((e=>{if(0!==this.debtors.length){var t=this.debtors.some((t=>t["account"]===e["account"]));!1===t&&this.debtors.push(e)}else this.debtors.push(e)})),sessionStorage.setItem("debtors",JSON.stringify(this.debtors))}else ue().error(t["message"])}catch(t){console.error(t),ue().error("Боржники відсутні!")}},async debtorsPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1);var e=sessionStorage.getItem("debtors");null!==e?(e=JSON.parse(e),this.debtors=e):await this.debtorsFunc(),document.querySelector(".debtorsPage").classList.add("hover"),this.page="debtors",this.unDisabledMenu()},importExcelPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1),document.querySelector(".importExcel").classList.add("hover"),this.page="import",this.unDisabledMenu()},async showOrders(){try{const e=await this.showOrdersFunc();200===e["status"]?(this.orders=e["message"],localStorage.setItem("orders",JSON.stringify(e["message"]))):ue().error(e["message"])}catch(e){console.error(e),ue().error("Обгрунтовані закупівлі відсутні!")}},async importOrderPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1);var e=localStorage.getItem("orders");null!==e?(e=JSON.parse(e),this.orders=e):await this.showOrders(),document.querySelector(".importOrder").classList.add("hover"),this.page="orders",this.unDisabledMenu()},async mailPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1),await this.showMails(),document.querySelector(".mailPage").classList.add("hover"),this.page="mail",this.unDisabledMenu()},async usersPage(){this.clearArticleOptions(),this.removeHoverClass(),this.disabledMenu(1),await this.usersFunc(),document.querySelector(".usersPage").classList.add("hover"),this.page="users",this.unDisabledMenu()},async getAllArticles(){try{var e,t=localStorage.getItem("articles");if(null!==t){t=JSON.parse(t);const s=t.updated_at;e=(new Date).getTime()-s<3e5?t.request:await this.getAllArticlesFunc()}else e=await this.getAllArticlesFunc();if(200===e.status){this.article.articles=e.result;const t={request:e,updated_at:(new Date).getTime()};localStorage.setItem("articles",JSON.stringify(t))}}catch(s){console.error(s),this.getAllArticles()}},async updatePage(){await this.clearArticleOptions(),await this.removeHoverClass(),await this.disabledMenu(1),document.querySelector(".updatePage").classList.add("hover");try{await this.getAllArticles()}catch(e){console.error(e),await this.updatePage()}this.page="update",await this.unDisabledMenu()},async deletePage(){await this.clearArticleOptions(),await this.removeHoverClass(),await this.disabledMenu(1),document.querySelector(".deletePage").classList.add("hover");try{await this.getAllArticles()}catch(e){await console.error(e),this.deletePage()}this.page="delete",await this.unDisabledMenu()},async importExcel(){var e=this.import_data.city,t=document.getElementById("importFile");if(t=t.files,0!==t.length){this.disabledMenu();try{const s=await this.importExcelFunc(t[0],e);ue().info(s.message)}catch(s){ue().error(s),console.error(s)}finally{this.unDisabledMenu()}}else ue().info("Виберіть файл!")},async importOrder(){var e=document.getElementById("importFile");if(e=e.files,0!==e.length){this.disabledMenu();try{const t=await this.uploadOrderFunc(e[0]);ue().info(t.message),200===t.status&&(sessionStorage.removeItem("orders"),localStorage.removeItem("orders"),this.importOrderPage())}catch(t){ue().error(t),console.error(t)}finally{this.unDisabledMenu()}}else ue().info("Виберіть файл!")},async updateArticle(){this.disabledMenu();var e=this.article.title,t=this.editorData,s=this.article.type,l=document.querySelector("input[type='file']").files,a=[];if(null!==e&&null!==t&&null!==s)if(0!==e.replaceAll(" ","").length&&0!==t.replaceAll(" ","").length){e=this.replaceSymbols(e),t=this.replaceSymbols(t);try{const a=localStorage.getItem("articleTitle"),n=await this.updateArticleFunc(a,e,t,s,l);if(this.clearArticlesStorage(),n.canceledImages.length>0){const e=n.canceledImages.join(", ");1===n.canceledImages.length?ue().success(`Стаття успішно оновлена, окрім ${e} через не вірне розширення зображення!`):ue().warning(`Стаття успішно оновлена, окрім ${e} через не вірне розширення зображень!`)}else ue().success(n.result);this.clearArticleOptions(),this.updatePage()}catch(n){ue().error(n),console.error(n)}}else 0===e.replaceAll(" ","").length&&a.push("назва статті"),0===t.replaceAll(" ","").length&&a.push("текст статті"),a=a.length>1?a.join(", "):a[0],ue().error(`Не заповнені обов'язкові поля: ${a}!`);else null===e&&a.push("назва статті"),null===t&&a.push("текст статті"),null===s&&a.push("тип статті"),a=a.lenght>1?a.join(", "):a[0],ue().error(`Не заповнені обов'язкові поля: ${a}!`);this.unDisabledMenu()},replaceSymbols(e){return e.trim()},async createArticle(){this.disabledMenu();var e=this.article.title,t=this.editorData,s=this.article.type,l=document.querySelector("input[type='file']").files,a=[];if(null!==e&&null!==t&&0!==l.length&&null!==s)if(0!==e.replaceAll(" ","").length&&0!==t.replaceAll(" ","").length&&0!==l.length){e=this.replaceSymbols(e),t=this.replaceSymbols(t);try{const a=await this.createArticleFunc(e,t,s,l);if(200===a.status)if(this.clearArticlesStorage(),a.canceledImages.length>0){const e=a.canceledImages.join(", ");1===a.canceledImages.length?ue().warning(`Стаття успішно оновлена, окрім ${e} через не вірне розширення зображення!`):ue().warning(`Стаття успішно оновлена, окрім ${e} через не вірне розширення зображень!`)}else ue().success(a.result);else ue().error(a.result)}catch(n){ue().error("Стаття з таким ім'ям вже існує!"),console.error(n)}}else 0===e.replaceAll(" ","").length&&a.push("назва статті"),0===t.replaceAll(" ","").length&&a.push("текст статті"),0===l.length&&a.push("зображення для статті"),a=a.length>1?a.join(", "):a[0],ue().error(`Не заповнені обов'язкові поля: ${a}!`);else null===e&&a.push("назва статті"),null===t&&a.push("текст статті"),null===s&&a.push("тип статті"),0===l.length&&a.push("зображення для статті"),a=a.lenght>1?a.join(", "):a[0],ue().error(`Не заповнені обов'язкові поля: ${a}!`);this.unDisabledMenu()},clearArticlesStorage(){var e=localStorage.getItem("articles");null!==e&&localStorage.removeItem("articles")},async deleteArticle(){this.disabledMenu();const e=this.article.del;if(null===e)ue().error("Вибачте, та назва статті - це обов'язковий параметр!");else if(0===e.replaceAll(" ","").length)ue().error("Вибачте, та назва статті - це обов'язковий параметр!");else try{const s=await this.deleteArticleFunc(e);if(200===s.status){try{this.clearArticlesStorage();const e=await this.getAllArticlesFunc();200===e.status&&(e.result.length>0?this.article.articles=e.result:this.article.articles=null)}catch(t){console.error(t)}this.article.del=null}ue().warning(s.result),this.deletePage()}catch(t){ue().error(t),console.error(t)}this.unDisabledMenu()},async deleteAllArticles(){const e=prompt("Ви впевнені, що хочете видалити весь матеріал?","Так/Ні");if(e&&"так"===e.toLowerCase()){this.disabledMenu();try{const e=await this.deleteAllArticlesFunc();200===e.status&&(this.clearArticlesStorage(),this.article.articles=null,this.article.del=null,this.deletePage()),ue().warning(e.result)}catch(t){ue().error(t),console.error(t)}this.unDisabledMenu()}else ue().info("Відміна видалення ...")},async findArticle(e=null){const t=null!==e?e:this.article.find;if(this.article.find=null!==e?e:this.article.find,this.disabledMenu(),null===t)ue().error("Вибачте, та назва статті - це обов'язковий параметр!");else if(0===t.replaceAll(" ","").length)ue().error("Вибачте, та назва статті - це обов'язковий параметр!");else try{const e=await this.getArticleFunc(t);200===e.status?(this.article.search=!0,this.article.title=e.result.title,this.editorData=e.result.text,this.article.type=e.result.articleType,localStorage.setItem("articleTitle",e.result.title),setTimeout((()=>{var t=document.getElementById("articleType");null!==this.article.type&&(1==this.article.type?t.options[0].selected=!0:t.options[1].selected=!0),window.scrollTo(0,1e4),this.imagesLoading(e.result.images,e.result.title)}),1)):ue().error(e.result)}catch(s){ue().error(s),console.error(s)}this.unDisabledMenu()},imagesLoading(e,t){document.querySelector("input[type='file']").value="";const s=document.querySelector(".imagesSet");s.innerHTML="";const l=e;l.forEach((e=>{if(e.length>0){const l=`${this.url}/articles/image/${e}`,a=document.createElement("div"),n=document.createElement("a"),o=document.createElement("img"),r=document.createElement("span");o.style.width="100px",o.style.height="100px",o.classList.add("m-2"),o.src=l,n.href=l,n.target="_blank",n.append(o),r.innerText="x",r.style.cursor="pointer",r.setAttribute("filename",e),r.setAttribute("article",t),a.classList.add("d-flex"),a.append(n),a.append(r),s.prepend(a),r.addEventListener("click",(async e=>{this.disabledMenu();const t=r.getAttribute("article"),s=r.getAttribute("filename"),l=await this.deleteArticleImage(t,s);200===l.status?a.remove(e):ue().error(l.result),this.unDisabledMenu()}))}}))}}};const zo=(0,r.Z)(jo,[["render",Jn]]);var Ho=zo;const Zo={class:"d-flex align-items-center justify-content-center w-100",style:{height:"100vh"}};function Wo(e,t,s,l,n,o){return(0,a.wg)(),(0,a.iD)("div",Zo)}var No={name:"SessionView",props:{data:Object},mounted(){const e=JSON.parse(this.data);200===e.status?(sessionStorage.setItem("userFullInfo",JSON.stringify(e.user)),sessionStorage.setItem("user",e.user.f)):sessionStorage.setItem("alert",e.user),this.$router.push({name:"welcome"})}};const Vo=(0,r.Z)(No,[["render",Wo]]);var Jo=Vo;const Yo=(0,d.p7)({mode:"history",history:(0,d.PO)(),routes:[{path:"/",component:Vs,name:"welcome"},{path:"/user/profile",component:xl,name:"profile"},{path:"/admin",component:Ho,name:"admin"},{path:"/session/",component:Jo,name:"session",props:e=>({data:e.query.data})}]});var Ko=Yo,Ro=s(9907),Qo=s.n(Ro),Xo=s(65);const Go=(0,Xo.MT)({state:{url:"https://zhylservice-prod-dfcc31fdb708.herokuapp.com",awsSnsApiKey:"QofUz0TfWU7cEjg2tDAMW5eRM6tGKujj5locX6vW",awsSnsApiUrl:"https://ztyyggkrf7.execute-api.us-east-1.amazonaws.com/SendMessageToPhone",confirmedWindow:!1},getters:{getUrl(e){return e.url},getAwsSnsApiKey(e){return e.awsSnsApiKey},getAwsSnsApiUrl(e){return e.awsSnsApiUrl},getConfirmedWindowState(e){return e.confirmedWindow}},mutations:{editConfirmedWindowState(e){e.confirmedWindow=!e.confirmedWindow}}});var er=Go,tr=s(5431);(0,tr.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});const sr=(0,l.ri)(c);sr.use(Qo()),sr.use(er),sr.use(Ko),sr.mount("#app")}},t={};function s(l){var a=t[l];if(void 0!==a)return a.exports;var n=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=e,function(){s.amdD=function(){throw new Error("define cannot be used indirect")}}(),function(){var e=[];s.O=function(t,l,a,n){if(!l){var o=1/0;for(d=0;d<e.length;d++){l=e[d][0],a=e[d][1],n=e[d][2];for(var r=!0,i=0;i<l.length;i++)(!1&n||o>=n)&&Object.keys(s.O).every((function(e){return s.O[e](l[i])}))?l.splice(i--,1):(r=!1,n<o&&(o=n));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[l,a,n]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var l in t)s.o(t,l)&&!s.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,n,o=l[0],r=l[1],i=l[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(a in r)s.o(r,a)&&(s.m[a]=r[a]);if(i)var d=i(s)}for(t&&t(l);c<o.length;c++)n=o[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(d)},l=self["webpackChunkproject"]=self["webpackChunkproject"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=s.O(void 0,[998],(function(){return s(3322)}));l=s.O(l)})();
//# sourceMappingURL=app.605ba502.js.map